function _aureliaConfigureModuleLoader(){requirejs.config({baseUrl:"src/",paths:{"aurelia-dependency-injection":"..\\node_modules\\aurelia-dependency-injection\\dist\\amd\\aurelia-dependency-injection","aurelia-binding":"..\\node_modules\\aurelia-binding\\dist\\amd\\aurelia-binding","aurelia-fetch-client":"..\\node_modules\\aurelia-fetch-client\\dist\\amd\\aurelia-fetch-client","aurelia-event-aggregator":"..\\node_modules\\aurelia-event-aggregator\\dist\\amd\\aurelia-event-aggregator","aurelia-history":"..\\node_modules\\aurelia-history\\dist\\amd\\aurelia-history","aurelia-bootstrapper":"..\\node_modules\\aurelia-bootstrapper\\dist\\amd\\aurelia-bootstrapper","aurelia-framework":"..\\node_modules\\aurelia-framework\\dist\\amd\\aurelia-framework","aurelia-logging":"..\\node_modules\\aurelia-logging\\dist\\amd\\aurelia-logging","aurelia-loader":"..\\node_modules\\aurelia-loader\\dist\\amd\\aurelia-loader","aurelia-metadata":"..\\node_modules\\aurelia-metadata\\dist\\amd\\aurelia-metadata","aurelia-pal":"..\\node_modules\\aurelia-pal\\dist\\amd\\aurelia-pal","aurelia-pal-browser":"..\\node_modules\\aurelia-pal-browser\\dist\\amd\\aurelia-pal-browser","aurelia-path":"..\\node_modules\\aurelia-path\\dist\\amd\\aurelia-path","aurelia-polyfills":"..\\node_modules\\aurelia-polyfills\\dist\\amd\\aurelia-polyfills","aurelia-route-recognizer":"..\\node_modules\\aurelia-route-recognizer\\dist\\amd\\aurelia-route-recognizer","aurelia-router":"..\\node_modules\\aurelia-router\\dist\\amd\\aurelia-router","aurelia-templating":"..\\node_modules\\aurelia-templating\\dist\\amd\\aurelia-templating","aurelia-task-queue":"..\\node_modules\\aurelia-task-queue\\dist\\amd\\aurelia-task-queue","aurelia-logging-console":"..\\node_modules\\aurelia-logging-console\\dist\\amd\\aurelia-logging-console","aurelia-history-browser":"..\\node_modules\\aurelia-history-browser\\dist\\amd\\aurelia-history-browser","aurelia-loader-default":"..\\node_modules\\aurelia-loader-default\\dist\\amd\\aurelia-loader-default",papaparse:"..\\node_modules\\papaparse\\papaparse","aurelia-templating-binding":"..\\node_modules\\aurelia-templating-binding\\dist\\amd\\aurelia-templating-binding",text:"..\\node_modules\\text\\text","app-bundle":"../scripts/app-bundle-c582623cfc"},packages:[{name:"aurelia-dialog",location:"../node_modules/aurelia-dialog/dist/amd",main:"aurelia-dialog"},{name:"aurelia-templating-resources",location:"../node_modules/aurelia-templating-resources/dist/amd",main:"aurelia-templating-resources"},{name:"aurelia-templating-router",location:"../node_modules/aurelia-templating-router/dist/amd",main:"aurelia-templating-router"}],stubModules:[],shim:{},bundles:{"app-bundle":["environment","main","resources/index","resources/models/billing-type","resources/models/customer","resources/models/foreman","resources/models/job-status","resources/models/job-type","resources/models/job","resources/models/work-type","resources/services/auth","resources/services/config","resources/services/csv-export","resources/services/log","resources/services/notifications","resources/services/utils","resources/views/app","resources/views/login","resources/services/data/activities-service","resources/services/data/customer-service","resources/services/data/db","resources/services/data/job-service","resources/views/calendar/calendar","resources/views/calendar/event-popup","resources/views/controls/integer-value-converter","resources/views/controls/nav-bar","resources/views/controls/prompt","resources/views/jobs/close-job","resources/views/jobs/detail","resources/views/jobs/list-item","resources/views/jobs/list","resources/views/jobs/new","resources/views/customers/edit","resources/views/customers/list","text!resources/../../package.json","aurelia-dialog/ai-dialog","aurelia-dialog/ai-dialog-header","aurelia-dialog/dialog-controller","aurelia-dialog/lifecycle","aurelia-dialog/dialog-result","aurelia-dialog/ai-dialog-body","aurelia-dialog/ai-dialog-footer","aurelia-dialog/attach-focus","aurelia-dialog/dialog-configuration","aurelia-dialog/renderer","aurelia-dialog/dialog-renderer","aurelia-dialog/dialog-options","aurelia-dialog/dialog-service","styles/calendar","styles/customer-list","styles/edit-customer-dialog","styles/job-detail","styles/job-list","styles/login","styles/styles"]}})}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var e,t,n;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var a;try{throw new Error}catch(e){a=e}var u=e("./schedule"),c=e("./queue"),l=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=a},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},a=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new e(t);l._propagateFrom(this,1);var d=this._target();if(l._setBoundTo(c),c instanceof e){var f={promiseRejectionQueued:!1,promise:l,target:d,bindingPromise:c};d._then(t,s,void 0,l,f),c._then(a,u,void 0,l,f),l._setOnCancel(c)}else l._resolveCallback(d);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var s,a=e("./util"),u=a.canEvaluate;a.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(u){var r=s(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),s=o.tryCatch,a=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=s(e).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,a){return function(u){var c=a._boundValue();e:for(var l=0;l<e.length;++l){var d=e[l];if(d===Error||null!=d&&d.prototype instanceof Error){if(u instanceof d)return o(n).call(c,u)}else if("function"==typeof d){var f=o(d).call(c,u);if(f===s)return f;if(f)return o(n).call(c,u)}else if(r.isObject(u)){for(var h=i(d),p=0;p<h.length;++p){var v=h[p];if(d[v]!=u[v])continue e}return o(n).call(c,u)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,s=e._peekContext,a=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=s,e.prototype._peekContext=a,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t){return{promise:t}}function i(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+N.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?N.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function a(){return this._onCancelField}function u(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new R(this._peekContext())}function p(e,t){if(q(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=S(e);N.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),N.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,n,r,i){if(void 0===e&&null!==t&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(t._trace){for(var a=t._trace.stack.split("\n"),u=_(a),c=u.length-1;c>=0;--c){var l=u[c];if(!H.test(l)){var d=l.match(V);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(u.length>0)for(var f=u[0],c=0;c<a.length;++c)if(a[c]===f){c>0&&(s="\n"+a[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,t)}}function g(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),m(n)}function m(e,n,r){if(oe.warnings){var i,o=new F(e);if(n)r._attachExtraTrace(o);else if(oe.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var s=S(o);o.stack=s.message+"\n"+s.stack.join("\n")}ee("warning",o)||k(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function b(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(t[i]!==u)break;t.pop(),i--}t=r}}function _(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||z.test(r),o=i&&ne(r);i&&!o&&(W&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||z.test(r))break}return n>0&&(t=t.slice(n)),t}function S(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:_(t)}}function k(e,t,n){if("undefined"!=typeof console){var r;if(N.isObject(e)){var i=e.stack;r=t+U(i,e)}else r=t+String(e);"function"==typeof P?P(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function C(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){L.throwLater(e)}"unhandledRejection"===e?ee(e,n,r)||i||k(n,"Unhandled rejection "):ee(e,r)}function E(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():N.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+T(t)+">, no stack trace)"}function T(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function O(){return"function"==typeof ie}function A(e){var t=e.match(re);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function D(e,t){if(O()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=A(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=A(o[u]);if(c){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(ne=function(e){if(B.test(e))return!0;var t=A(e);return!!(t&&t.fileName===n&&s<=t.line&&t.line<=a)})}}function R(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ie(this,R),t>32&&this.uncycle()}var j,M,P,I=t._getDomain,L=t._async,F=e("./errors").Warning,N=e("./util"),q=N.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,H=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,z=null,U=null,W=!1,Y=!(0==N.env("BLUEBIRD_DEBUG")),$=!(0==N.env("BLUEBIRD_WARNINGS")||!Y&&!N.env("BLUEBIRD_WARNINGS")),G=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!Y&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&($||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),L.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",j,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",M,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return m(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=I();M="function"==typeof e?null===t?e:N.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=I();j="function"==typeof e?null===t?e:N.domainBind(t,e):void 0};var Q=function(){};t.longStackTraces=function(){if(L.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!oe.longStackTraces&&O()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;oe.longStackTraces=!0,Q=function(){if(L.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),L.enableTrampoline(),oe.longStackTraces=!1},t.prototype._captureStackTrace=h,t.prototype._attachExtraTrace=p,n.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return oe.longStackTraces&&O()};var X=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return N.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!N.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return N.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!N.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!N.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),J=function(){return N.isNode?function(){return process.emit.apply(process,arguments)}:N.global?function(e){var t="on"+e.toLowerCase(),n=N.global[t];return!!n&&(n.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),Z={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},ee=function(e){var t=!1;try{t=J.apply(null,arguments)}catch(e){L.throwLater(e),t=!0}var n=!1;try{n=X(e,Z[e].apply(null,arguments))}catch(e){L.throwLater(e),n=!0}return n||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&Q()),"warnings"in e){var n=e.warnings;oe.warnings=!!n,K=oe.warnings,N.isObject(n)&&"wForgottenReturn"in n&&(K=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!oe.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=l,t.prototype._onCancel=a,t.prototype._setOnCancel=u,t.prototype._attachCancellationCallback=s,t.prototype._execute=o,te=l,oe.cancellation=!0}"monitoring"in e&&(e.monitoring&&!oe.monitoring?(oe.monitoring=!0,t.prototype._fireEvent=ee):!e.monitoring&&oe.monitoring&&(oe.monitoring=!1,t.prototype._fireEvent=i))},t.prototype._fireEvent=i,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var te=d,ne=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(R,Error),n.CapturedTrace=R,R.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var s=t[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;a<e-1?(u._parent=t[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)t[l]._length=c,c++;return}}}},R.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=S(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(_(i.stack.split("\n"))),i=i._parent;w(r),b(r),N.notEnumerableProp(e,"stack",y(n,r)),N.notEnumerableProp(e,"__stackCleaned__",!0)}};var ie=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():E(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,z=e,U=t;var n=Error.captureStackTrace;return ne=function(e){return B.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return z=/@/,U=t,W=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(U=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?E(t):t.toString()},null):(z=e,U=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(P=function(e){console.warn(e)},N.isNode&&process.stderr.isTTY?P=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(P=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var oe={warnings:$,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&t.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return f},checkForgottenReturns:v,setBounds:D,warn:m,deprecated:g,CapturedTrace:R,fireDomEvent:X,fireGlobalEvent:J}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(d(this,"message","string"==typeof r?r:t),d(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(e){return this instanceof i?(d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,s,a=e("./es5"),u=a.freeze,c=e("./util"),l=c.inherits,d=c.notEnumerableProp,f=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(e){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(v.prototype[g[m]]=Array.prototype[g[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var y=0;v.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},l=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(e){return s}},f=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:f,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:d,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function i(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function a(e){if(!o(this,e))return d.e=e,d}function u(e){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),e);if(void 0!==c){r._setReturnedNonUndefined();var f=n(c,r);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var h=new l("late cancellation observer");
return r._attachExtraTrace(h),d.e=h,d}f.isPending()&&f._attachCancellationCallback(new i(this))}return f._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),d.e=e,d):(o(this),e)}var c=e("./util"),l=t.CancellationError,d=c.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new r(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},r}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(e);if(r._popContext(),s===f){r._pushContext();var a=t.reject(f.e);return r._popContext(),a}var u=i(s,r);if(u instanceof t)return u}return null}function u(e,n,i,o){if(s.cancellation()){var a=new t(r),u=this._finallyPromise=new t(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new t(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),l=c.TypeError,d=e("./util"),f=d.errorObj,h=d.tryCatch,p=[];d.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),e=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=h(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(e){var n=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=u,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=t,o._promiseFulfilled(void 0),s}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+d.classString(e));p.push(e)},t.spawn=function(e){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(e,n,s,o).promise()}var c=t._getDomain,l=e("./util"),d=l.tryCatch,f=l.errorObj,h=t._async;l.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==a&&(a[n]=e);var c=this._promise,l=this._callback,h=c._boundValue();c._pushContext();var p=d(l).call(h,e,n,o),v=c._popContext();if(s.checkForgottenReturns(p,v,null!==a?"Promise.filter":"Promise.map",c),p===f)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof t){g=g._target();var m=g._bitField;if(0===(50397184&m))return u>=1&&this._inFlight++,r[n]=g,g._proxy(this,(n+1)*-1),!1;if(0===(33554432&m))return 0!==(16777216&m)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}r[n]=p}var y=++this._totalResolved;return y>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return u(this,e,t,null)},t.map=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var s=e("./util"),a=s.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+s.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=a(e).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+s.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(e).apply(l,c):a(e).call(l,c)}else u=a(e)();var d=r._popContext();return o.checkForgottenReturns(u,d,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(e){e===s.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),i=0;i<n.length;++i){var o=n[i];d.test(o)||(t[o]=e[o])}return t}return s.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(a(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(r);e=null}}}var s=e("./util"),a=s.maybeWrapAsError,u=e("./errors"),c=u.OperationalError,l=e("./es5"),d=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=a(t).apply(n._boundValue(),[null].concat(e));i===u&&s.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?a(t).call(r,null):a(t).call(r,null,e);i===u&&s.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=a(t).call(n._boundValue(),e);i===u&&s.throwLater(i.e)}var o=e("./util"),s=t._async,a=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){function n(){}function r(e,t){if("function"!=typeof t)throw new y("expecting a function but got "+h.classString(t));if(e.constructor!==i)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function i(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==w&&(r(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function a(e){var t=new i(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u,c=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new i.PromiseInspection(this._target())},d=function(e){return i.reject(new y(e))},f={},h=e("./util");u=h.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(i,"_getDomain",u);var p=e("./es5"),v=e("./async"),g=new v;p.defineProperty(i,"_async",{value:g});var m=e("./errors"),y=i.TypeError=m.TypeError;i.RangeError=m.RangeError;var b=i.CancellationError=m.CancellationError;i.TimeoutError=m.TimeoutError,i.OperationalError=m.OperationalError,i.RejectionError=m.OperationalError,i.AggregateError=m.AggregateError;var w=function(){},_={},x={},S=e("./thenables")(i,w),k=e("./promise_array")(i,w,S,d,n),C=e("./context")(i),E=C.create,T=e("./debuggability")(i,C),O=(T.CapturedTrace,e("./finally")(i,S)),A=e("./catch_filter")(x),D=e("./nodeback"),R=h.errorObj,j=h.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return d("expecting an object but got A catch statement predicate "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,A(r,e,this))}return this.then(void 0,e)},i.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},i.prototype.then=function(e,t){if(T.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},i.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,_,void 0)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},i.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},i.getNewLibraryCopy=t.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=j(e)(D(t,n));return r===R&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new k(e).promise()},i.cast=function(e){var t=S(e);return t instanceof i||(t=new i(w),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+h.classString(e));return g.setScheduler(e)},i.prototype._then=function(e,t,n,r,o){var s=void 0!==o,a=s?o:new i(w),c=this._target(),l=c._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var d=u();if(0!==(50397184&l)){var f,p,v=c._settlePromiseCtx;0!==(33554432&l)?(p=c._rejectionHandler0,f=e):0!==(16777216&l)?(p=c._fulfillmentHandler0,f=t,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),c._attachExtraTrace(p),f=t),g.invoke(v,c,{handler:null===d?f:"function"==typeof f&&h.domainBind(d,f),promise:a,receiver:r,value:p})}else c._addCallbacks(e,t,a,r,d);return a},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==f)return void 0===t&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(t,n,r,i,null)},i.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=f),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:h.domainBind(i,t));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof e&&(this[s+0]=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this[s+1]=null===i?t:h.domainBind(i,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=S(e,this);if(!(n instanceof i))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0===(50397184&o)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},i.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},i.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)},i.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===_?n&&"number"==typeof n.length?o=j(e).apply(this._boundValue(),n):(o=R,o.e=new y("cannot .spread() a non-array: "+h.classString(n))):o=j(e).call(t,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===R?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,t,r,o){var s=e instanceof i,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&e._invokeInternalOnCancel(),r instanceof O&&r.isFinallyHandler()?(r.cancelPromise=e,j(t).call(r,o)===R&&e._reject(R.e)):t===l?e._fulfill(l.call(r)):r instanceof n?r._promiseCancelled(e):s||e instanceof k?e._cancel():r.cancel()):"function"==typeof t?s?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,o,e)):t.call(r,o,e):r instanceof n?r._isResolved()||(0!==(33554432&a)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):s&&(u&&e._setAsyncGuaranteed(),0!==(33554432&a)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof i?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():g.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?g.fatalError(e,h.isNode):void((65535&t)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){T.deprecated("Promise.defer","new Promise");var e=new i(w);return{promise:e,resolve:o,reject:s}},h.notEnumerableProp(i,"_makeSelfResolutionError",c),e("./method")(i,w,S,d,T),e("./bind")(i,w,S,T),e("./cancel")(i,k,d,T),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,k,S,w,g,u),i.Promise=i,i.version="3.4.6",e("./map.js")(i,k,d,S,w,T),e("./call_get.js")(i),e("./using.js")(i,d,S,E,w,T),e("./timers.js")(i,w,T),e("./generators.js")(i,d,w,S,n,T),e("./nodeify.js")(i),e("./promisify.js")(i,w),e("./props.js")(i,k,S,d),e("./race.js")(i,w,S,d),e("./reduce.js")(i,k,d,S,w,T),e("./settle.js")(i,k,T),e("./some.js")(i,k,d),e("./filter.js")(i,w),e("./each.js")(i,w),e("./any.js")(i),h.toFastProperties(i),h.toFastProperties(i.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new i(w)),T.setBounds(v.firstLineError,h.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function s(e){switch(e){case-2:return[];case-3:return{}}}function a(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(n,o){var a=r(this._values,this._promise);if(a instanceof t){a=a._target();var c=a._bitField;if(this._values=a,0===(50397184&c))return this._promise._setAsyncGuaranteed(),a._then(e,this._reject,void 0,this,o);if(0===(33554432&c))return 0!==(16777216&c)?this._reject(a._reason()):this._cancel();a=a._value()}if(a=u.asArray(a),null===a){var l=i("expecting an array or an iterable object but got "+u.classString(a)).reason();return void this._promise._rejectCallback(l,!1)}return 0===a.length?void(o===-5?this._resolveEmptyArray():this._resolve(s(o))):void this._iterate(a)},a.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(e[a],i);u instanceof t?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!x.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(e){return!1}}function o(e,t,n){var r=h.getDataPropertyOrDefault(e,t+n,w);return!!r&&i(r)}function s(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function a(e,t,n,r){for(var a=h.inheritedDataKeys(e),u=[],c=0;c<a.length;++c){var l=a[c],d=e[l],f=r===S||S(l,d,e);"function"!=typeof d||i(d)||o(e,l,t)||!r(l,d,e,f)||u.push(l,d)}return s(u,t,n),u}function u(e,r,i,o,s,a){function u(){var i=r;r===f&&(i=this);var o=new t(n);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:e,u=p(o,a);try{s.apply(i,v(arguments,u))}catch(e){o._rejectCallback(g(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=e;return"string"==typeof l&&(e=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(e,t,n,r,i){for(var o=new RegExp(k(t)+"$"),s=a(e,t,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],d=s[u+1],p=l+t;if(r===C)e[p]=C(l,f,l,d,t,i);else{var v=r(d,function(){return C(l,f,l,d,t,i)});h.notEnumerableProp(v,"__isPromisified__",!0),e[p]=v}}return h.toFastProperties(e),e}function l(e,t,n){return C(e,t,void 0,e,null,n)}var d,f={},h=e("./util"),p=e("./nodeback"),v=h.withAppended,g=h.maybeWrapAsError,m=h.canEvaluate,y=e("./errors").TypeError,b="Async",w={__isPromisified__:!0},_=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+_.join("|")+")$"),S=function(e){return h.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},k=function(e){return e.replace(/([$])/,"\\$")},C=m?d:u;t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+h.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?f:t.context,o=!!t.multiArgs,s=l(e,n,o);return h.copyDescriptors(e,s,r),s},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=b);var i=t.filter;"function"!=typeof i&&(i=S);var o=t.promisifier;if("function"!=typeof o&&(o=C),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(e),a=0;a<s.length;++a){var u=e[s[a]];"constructor"!==s[a]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==a&&e instanceof a)t=d(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];t[o]=e[s],t[o+i]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function s(e){var n,s=r(e);return c(s)?(n=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof t&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=e("./util"),c=u.isObject,l=e("./es5");"function"==typeof Map&&(a=Map);var d=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),f=function(e){for(var t=new a,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=f(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return s(this)},t.props=function(e){return s(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var u=r(e);if(u instanceof t)return a(u);if(e=s.asArray(e),null===e)return i("expecting an array or an iterable object but got "+s.classString(e));var c=new t(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,d=c._reject,f=0,h=e.length;f<h;++f){var p=e[f];(void 0!==p||f in e)&&t.cast(p)._then(l,d,void 0,c,null)}return c}var s=e("./util"),a=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,n,r,i){this.constructor$(e);var s=f();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,
this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,i){if("function"!=typeof t)return r("expecting a function but got "+h.classString(t));var o=new a(e,t,n,i);return o.promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n=this.array,r=n._promise,i=p(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var f=t._getDomain,h=e("./util"),p=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},a.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},a.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},a.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],29:[function(e,t,n){"use strict";var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var a=global.setImmediate,u=process.nextTick;r=i.isRecentNode?function(e){a.call(global,e)}:function(e){u.call(process,e)}}else if("function"==typeof s&&"function"==typeof s.resolve){var c=s.resolve();r=function(e){c.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();t.exports=r},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection,s=e("./util");s.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var s=e("./util"),a=e("./errors").RangeError,u=e("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new u,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(l(e)){if(e instanceof t)return e;var i=o(e);if(i===c){r&&r._pushContext();var u=t.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(e)){var u=new t(n);return e._then(u._fulfill,u._reject,void 0,u,null),u}return a(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return c.e=e,c}}function s(e){try{return d.call(e,"_promise0")}catch(e){return!1}}function a(e,r,i){function o(e){a&&(a._resolveCallback(e),a=null)}function s(e){a&&(a._rejectCallback(e,d,!0),a=null)}var a=new t(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var d=!0,f=u.tryCatch(r).call(e,o,s);return d=!1,a&&f===c&&(a._rejectCallback(f.e,!0,!0),a=null),l}var u=e("./util"),c=u.errorObj,l=u.isObject,d={}.hasOwnProperty;return r}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function s(e){throw clearTimeout(this.handle),e}var a=e("./util"),u=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,o){var s,a;return void 0!==o?(s=t.resolve(o)._then(c,null,null,e,void 0),r.cancellation()&&o instanceof t&&s._setOnCancel(o)):(s=new t(n),a=setTimeout(function(){s._fulfill()},+e),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};t.prototype.delay=function(e){return l(e,this)};var d=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),a.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,a,u=new i(setTimeout(function(){n.isPending()&&d(n,t,a)},e));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,s){function a(e){setTimeout(function(){throw e},0)}function u(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function i(){if(s>=c)return l._fulfill();var o=u(e[s++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(e){return a(e)}if(o instanceof t)return o._then(i,a,null,null,null)}i()}var s=0,c=e.length,l=new t(o);return i(),l}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function f(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),v=e("./errors").TypeError,g=e("./util").inherits,m=p.errorObj,y=p.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,l),d.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var o,a=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,a=!1):(o=arguments,e--);for(var u=new h(e),d=0;d<e;++d){var v=o[d];if(l.isDisposer(v)){var g=v;v=v.promise(),v._setDisposable(g)}else{var b=r(v);b instanceof t&&(v=b._then(f,null,null,{resources:u,index:d},void 0))}u[d]=v}for(var w=new Array(u.length),d=0;d<w.length;++d)w[d]=t.resolve(u[d]).reflect();var _=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return m.e=n.error(),m;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}x._pushContext(),i=y(i);var r=a?i.apply(void 0,e):i(e),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=_.lastly(function(){var e=new t.PromiseInspection(_);return c(u,e)});return u.promise=x,x._setOnCancel(u),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";function r(){try{var e=A;return A=null,e.apply(this,arguments)}catch(e){return O.e=e,O}}function i(e){return A=e,r}function o(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function a(e){return o(e)?new Error(g(e)):e}function u(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function c(e,t,n){if(!E.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function l(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(e,t,r),e}function d(e){throw e}function f(e){try{if("function"==typeof e){var t=E.names(e.prototype),n=E.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=M.test(e+"")&&E.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function h(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function p(e){return P.test(e)}function v(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(e){return"[no string representation]"}}function m(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{l(e,"isOperational",!0)}catch(e){}}function b(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function w(e){return m(e)&&E.propertyIsWritable(e,"stack")}function _(e){return{}.toString.call(e)}function x(e,t,n){for(var r=E.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(t,o,E.getDescriptor(e,o))}catch(e){}}}function S(e,t){return N?process.env[e]:t}function k(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function C(e,t){return e.bind(t)}var E=e("./es5"),T="undefined"==typeof navigator,O={e:{}},A,D="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,R=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},j=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var u=Object.getOwnPropertyDescriptor(e,a);null!=u&&null==u.get&&null==u.set&&r.push(a)}}e=E.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<e.length;++s)if(r.call(e[s],o))continue e;i.push(o)}return i}}(),M=/this\s*\.\s*\S+\s*=/,P=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(g(e))}:function(e){if(w(e))return e;try{throw new Error(g(e))}catch(e){return e}}}(),L=function(e){return E.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};L=function(e){return E.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?F(e):null}}var N="undefined"!=typeof process&&"[object process]"===_(process).toLowerCase(),q={isClass:f,isIdentifier:p,inheritedDataKeys:j,getDataPropertyOrDefault:c,thrower:d,isArray:E.isArray,asArray:L,notEnumerableProp:l,isPrimitive:o,isObject:s,isError:m,canEvaluate:T,errorObj:O,tryCatch:i,inherits:R,withAppended:u,maybeWrapAsError:a,toFastProperties:h,filledRange:v,toString:g,canAttachTrace:w,ensureErrorObject:I,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:_,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,env:S,global:D,getNativePromise:k,domainBind:C};q.isRecentNode=q.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),q.isNode&&q.toFastProperties(process);try{throw new Error}catch(e){q.lastLineError=e}t.exports=q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];g.redirect=function(e,t){if(x.indexOf(t)===-1)throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new h(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){return pe.isFunction(t)?pe.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?pe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?pe.grep(e,function(e){return se.call(t,e)>-1!==n}):ke.test(t)?pe.filter(t,e,n):(t=pe.filter(t,e),pe.grep(e,function(e){return se.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return pe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function a(e){return e}function u(e){throw e}function c(e,t,n){var r;try{e&&pe.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&pe.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function l(){te.removeEventListener("DOMContentLoaded",l),e.removeEventListener("load",l),pe.ready()}function d(){this.expando=pe.expando+d.uid++}function f(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Fe.test(e)?JSON.parse(e):e)}function h(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ne,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=f(n)}catch(e){}Le.set(e,t,n)}else n=void 0;return n}function p(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},u=a(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),l=(pe.cssNumber[t]||"px"!==c&&+u)&&Be.exec(pe.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,pe.style(e,t,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function v(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ue[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ue[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Ie.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ve(r)&&(i[o]=v(r))):"none"!==n&&(i[o]="none",Ie.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function m(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)Ie.set(e[n],"globalEval",!t||Ie.get(t[n],"globalEval"))}function b(e,t,n,r,i){for(var o,s,a,u,c,l,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if(o=e[h],o||0===o)if("object"===pe.type(o))pe.merge(f,o.nodeType?[o]:o);else if(Ke.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(Ye.exec(o)||["",""])[1].toLowerCase(),u=Ge[a]||Ge._default,s.innerHTML=u[1]+pe.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;pe.merge(f,s.childNodes),s=d.firstChild,s.textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",h=0;o=f[h++];)if(r&&pe.inArray(o,r)>-1)i&&i.push(o);else if(c=pe.contains(o.ownerDocument,o),s=m(d.appendChild(o),"script"),c&&y(s),n)for(l=0;o=s[l++];)$e.test(o.type||"")&&n.push(o);return d}function w(){return!0}function _(){return!1}function x(){try{return te.activeElement}catch(e){}}function S(e,t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)S(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=_;else if(!i)return e;return 1===o&&(s=i,i=function(e){return pe().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,i,r,n)})}function k(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){var n,r,i,o,s,a,u,c;if(1===t.nodeType){if(Ie.hasData(e)&&(o=Ie.access(e),s=Ie.set(t,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)pe.event.add(t,i,c[i][n])}Le.hasData(e)&&(a=Le.access(e),u=pe.extend({},a),Le.set(t,u))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&We.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function A(e,t,r,i){t=ie.apply([],t);var o,s,a,u,c,l,d=0,f=e.length,h=f-1,p=t[0],v=pe.isFunction(p);if(v||f>1&&"string"==typeof p&&!fe.checkClone&&nt.test(p))return e.each(function(n){var o=e.eq(n);v&&(t[0]=p.call(this,n,o.html())),A(o,t,r,i)});if(f&&(o=b(t,e[0].ownerDocument,!1,e,i),s=o.firstChild,1===o.childNodes.length&&(o=s),s||i)){for(a=pe.map(m(o,"script"),C),u=a.length;d<f;d++)c=o,d!==h&&(c=pe.clone(c,!0,!0),u&&pe.merge(a,m(c,"script"))),r.call(e[d],c,d);if(u)for(l=a[a.length-1].ownerDocument,pe.map(a,E),d=0;d<u;d++)c=a[d],$e.test(c.type||"")&&!Ie.access(c,"globalEval")&&pe.contains(l,c)&&(c.src?pe._evalUrl&&pe._evalUrl(c.src):n(c.textContent.replace(it,""),l))}return e}function D(e,t,n){for(var r,i=t?pe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||pe.cleanData(m(r)),r.parentNode&&(n&&pe.contains(r.ownerDocument,r)&&y(m(r,"script")),r.parentNode.removeChild(r));return e}function R(e,t,n){var r,i,o,s,a=e.style;return n=n||at(e),n&&(s=n.getPropertyValue(t)||n[t],""!==s||pe.contains(e.ownerDocument,e)||(s=pe.style(e,t)),!fe.pixelMarginRight()&&st.test(s)&&ot.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function j(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in ft)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=dt.length;n--;)if(e=dt[n]+t,e in ft)return e}function P(e,t,n){var r=Be.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function I(e,t,n,r,i){var o,s=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(s+=pe.css(e,n+He[o],!0,i)),r?("content"===n&&(s-=pe.css(e,"padding"+He[o],!0,i)),"margin"!==n&&(s-=pe.css(e,"border"+He[o]+"Width",!0,i))):(s+=pe.css(e,"padding"+He[o],!0,i),"padding"!==n&&(s+=pe.css(e,"border"+He[o]+"Width",!0,i)));
return s}function L(e,t,n){var r,i=!0,o=at(e),s="border-box"===pe.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(r=R(e,t,o),(r<0||null==r)&&(r=e.style[t]),st.test(r))return r;i=s&&(fe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+I(e,t,n||(s?"border":"content"),i,o)+"px"}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function N(){pt&&(e.requestAnimationFrame(N),pe.fx.tick())}function q(){return e.setTimeout(function(){ht=void 0}),ht=pe.now()}function B(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=He[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function H(e,t,n){for(var r,i=(U.tweeners[t]||[]).concat(U.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,s,a,u,c,l,d="width"in t||"height"in t,f=this,h={},p=e.style,v=e.nodeType&&Ve(e),m=Ie.get(e,"fxshow");n.queue||(s=pe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})}));for(r in t)if(i=t[r],vt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}h[r]=m&&m[r]||pe.style(e,r)}if(u=!pe.isEmptyObject(t),u||!pe.isEmptyObject(h)){d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=m&&m.display,null==c&&(c=Ie.get(e,"display")),l=pe.css(e,"display"),"none"===l&&(c?l=c:(g([e],!0),c=e.style.display||c,l=pe.css(e,"display"),g([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===pe.css(e,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(m?"hidden"in m&&(v=m.hidden):m=Ie.access(e,"fxshow",{display:c}),o&&(m.hidden=!v),v&&g([e],!0),f.done(function(){v||g([e]),Ie.remove(e,"fxshow");for(r in h)pe.style(e,r,h[r])})),u=H(v?m[r]:0,r,f),r in m||(m[r]=u.start,v&&(u.end=u.start,u.start=0))}}function z(e,t){var n,r,i,o,s;for(n in e)if(r=pe.camelCase(n),i=t[r],o=e[n],pe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=pe.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function U(e,t,n){var r,i,o=0,s=U.prefilters.length,a=pe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ht||q(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),o<1&&u?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),l=c.props;for(z(l,c.opts.specialEasing);o<s;o++)if(r=U.prefilters[o].call(c,e,l,c.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(l,H,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(e){var t=e.match(De)||[];return t.join(" ")}function Y(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e,t,n,r){var i;if(pe.isArray(t))pe.each(t,function(t,i){n||Et.test(e)?r(e,i):$(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==pe.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(pe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function K(e,t,n,r){function i(a){var u;return o[a]=!0,pe.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=e===Nt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Q(e,t){var n,r,i=pe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&pe.extend(!0,e,r),e}function X(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function J(e,t,n,r){var i,o,s,a,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Z(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,se=ee.indexOf,ae={},ue=ae.toString,ce=ae.hasOwnProperty,le=ce.toString,de=le.call(Object),fe={},he="3.1.1",pe=function(e,t){return new pe.fn.init(e,t)},ve=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([a-z])/g,ye=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:he,constructor:pe,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},pe.extend=pe.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||pe.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(pe.isPlainObject(r)||(i=pe.isArray(r)))?(i?(i=!1,o=n&&pe.isArray(n)?n:[]):o=n&&pe.isPlainObject(n)?n:{},s[t]=pe.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},pe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ue.call(e))&&(!(t=ne(e))||(n=ce.call(t,"constructor")&&t.constructor,"function"==typeof n&&le.call(n)===de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[ue.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ve,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?pe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;o<s;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,s=0,a=[];if(r(e))for(i=e.length;s<i;s++)o=t(e[s],s,n),null!=o&&a.push(o);else for(s in e)o=t(e[s],s,n),null!=o&&a.push(o);return ie.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),pe.isFunction(e))return r=re.call(arguments,2),i=function(){return e.apply(t||this,r.concat(re.call(arguments)))},i.guid=e.guid=e.guid||pe.guid++,i},now:Date.now,support:fe}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ee[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,r){var i,o,s,a,u,c,l,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:H)!==M&&j(t),t=t||M,I)){if(11!==p&&(u=me.exec(e)))if(i=u[1]){if(9===p){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(f&&(s=f.getElementById(i))&&q(t,s)&&s.id===i)return n.push(s),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!Y[e+" "]&&(!L||!L.test(e))){if(1!==p)f=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,xe):t.setAttribute("id",a=B),c=E(e),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);l=c.join(","),f=ye.test(e)&&d(t.parentNode)||t}if(l)try{return J.apply(n,f.querySelectorAll(l)),n}catch(e){}finally{a===B&&t.removeAttribute("id")}}}return O(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ke(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=z++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,u){var c,l,d,f=[V,a];if(u){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(d=t[B]||(t[B]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===V&&c[1]===a)return f[2]=c[2];if(l[o]=f,f[2]=e(t,n,u))return!0}return!1}}function v(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,c=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function y(e,t,n,i,o,s){return i&&!i[B]&&(i=y(i)),o&&!o[B]&&(o=y(o,s)),r(function(r,s,a,u){var c,l,d,f=[],h=[],p=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,f,e,a,u),b=n?o||(r?e:p||i)?[]:s:y;if(n&&n(y,b,a,u),i)for(c=m(b,h),i(c,[],a,u),l=c.length;l--;)(d=c[l])&&(b[h[l]]=!(y[h[l]]=d));if(r){if(o||e){if(o){for(c=[],l=b.length;l--;)(d=b[l])&&c.push(y[l]=d);o(null,b=[],c,u)}for(l=b.length;l--;)(d=b[l])&&(c=o?ee(r,d):f[l])>-1&&(r[c]=!(s[c]=d))}}else b=m(b===s?b.splice(p,b.length):b),o?o(null,s,b,u):J.apply(s,b)})}function b(e){for(var t,n,r,i=e.length,o=S.relative[e[0].type],s=o||S.relative[" "],a=o?1:0,u=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),l=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];a<i;a++)if(n=S.relative[e[a].type])l=[p(v(l),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[B]){for(r=++a;r<i&&!S.relative[e[r].type];r++);return y(a>1&&v(l),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<r&&b(e.slice(a,r)),r<i&&b(e=e.slice(r)),r<i&&h(e))}l.push(n)}return v(l)}function w(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,c){var l,d,f,h=0,p="0",v=r&&[],g=[],y=A,b=r||o&&S.find.TAG("*",c),w=V+=null==y?1:Math.random()||.1,_=b.length;for(c&&(A=s===M||s||c);p!==_&&null!=(l=b[p]);p++){if(o&&l){for(d=0,s||l.ownerDocument===M||(j(l),a=!I);f=e[d++];)if(f(l,s||M,a)){u.push(l);break}c&&(V=w)}i&&((l=!f&&l)&&h--,r&&v.push(l))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(v,g,s,a);if(r){if(h>0)for(;p--;)v[p]||g[p]||(g[p]=Q.call(u));g=m(g)}J.apply(u,g),c&&!r&&g.length>0&&h+n.length>1&&t.uniqueSort(u)}return c&&(V=w,A=y),v};return i?r(s):s}var _,x,S,k,C,E,T,O,A,D,R,j,M,P,I,L,F,N,q,B="sizzle"+1*new Date,H=e.document,V=0,z=0,U=n(),W=n(),Y=n(),$=function(e,t){return e===t&&(R=!0),0},G={}.hasOwnProperty,K=[],Q=K.pop,X=K.push,J=K.push,Z=K.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),fe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){j()},ke=p(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(K=Z.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(e){J={apply:K.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==M&&9===r.nodeType&&r.documentElement?(M=r,P=M.documentElement,I=!C(M),H!==M&&(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(M.getElementsByClassName),x.getById=i(function(e){return P.appendChild(e).id=B,!M.getElementsByName||!M.getElementsByName(B).length}),x.getById?(S.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),S.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=x.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},F=[],L=[],(x.qsa=ge.test(M.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=ge.test(N=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){x.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),F.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),t=ge.test(P.compareDocumentPosition),q=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return R=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===H&&q(H,e)?-1:t===M||t.ownerDocument===H&&q(H,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return R=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===M?-1:t===M?1:i?-1:o?1:D?ee(D,e)-ee(D,t):0;if(i===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===H?-1:u[r]===H?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&j(e),n=n.replace(le,"='$1']"),x.matchesSelector&&I&&!Y[n+" "]&&(!F||!F.test(n))&&(!L||!L.test(n)))try{var r=N.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&j(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&j(e);var n=S.attrHandle[t.toLowerCase()],r=n&&G.call(S.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:x.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(_e,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(R=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort($),R){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,h,p,v=o!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(g){if(o){for(;v;){for(f=t;f=f[v];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(f=g,d=f[B]||(f[B]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),c=l[e]||[],h=c[0]===V&&c[1],b=h&&c[2],f=h&&g.childNodes[h];f=++h&&f&&f[v]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[V,h,b];break}}else if(y&&(f=t,d=f[B]||(f[B]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),c=l[e]||[],h=c[0]===V&&c[1],b=h),b===!1)for(;(f=++h&&f&&f[v]||(b=h=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&(d=f[B]||(f[B]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),l[e]=[V,b]),f!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(ae,"$1"));return i[B]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})S.pseudos[_]=u(_);return f.prototype=S.filters=S.pseudos,S.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,s,a,u,c,l=W[e+" "];if(l)return n?0:l.slice(0);for(a=e,u=[],c=S.preFilter;a;){r&&!(i=ue.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),a=a.slice(r.length));for(s in S.filter)!(i=he[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):W(e,u).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=Y[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=b(t[n]),o[B]?r.push(o):i.push(o);o=Y(e,w(i,r)),o.selector=e}return o},O=t.select=function(e,t,n,r){var i,o,s,a,u,c="function"==typeof e&&e,l=!r&&E(e=c.selector||e);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&I&&S.relative[o[1].type]){if(t=(S.find.ID(s.matches[0].replace(be,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!S.relative[a=s.type]);)if((u=S.find[a])&&(r=u(s.matches[0].replace(be,we),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&h(o),!e)return J.apply(n,r),n;break}}return(c||T(e,l))(r,t,!I,n,!t||ye.test(e)&&d(t.parentNode)||t),n},x.sortStable=B.split("").sort($).join("")===B,x.detectDuplicates=!!R,j(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=be,pe.expr=be.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=be.uniqueSort,pe.text=be.getText,pe.isXMLDoc=be.isXML,pe.contains=be.contains,pe.escapeSelector=be.escape;var we=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&pe(e).is(n))break;r.push(e)}return r},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=pe.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ke=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<r;t++)if(pe.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)pe.find(e,i[t],n);return r>1?pe.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&xe.test(e)?pe(e):e||[],!1).length}});var Ce,Ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=pe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ce,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ee.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Se.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=te.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==n.ready?n.ready(e):e(pe):pe.makeArray(e,this)};Te.prototype=pe.fn,Ce=pe(te);var Oe=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&pe(e);if(!xe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(pe(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return we(e,"parentNode")},parentsUntil:function(e,t,n){return we(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return we(e,"nextSibling")},prevAll:function(e){return we(e,"previousSibling");
},nextUntil:function(e,t,n){return we(e,"nextSibling",n)},prevUntil:function(e,t,n){return we(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,r){var i=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=pe.filter(r,i)),this.length>1&&(Ae[e]||pe.uniqueSort(i),Oe.test(e)&&i.reverse()),this.pushStack(i)}});var De=/[^\x20\t\r\n\f]+/g;pe.Callbacks=function(e){e="string"==typeof e?s(e):pe.extend({},e);var t,n,r,i,o=[],a=[],u=-1,c=function(){for(i=e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){pe.each(n,function(n,r){pe.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==pe.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?pe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},pe.extend({Deferred:function(t){var n=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred(function(t){pe.each(n,function(n,r){var i=pe.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var c=this,l=arguments,d=function(){var e,d;if(!(t<s)){if(e=r.apply(c,l),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(d)?i?d.call(e,o(s,n,a,i),o(s,n,u,i)):(s++,d.call(e,o(s,n,a,i),o(s,n,u,i),o(s,n,a,n.notifyWith))):(r!==a&&(c=void 0,l=[e]),(i||n.resolveWith)(c,l))}},f=i?d:function(){try{d()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,f.stackTrace),t+1>=s&&(r!==u&&(c=void 0,l=[e]),n.rejectWith(c,l))}};t?f():(pe.Deferred.getStackHook&&(f.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(f))}}var s=0;return pe.Deferred(function(e){n[0][3].add(o(0,e,pe.isFunction(i)?i:a,e.notifyWith)),n[1][3].add(o(0,e,pe.isFunction(t)?t:a)),n[2][3].add(o(0,e,pe.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?pe.extend(e,i):i}},o={};return pe.each(n,function(e,t){var s=t[2],a=t[5];i[t[1]]=s.add,a&&s.add(function(){r=a},n[3-e][2].disable,n[0][2].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=pe.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(c(e,o.done(s(n)).resolve,o.reject),"pending"===o.state()||pe.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],s(n),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Re.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},pe.readyException=function(t){e.setTimeout(function(){throw t})};var je=pe.Deferred();pe.fn.ready=function(e){return je.then(e).catch(function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||je.resolveWith(te,[pe]))}}),pe.ready.then=je.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(pe.ready):(te.addEventListener("DOMContentLoaded",l),e.addEventListener("load",l));var Me=function(e,t,n,r,i,o,s){var a=0,u=e.length,c=null==n;if("object"===pe.type(n)){i=!0;for(a in n)Me(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,pe.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):u?t(e[0],n):o},Pe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Pe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[pe.camelCase(t)]=n;else for(r in t)i[pe.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){pe.isArray(t)?t=t.map(pe.camelCase):(t=pe.camelCase(t),t=t in r?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||pe.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Ie=new d,Le=new d,Fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;pe.extend({hasData:function(e){return Le.hasData(e)||Ie.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return Ie.access(e,t,n)},_removeData:function(e,t){Ie.remove(e,t)}}),pe.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Le.get(o),1===o.nodeType&&!Ie.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=pe.camelCase(r.slice(5)),h(o,r,i[r])));Ie.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Le.set(this,e)}):Me(this,function(t){var n;if(o&&void 0===t){if(n=Le.get(o,e),void 0!==n)return n;if(n=h(o,e),void 0!==n)return n}else this.each(function(){Le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),pe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ie.get(e,t),n&&(!r||pe.isArray(n)?r=Ie.access(e,t,pe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),r=n.length,i=n.shift(),o=pe._queueHooks(e,t),s=function(){pe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ie.get(e,n)||Ie.access(e,n,{empty:pe.Callbacks("once memory").add(function(){Ie.remove(e,[t+"queue",n])})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=pe.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Ie.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+qe+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Ve=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},ze=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i},Ue={};pe.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ve(this)?pe(this).show():pe(this).hide()})}});var We=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,$e=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ke=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),fe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Qe=te.documentElement,Xe=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,c,l,d,f,h,p,v,g=Ie.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&pe.find.matchesSelector(Qe,i),n.guid||(n.guid=pe.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!=typeof pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],c=t.length;c--;)a=Ze.exec(t[c])||[],h=v=a[1],p=(a[2]||"").split(".").sort(),h&&(d=pe.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=pe.event.special[h]||{},l=pe.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&pe.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[h])||(f=u[h]=[],f.delegateCount=0,d.setup&&d.setup.call(e,r,p,s)!==!1||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),pe.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,c,l,d,f,h,p,v,g=Ie.hasData(e)&&Ie.get(e);if(g&&(u=g.events)){for(t=(t||"").match(De)||[""],c=t.length;c--;)if(a=Ze.exec(t[c])||[],h=v=a[1],p=(a[2]||"").split(".").sort(),h){for(d=pe.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,f=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));s&&!f.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||pe.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)pe.event.remove(e,h+t[c],n,r,!0);pe.isEmptyObject(u)&&Ie.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=pe.event.fix(e),u=new Array(arguments.length),c=(Ie.get(this,"events")||{})[a.type]||[],l=pe.event.special[a.type]||{};for(u[0]=a,t=1;t<arguments.length;t++)u[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=pe.event.handlers.call(this,a,c),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((pe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(o=[],s={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===s[i]&&(s[i]=r.needsContext?pe(i,this).index(c)>-1:pe.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<t.length&&a.push({elem:c,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?w:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||pe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),pe.fn.extend({on:function(e,t,n,r){return S(this,e,t,n,r)},one:function(e,t,n,r){return S(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=_),this.each(function(){pe.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=pe.contains(e.ownerDocument,e);if(!(fe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(s=m(a),o=m(e),r=0,i=o.length;r<i;r++)O(o[r],s[r]);if(t)if(n)for(o=o||m(e),s=s||m(a),r=0,i=o.length;r<i;r++)T(o[r],s[r]);else T(e,a);return s=m(a,"script"),s.length>0&&y(s,!u&&m(e,"script")),a},cleanData:function(e){for(var t,n,r,i=pe.event.special,o=0;void 0!==(n=e[o]);o++)if(Pe(n)){if(t=n[Ie.expando]){if(t.events)for(r in t.events)i[r]?pe.event.remove(n,r):pe.removeEvent(n,r,t.handle);n[Ie.expando]=void 0}n[Le.expando]&&(n[Le.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Me(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.appendChild(e)}})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Ge[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,r=[],i=pe(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),pe(i[s])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var ot=/^margin/,st=new RegExp("^("+qe+")(?!px)[a-z%]+$","i"),at=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Qe.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Qe.removeChild(s),a=null}}var n,r,i,o,s=te.createElement("div"),a=te.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),pe.extend(fe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,ct={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","Moz","ms"],ft=te.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=pe.camelCase(t),u=e.style;return t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Be.exec(n))&&i[1]&&(n=p(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(pe.cssNumber[a]?"":"px")),fe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=R(e,t,r)),"normal"===i&&t in lt&&(i=lt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,r){if(n)return!ut.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?L(e,t,r):ze(e,ct,function(){return L(e,t,r)})},set:function(e,n,r){var i,o=r&&at(e),s=r&&I(e,t,r,"border-box"===pe.css(e,"boxSizing",!1,o),o);return s&&(i=Be.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=pe.css(e,t)),P(e,n,s)}}}),pe.cssHooks.marginLeft=j(fe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+He[r]+t]=o[r]||o[r-2]||o[0];return i}},ot.test(e)||(pe.cssHooks[e+t].set=P)}),pe.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var r,i,o={},s=0;if(pe.isArray(t)){for(r=at(e),i=t.length;s<i;s++)o[t[s]]=pe.css(e,t[s],!1,r);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)}}),pe.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=F.prototype.init,pe.fx.step={};var ht,pt,vt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;pe.Animation=pe.extend(U,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,Be.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;r<i;r++)n=e[r],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),pe.speed=function(e,t,n){var r=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in pe.fx.speeds?r.duration=pe.fx.speeds[r.duration]:r.duration=pe.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ve).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=pe.isEmptyObject(e),o=pe.speed(t,n,r),s=function(){var t=U(this,pe.extend({},e),o);(i||Ie.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=pe.timers,s=Ie.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&gt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ie.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=pe.timers,s=r?r.length:0;for(n.finish=!0,pe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),pe.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,n=pe.timers;for(ht=pe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||pe.fx.stop(),ht=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){pt||(pt=e.requestAnimationFrame?e.requestAnimationFrame(N):e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(pt):e.clearInterval(pt),pt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",fe.checkOn=""!==e.value,fe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",fe.radioValue="t"===e.value}();var mt,yt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Me(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(i=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void pe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=pe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!fe.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(De);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return t===!1?pe.removeAttr(e,n):e.setAttribute(n,n),n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||pe.find.attr;yt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=yt[s],yt[s]=i,i=null!=n(e,t,r)?s:null,yt[s]=o),i}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Me(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,i=pe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),pe.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,Y(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=Y(n),r=1===n.nodeType&&" "+W(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=W(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=Y(n),r=1===n.nodeType&&" "+W(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=W(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,Y(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=pe(this),o=e.match(De)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=Y(this),t&&Ie.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ie.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+W(Y(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;pe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=pe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,pe(this).val()):e,null==i?i="":"number"==typeof i?i+="":pe.isArray(i)&&(i=pe.map(i,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=pe.valHooks[i.type]||pe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:W(pe.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=pe.makeArray(t),s=i.length;s--;)r=i[s],
(r.selected=pe.inArray(pe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},fe.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,n,r,i){var o,s,a,u,c,l,d,f=[r||te],h=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!xt.test(h+pe.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[pe.expando]?t:new pe.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:pe.makeArray(n,[t]),d=pe.event.special[h]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!pe.isWindow(r)){for(u=d.delegateType||h,xt.test(u+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||te)&&f.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||h,l=(Ie.get(s,"events")||{})[t.type]&&Ie.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Pe(s)&&(t.result=l.apply(s,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!Pe(r)||c&&pe.isFunction(r[h])&&!pe.isWindow(r)&&(a=r[c],a&&(r[c]=null),pe.event.triggered=h,r[h](),pe.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(e,t,n){var r=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(r,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.focusin="onfocusin"in e,fe.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ie.access(r,t);i||r.addEventListener(e,n,!0),Ie.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ie.access(r,t)-1;i?Ie.access(r,t,i):(r.removeEventListener(e,n,!0),Ie.remove(r,t))}}});var St=e.location,kt=pe.now(),Ct=/\?/;pe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var Et=/\[\]$/,Tt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,r=[],i=function(e,t){var n=pe.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&At.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!We.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}});var Dt=/%20/g,Rt=/#.*$/,jt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,It=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ft={},Nt={},qt="*/".concat("*"),Bt=te.createElement("a");Bt.href=St.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Pt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,pe.ajaxSettings),t):Q(pe.ajaxSettings,e)},ajaxPrefilter:G(Ft),ajaxTransport:G(Nt),ajax:function(t,n){function r(t,n,r,a){var c,f,h,w,_,x=n;l||(l=!0,u&&e.clearTimeout(u),i=void 0,s=a||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(w=X(p,S,r)),w=J(p,w,S,c),c?(p.ifModified&&(_=S.getResponseHeader("Last-Modified"),_&&(pe.lastModified[o]=_),_=S.getResponseHeader("etag"),_&&(pe.etag[o]=_)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=w.state,f=w.data,h=w.error,c=!h)):(h=x,!t&&x||(x="error",t<0&&(t=0))),S.status=t,S.statusText=(n||x)+"",c?m.resolveWith(v,[f,x,S]):m.rejectWith(v,[S,x,h]),S.statusCode(b),b=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?f:h]),y.fireWith(v,[S,x]),d&&(g.trigger("ajaxComplete",[S,p]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,s,a,u,c,l,d,f,h,p=pe.ajaxSetup({},n),v=p.context||p,g=p.context&&(v.nodeType||v.jquery)?pe(v):pe.event,m=pe.Deferred(),y=pe.Callbacks("once memory"),b=p.statusCode||{},w={},_={},x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Mt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),r(0,t),this}};if(m.promise(S),p.url=((t||p.url||St.href)+"").replace(Lt,St.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(De)||[""],null==p.crossDomain){c=te.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Bt.protocol+"//"+Bt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pe.param(p.data,p.traditional)),K(Ft,p,n,S),l)return S;d=pe.event&&p.global,d&&0===pe.active++&&pe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),o=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Dt,"+")):(h=p.url.slice(o.length),p.data&&(o+=(Ct.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(jt,"$1"),h=(Ct.test(o)?"&":"?")+"_="+kt++ +h),p.url=o+h),p.ifModified&&(pe.lastModified[o]&&S.setRequestHeader("If-Modified-Since",pe.lastModified[o]),pe.etag[o]&&S.setRequestHeader("If-None-Match",pe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+qt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(v,S,p)===!1||l))return S.abort();if(x="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),i=K(Nt,p,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,p]),l)return S;p.async&&p.timeout>0&&(u=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{l=!1,i.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,r,i){return pe.isFunction(n)&&(i=i||r,r=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:i,data:n,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Vt=pe.ajaxSettings.xhr();fe.cors=!!Vt&&"withCredentials"in Vt,fe.ajax=Vt=!!Vt,pe.ajaxTransport(function(t){var n,r;if(fe.cors||Vt&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var zt=[],Ut=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||pe.expando+"_"+kt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ut,"$1"+i):t.jsonp!==!1&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||pe.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?pe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,zt.push(i)),s&&pe.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),fe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),pe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(fe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Se.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=b([e],t,o),o&&o.length&&pe(o).remove(),pe.merge([],i.childNodes))},pe.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=W(e.slice(a)),e=e.slice(0,a)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&pe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,c,l=pe.css(e,"position"),d=pe(e),f={};"static"===l&&(e.style.position="relative"),a=d.offset(),o=pe.css(e,"top"),u=pe.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=d.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):d.css(f)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=Z(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===pe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+pe.css(e[0],"borderTopWidth",!0),left:r.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-pe.css(n,"marginTop",!0),left:t.left-r.left-pe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||Qe})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;pe.fn[e]=function(r){return Me(this,function(e,r,i){var o=Z(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=j(fe.pixelPosition,function(e,n){if(n)return n=R(e,t),st.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){pe.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Me(this,function(t,n,i){var o;return pe.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?pe.css(t,n,a):pe.style(t,n,i,a)},t,s?i:void 0,s)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var Wt=e.jQuery,Yt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Yt),t&&e.jQuery===pe&&(e.jQuery=Wt),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return hr.apply(null,arguments)}function t(e){hr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return gt(e,t,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(e){return null==e._pf&&(e._pf=l()),e._pf}function f(e){if(null==e._isValid){var t=d(e),n=pr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function h(e){var t=c(NaN);return null!=e?u(d(t),e):d(t).userInvalidated=!0,t}function p(e){return void 0===e}function v(e,t){var n,r,i;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=d(t)),p(t._locale)||(e._locale=t._locale),vr.length>0)for(n in vr)r=vr[n],i=t[r],p(i)||(e[r]=i);return e}function g(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),gr===!1&&(gr=!0,e.updateOffset(this),gr=!1)}function m(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&s++;return s+o}function _(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,n){var r=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){i+="\n["+s+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}_(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),mr[t]||(_(n),mr[t]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,n;for(n in e)t=e[n],k(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function E(e,t){var n,i=u({},e);for(n in t)a(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},u(i[n],e[n]),u(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&r(e[n])&&(i[n]=u({},i[n]));return i}function T(e){null!=e&&this.set(e)}function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return k(r)?r.call(t,n):r}function A(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function D(){return this._invalidDate}function R(e){return this._ordinal.replace("%d",e)}function j(e,t,n,r){var i=this._relativeTime[n];return k(i)?i(e,t,n,r):i.replace(/%d/i,e)}function M(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}function P(e,t){var n=e.toLowerCase();Er[n]=Er[n+"s"]=Er[t]=e}function I(e){return"string"==typeof e?Er[e]||Er[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)a(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function F(e,t){Tr[e]=t}function N(e){var t=[];for(var n in e)t.push({unit:n,priority:Tr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function q(t,n){return function(r){return null!=r?(H(this,t,r),e.updateOffset(this,n),this):B(this,t)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function V(e){return e=I(e),k(this[e])?this[e]():this}function z(e,t){if("object"==typeof e){e=L(e);for(var n=N(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),k(this[e]))return this[e](t);return this}function U(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function W(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Rr[e]=i),t&&(Rr[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(Rr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,r=e.match(Or);for(t=0,n=r.length;t<n;t++)Rr[r[t]]?r[t]=Rr[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function G(e,t){return e.isValid()?(t=K(t,e.localeData()),Dr[t]=Dr[t]||$(t),Dr[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ar.lastIndex=0;r>=0&&Ar.test(e);)e=e.replace(Ar,n),Ar.lastIndex=0,r-=1;return e}function Q(e,t,n){Kr[e]=k(t)?t:function(e,r){return e&&n?n:t}}function X(e,t){return a(Kr,e)?Kr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)Qr[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&a(Qr,e)&&Qr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||si).test(t)?"format":"standalone"][e.month()]:this._months}function oe(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[si.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function se(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=br.call(this._shortMonthsParse,s),i!==-1?i:null):(i=br.call(this._longMonthsParse,s),i!==-1?i:null):"MMM"===t?(i=br.call(this._shortMonthsParse,s),i!==-1?i:(i=br.call(this._longMonthsParse,s),i!==-1?i:null)):(i=br.call(this._longMonthsParse,s),i!==-1?i:(i=br.call(this._shortMonthsParse,s),i!==-1?i:null))}function ae(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(t){return null!=t?(ue(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function le(){return re(this.year(),this.month())}function de(e){return this._monthsParseExact?(a(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ci),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(a(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=li),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Z(r[t]),i[t]=Z(i[t]);for(t=0;t<24;t++)o[t]=Z(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pe(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ve(this.year())}function me(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var r=7+t-n,i=(7+ye(e,0,r).getUTCDay()-t)%7;return-i+r-1}function we(e,t,n,r,i){var o,s,a=(7+n-r)%7,u=be(e,r,i),c=1+7*(t-1)+a+u;return c<=0?(o=e-1,s=pe(o)+c):c>pe(e)?(o=e+1,s=c-pe(e)):(o=e,s=c),{year:o,dayOfYear:s}}function _e(e,t,n){var r,i,o=be(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+xe(i,t,n)):s>xe(e.year(),t,n)?(r=s-xe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function xe(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(pe(e)-r+i)/7}function Se(e){return _e(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function Ce(){return this._week.doy}function Ee(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=_e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ae(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function De(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function je(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Me(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=br.call(this._weekdaysParse,s),i!==-1?i:null):"ddd"===t?(i=br.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=br.call(this._minWeekdaysParse,s),i!==-1?i:null):"dddd"===t?(i=br.call(this._weekdaysParse,s),i!==-1?i:(i=br.call(this._shortWeekdaysParse,s),i!==-1?i:(i=br.call(this._minWeekdaysParse,s),i!==-1?i:null))):"ddd"===t?(i=br.call(this._shortWeekdaysParse,s),i!==-1?i:(i=br.call(this._weekdaysParse,s),i!==-1?i:(i=br.call(this._minWeekdaysParse,s),i!==-1?i:null))):(i=br.call(this._minWeekdaysParse,s),i!==-1?i:(i=br.call(this._weekdaysParse,s),i!==-1?i:(i=br.call(this._shortWeekdaysParse,s),i!==-1?i:null)))}function Pe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Me.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ae(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ne(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=gi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=mi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Be(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(s.sort(e),a.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)a[t]=Z(a[t]),u[t]=Z(u[t]),l[t]=Z(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i");
}function Ve(){return this.hours()%12||12}function ze(){return this.hours()||24}function Ue(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function $e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ge(e[o]).split("-"),t=i.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Qe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function Qe(e){var t=null;if(!Si[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=bi._abbr,require("./locale/"+e),Xe(t)}catch(e){}return Si[e]}function Xe(e,t){var n;return e&&(n=p(t)?et(e):Je(e,t),n&&(bi=n)),bi._abbr}function Je(e,t){if(null!==t){var n=xi;return t.abbr=e,null!=Si[e]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Si[e]._config):null!=t.parentLocale&&(null!=Si[t.parentLocale]?n=Si[t.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Si[e]=new T(E(n,t)),Xe(e),Si[e]}return delete Si[e],null}function Ze(e,t){if(null!=t){var n,r=xi;null!=Si[e]&&(r=Si[e]._config),t=E(r,t),n=new T(t),n.parentLocale=Si[e],Si[e]=n,Xe(e)}else null!=Si[e]&&(null!=Si[e].parentLocale?Si[e]=Si[e].parentLocale:null!=Si[e]&&delete Si[e]);return Si[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bi;if(!n(e)){if(t=Qe(e))return t;e=[e]}return Ke(e)}function tt(){return yr(Si)}function nt(e){var t,n=e._a;return n&&d(e).overflow===-2&&(t=n[Jr]<0||n[Jr]>11?Jr:n[Zr]<1||n[Zr]>re(n[Xr],n[Jr])?Zr:n[ei]<0||n[ei]>24||24===n[ei]&&(0!==n[ti]||0!==n[ni]||0!==n[ri])?ei:n[ti]<0||n[ti]>59?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>999?ri:-1,d(e)._overflowDayOfYear&&(t<Xr||t>Zr)&&(t=Zr),d(e)._overflowWeeks&&t===-1&&(t=ii),d(e)._overflowWeekday&&t===-1&&(t=oi),d(e).overflow=t),e}function rt(e){var t,n,r,i,o,s,a=e._i,u=ki.exec(a)||Ci.exec(a);if(u){for(d(e).iso=!0,t=0,n=Ti.length;t<n;t++)if(Ti[t][1].exec(u[1])){i=Ti[t][0],r=Ti[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Oi.length;t<n;t++)if(Oi[t][1].exec(u[3])){o=(u[2]||" ")+Oi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Ei.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),ct(e)}else e._isValid=!1}function it(t){var n=Ai.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function at(e){var t,n,r,i,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[Zr]&&null==e._a[Jr]&&ut(e),e._dayOfYear&&(i=ot(e._a[Xr],r[Xr]),e._dayOfYear>pe(i)&&(d(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[Jr]=n.getUTCMonth(),e._a[Zr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ei]&&0===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&(e._nextDay=!0,e._a[ei]=0),e._d=(e._useUTC?ye:me).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ei]=24)}}function ut(e){var t,n,r,i,o,s,a,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=ot(t.GG,e._a[Xr],_e(mt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(i<1||i>7)&&(u=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=ot(t.gg,e._a[Xr],_e(mt(),o,s).year),r=ot(t.w,1),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>xe(n,o,s)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(a=we(n,r,i,o,s),e._a[Xr]=a.year,e._dayOfYear=a.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],d(t).empty=!0;var n,r,i,o,s,a=""+t._i,u=a.length,c=0;for(i=K(t._f,t._locale).match(Or)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(X(o,t))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&d(t).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),c+=r.length),Rr[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-c,a.length>0&&d(t).unusedInput.push(a),t._a[ei]<=12&&d(t).bigHour===!0&&t._a[ei]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[ei]=lt(t._locale,t._a[ei],t._meridiem),at(t),nt(t)}function lt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function dt(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ct(t),f(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}function ft(e){if(!e._d){var t=L(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function ht(e){var t=new g(nt(pt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function pt(e){var t=e._i,r=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===r&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new g(nt(t)):(n(r)?dt(e):o(t)?e._d=t:r?ct(e):vt(e),f(e)||(e._d=null),e))}function vt(t){var r=t._i;void 0===r?t._d=new Date(e.now()):o(r)?t._d=new Date(r.valueOf()):"string"==typeof r?it(t):n(r)?(t._a=s(r.slice(0),function(e){return parseInt(e,10)}),at(t)):"object"==typeof r?ft(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function gt(e,t,o,s,a){var u={};return"boolean"==typeof o&&(s=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=o,u._i=e,u._f=t,u._strict=s,ht(u)}function mt(e,t,n,r){return gt(e,t,n,r,!1)}function yt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return mt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function bt(){var e=[].slice.call(arguments,0);return yt("isBefore",e)}function wt(){var e=[].slice.call(arguments,0);return yt("isAfter",e)}function _t(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function xt(e){return e instanceof _t}function St(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function kt(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function Ct(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Mi)||["-",0,0],o=+(60*i[1])+b(i[2]);return"+"===i[0]?o:-o}function Et(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(m(t)||o(t)?t.valueOf():mt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):mt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ot(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ct(Yr,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(r=Tt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Ut(this,qt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Tt(this):null!=t?this:NaN}function At(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Dt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function jt(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Ct(Wr,this._i);0===e?this.utcOffset(0,!0):this.utcOffset(Ct(Wr,this._i))}return this}function Mt(e){return!!this.isValid()&&(e=e?mt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function It(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=pt(e),e._a){var t=e._isUTC?c(e._a):mt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Ft(){return!!this.isValid()&&this._isUTC}function Nt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function qt(e,t){var n,r,i,o=e,s=null;return xt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Pi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[Zr])*n,h:b(s[ei])*n,m:b(s[ti])*n,s:b(s[ni])*n,ms:b(St(1e3*s[ri]))*n}):(s=Ii.exec(e))?(n="-"===s[1]?-1:1,o={y:Bt(s[2],n),M:Bt(s[3],n),w:Bt(s[4],n),d:Bt(s[5],n),h:Bt(s[6],n),m:Bt(s[7],n),s:Bt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Vt(mt(o.from),mt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new _t(o),xt(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Bt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){var n;return e.isValid()&&t.isValid()?(t=Et(t,e),e.isBefore(t)?n=Ht(e,t):(n=Ht(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function zt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=qt(n,r),Ut(this,i,e),this}}function Ut(t,n,r,i){var o=n._milliseconds,s=St(n._days),a=St(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),s&&H(t,"Date",B(t,"Date")+s*r),a&&ue(t,B(t,"Month")+a*r),i&&e.updateOffset(t,s||a))}function Wt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Yt(t,n){var r=t||mt(),i=Et(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",s=n&&(k(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,mt(r)))}function $t(){return new g(this)}function Gt(e,t){var n=m(e)?e:mt(e);return!(!this.isValid()||!n.isValid())&&(t=I(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=m(e)?e:mt(e);return!(!this.isValid()||!n.isValid())&&(t=I(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Qt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xt(e,t){var n,r=m(e)?e:mt(e);return!(!this.isValid()||!r.isValid())&&(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Jt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,n){var r,i,o,s;return this.isValid()?(r=Et(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(s=tn(this,r),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-r,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?s:y(s)):NaN):NaN}function tn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(m(e)&&e.isValid()||mt(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function an(e){return this.from(mt(),e)}function un(e,t){return this.isValid()&&(m(e)&&e.isValid()||mt(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(mt(),e)}function ln(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function dn(){return this._locale}function fn(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function hn(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function pn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bn(){return this.isValid()?this.toISOString():null}function wn(){return f(this)}function _n(){return u({},d(this))}function xn(){return d(this).overflow}function Sn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kn(e,t){W(0,[e,e.length],0,t)}function Cn(e){return An.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function En(e){return An.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Tn(){return xe(this.year(),1,4)}function On(){var e=this.localeData()._week;return xe(this.year(),e.dow,e.doy)}function An(e,t,n,r,i){var o;return null==e?_e(this,r,i).year:(o=xe(e,r,i),t>o&&(t=o),Dn.call(this,e,t,n,r,i))}function Dn(e,t,n,r,i){var o=we(e,t,n,r,i),s=ye(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Mn(e,t){t[ri]=b(1e3*("0."+e))}function Pn(){return this._isUTC?"UTC":""}function In(){return this._isUTC?"Coordinated Universal Time":""}function Ln(e){return mt(1e3*e)}function Fn(){return mt.apply(null,arguments).parseZone()}function Nn(e){return e}function qn(e,t,n,r){var i=et(),o=c().set(r,t);return i[n](o,e)}function Bn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return qn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=qn(e,r,n,"month");return i}function Hn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=et(),o=e?i._week.dow:0;if(null!=n)return qn(t,(n+o)%7,r,"day");var s,a=[];for(s=0;s<7;s++)a[s]=qn(t,(s+o)%7,r,"day");return a}function Vn(e,t){return Bn(e,t,"months")}function zn(e,t){return Bn(e,t,"monthsShort")}function Un(e,t,n){return Hn(e,t,n,"weekdays")}function Wn(e,t,n){return Hn(e,t,n,"weekdaysShort")}function Yn(e,t,n){return Hn(e,t,n,"weekdaysMin")}function $n(){var e=this._data;return this._milliseconds=$i(this._milliseconds),this._days=$i(this._days),this._months=$i(this._months),e.milliseconds=$i(e.milliseconds),e.seconds=$i(e.seconds),e.minutes=$i(e.minutes),e.hours=$i(e.hours),e.months=$i(e.months),e.years=$i(e.years),this}function Gn(e,t,n,r){var i=qt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Kn(e,t){return Gn(this,e,t,1)}function Qn(e,t){return Gn(this,e,t,-1)}function Xn(e){return e<0?Math.floor(e):Math.ceil(e)}function Jn(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Xn(er(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=y(o/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,s+=y(n/24),i=y(Zn(s)),a+=i,s-=Xn(er(i)),r=y(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function Zn(e){return 4800*e/146097}function er(e){return 146097*e/4800}function tr(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Zn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(er(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function nr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function rr(e){return function(){return this.as(e)}}function ir(e){return e=I(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function sr(){return y(this.days()/7)}function ar(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ur(e,t,n){var r=qt(e).abs(),i=co(r.as("s")),o=co(r.as("m")),s=co(r.as("h")),a=co(r.as("d")),u=co(r.as("M")),c=co(r.as("y")),l=i<lo.s&&["s",i]||o<=1&&["m"]||o<lo.m&&["mm",o]||s<=1&&["h"]||s<lo.h&&["hh",s]||a<=1&&["d"]||a<lo.d&&["dd",a]||u<=1&&["M"]||u<lo.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,ar.apply(null,l)}function cr(e){return void 0===e?co:"function"==typeof e&&(co=e,!0)}function lr(e,t){return void 0!==lo[e]&&(void 0===t?lo[e]:(lo[e]=t,!0))}function dr(e){var t=this.localeData(),n=ur(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function fr(){var e,t,n,r=fo(this._milliseconds)/1e3,i=fo(this._days),o=fo(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(o/12),o%=12;var s=n,a=o,u=i,c=t,l=e,d=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(c||l||d?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(d?d+"S":""):"P0D"}var hr,pr;pr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var vr=e.momentProperties=[],gr=!1,mr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var yr;yr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var br,wr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},_r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xr="Invalid date",Sr="%d",kr=/\d{1,2}/,Cr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Er={},Tr={},Or=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ar=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Dr={},Rr={},jr=/\d/,Mr=/\d\d/,Pr=/\d{3}/,Ir=/\d{4}/,Lr=/[+-]?\d{6}/,Fr=/\d\d?/,Nr=/\d\d\d\d?/,qr=/\d\d\d\d\d\d?/,Br=/\d{1,3}/,Hr=/\d{1,4}/,Vr=/[+-]?\d{1,6}/,zr=/\d+/,Ur=/[+-]?\d+/,Wr=/Z|[+-]\d\d:?\d\d/gi,Yr=/Z|[+-]\d\d(?::?\d\d)?/gi,$r=/[+-]?\d+(\.\d{1,3})?/,Gr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kr={},Qr={},Xr=0,Jr=1,Zr=2,ei=3,ti=4,ni=5,ri=6,ii=7,oi=8;br=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),F("month",8),Q("M",Fr),Q("MM",Fr,Mr),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Jr]=b(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Jr]=i:d(n).invalidMonth=e});var si=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ai="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ui="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ci=Gr,li=Gr;W("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),F("year",1),Q("Y",Ur),Q("YY",Fr,Mr),Q("YYYY",Hr,Ir),Q("YYYYY",Vr,Lr),Q("YYYYYY",Vr,Lr),ee(["YYYYY","YYYYYY"],Xr),ee("YYYY",function(t,n){n[Xr]=2===t.length?e.parseTwoDigitYear(t):b(t)}),ee("YY",function(t,n){n[Xr]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Xr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var di=q("FullYear",!0);W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),F("week",5),F("isoWeek",5),Q("w",Fr),Q("ww",Fr,Mr),Q("W",Fr),Q("WW",Fr,Mr),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var fi={dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Q("d",Fr),Q("e",Fr),Q("E",Fr),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var hi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gi=Gr,mi=Gr,yi=Gr;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Ve),W("k",["kk",2],0,ze),W("hmm",0,0,function(){return""+Ve.apply(this)+U(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Ve.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),P("hour","h"),F("hour",13),Q("a",We),Q("A",We),Q("H",Fr),Q("h",Fr),Q("HH",Fr,Mr),Q("hh",Fr,Mr),Q("hmm",Nr),Q("hmmss",qr),Q("Hmm",Nr),Q("Hmmss",qr),ee(["H","HH"],ei),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[ei]=b(e),d(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r)),d(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r,2)),t[ni]=b(e.substr(i)),d(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r,2)),t[ni]=b(e.substr(i))});var bi,wi=/[ap]\.?m?\.?/i,_i=q("Hours",!0),xi={calendar:wr,longDateFormat:_r,invalidDate:xr,ordinal:Sr,ordinalParse:kr,relativeTime:Cr,months:ai,monthsShort:ui,week:fi,weekdays:hi,weekdaysMin:vi,weekdaysShort:pi,meridiemParse:wi},Si={},ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ci=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ei=/Z|[+-]\d\d(?::?\d\d)?/,Ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Oi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ai=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Di=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),Ri=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),ji=function(){return Date.now?Date.now():+new Date};kt("Z",":"),kt("ZZ",""),Q("Z",Yr),Q("ZZ",Yr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ct(Yr,e)});var Mi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Pi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ii=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;qt.fn=_t.prototype;var Li=zt(1,"add"),Fi=zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ni=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kn("gggg","weekYear"),kn("ggggg","weekYear"),kn("GGGG","isoWeekYear"),kn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Q("G",Ur),Q("g",Ur),Q("GG",Fr,Mr),Q("gg",Fr,Mr),Q("GGGG",Hr,Ir),Q("gggg",Hr,Ir),Q("GGGGG",Vr,Lr),Q("ggggg",Vr,Lr),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),P("quarter","Q"),F("quarter",7),Q("Q",jr),ee("Q",function(e,t){t[Jr]=3*(b(e)-1)}),W("D",["DD",2],"Do","date"),P("date","D"),F("date",9),Q("D",Fr),Q("DD",Fr,Mr),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Zr),ee("Do",function(e,t){t[Zr]=b(e.match(Fr)[0],10)});var qi=q("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),F("dayOfYear",4),Q("DDD",Br),Q("DDDD",Pr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),W("m",["mm",2],0,"minute"),P("minute","m"),F("minute",14),Q("m",Fr),Q("mm",Fr,Mr),ee(["m","mm"],ti);var Bi=q("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),F("second",15),Q("s",Fr),Q("ss",Fr,Mr),ee(["s","ss"],ni);var Hi=q("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),F("millisecond",16),Q("S",Br,jr),Q("SS",Br,Mr),Q("SSS",Br,Pr);var Vi;for(Vi="SSSS";Vi.length<=9;Vi+="S")Q(Vi,zr);for(Vi="S";Vi.length<=9;Vi+="S")ee(Vi,Mn);var zi=q("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Ui=g.prototype;Ui.add=Li,Ui.calendar=Yt,Ui.clone=$t,Ui.diff=en,Ui.endOf=hn,Ui.format=on,Ui.from=sn,Ui.fromNow=an,Ui.to=un,Ui.toNow=cn,Ui.get=V,Ui.invalidAt=xn,Ui.isAfter=Gt,Ui.isBefore=Kt,Ui.isBetween=Qt,Ui.isSame=Xt,Ui.isSameOrAfter=Jt,Ui.isSameOrBefore=Zt,Ui.isValid=wn,Ui.lang=Ni,Ui.locale=ln,Ui.localeData=dn,Ui.max=Ri,Ui.min=Di,Ui.parsingFlags=_n,Ui.set=z,Ui.startOf=fn,Ui.subtract=Fi,Ui.toArray=mn,Ui.toObject=yn,Ui.toDate=gn,Ui.toISOString=rn,Ui.toJSON=bn,Ui.toString=nn,Ui.unix=vn,Ui.valueOf=pn,Ui.creationData=Sn,Ui.year=di,Ui.isLeapYear=ge,Ui.weekYear=Cn,Ui.isoWeekYear=En,Ui.quarter=Ui.quarters=Rn,Ui.month=ce,Ui.daysInMonth=le,Ui.week=Ui.weeks=Ee,Ui.isoWeek=Ui.isoWeeks=Te,Ui.weeksInYear=On,Ui.isoWeeksInYear=Tn,Ui.date=qi,Ui.day=Ui.days=Ie,Ui.weekday=Le,Ui.isoWeekday=Fe,Ui.dayOfYear=jn,Ui.hour=Ui.hours=_i,Ui.minute=Ui.minutes=Bi,Ui.second=Ui.seconds=Hi,Ui.millisecond=Ui.milliseconds=zi,Ui.utcOffset=Ot,Ui.utc=Dt,Ui.local=Rt,Ui.parseZone=jt,Ui.hasAlignedHourOffset=Mt,Ui.isDST=Pt,Ui.isLocal=Lt,Ui.isUtcOffset=Ft,Ui.isUtc=Nt,Ui.isUTC=Nt,Ui.zoneAbbr=Pn,Ui.zoneName=In,Ui.dates=x("dates accessor is deprecated. Use date instead.",qi),Ui.months=x("months accessor is deprecated. Use month instead",ce),Ui.years=x("years accessor is deprecated. Use year instead",di),Ui.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",At),Ui.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",It);var Wi=Ui,Yi=T.prototype;Yi.calendar=O,Yi.longDateFormat=A,Yi.invalidDate=D,Yi.ordinal=R,Yi.preparse=Nn,Yi.postformat=Nn,Yi.relativeTime=j,Yi.pastFuture=M,Yi.set=C,Yi.months=ie,Yi.monthsShort=oe,Yi.monthsParse=ae,Yi.monthsRegex=fe,Yi.monthsShortRegex=de,Yi.week=Se,Yi.firstDayOfYear=Ce,Yi.firstDayOfWeek=ke,Yi.weekdays=De,Yi.weekdaysMin=je,Yi.weekdaysShort=Re,Yi.weekdaysParse=Pe,Yi.weekdaysRegex=Ne,Yi.weekdaysShortRegex=qe,Yi.weekdaysMinRegex=Be,Yi.isPM=Ye,Yi.meridiem=$e,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",et);var $i=Math.abs,Gi=rr("ms"),Ki=rr("s"),Qi=rr("m"),Xi=rr("h"),Ji=rr("d"),Zi=rr("w"),eo=rr("M"),to=rr("y"),no=or("milliseconds"),ro=or("seconds"),io=or("minutes"),oo=or("hours"),so=or("days"),ao=or("months"),uo=or("years"),co=Math.round,lo={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,ho=_t.prototype;ho.abs=$n,ho.add=Kn,ho.subtract=Qn,ho.as=tr,ho.asMilliseconds=Gi,ho.asSeconds=Ki,ho.asMinutes=Qi,ho.asHours=Xi,ho.asDays=Ji,ho.asWeeks=Zi,ho.asMonths=eo,ho.asYears=to,
ho.valueOf=nr,ho._bubble=Jn,ho.get=ir,ho.milliseconds=no,ho.seconds=ro,ho.minutes=io,ho.hours=oo,ho.days=so,ho.weeks=sr,ho.months=ao,ho.years=uo,ho.humanize=dr,ho.toISOString=fr,ho.toString=fr,ho.toJSON=fr,ho.locale=ln,ho.localeData=dn,ho.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fr),ho.lang=Ni,W("X",0,0,"unix"),W("x",0,0,"valueOf"),Q("x",Ur),Q("X",$r),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.15.2",t(mt),e.fn=Wi,e.min=bt,e.max=wt,e.now=ji,e.utc=c,e.unix=Ln,e.months=Vn,e.isDate=o,e.locale=Xe,e.invalid=h,e.duration=qt,e.isMoment=m,e.weekdays=Un,e.parseZone=Fn,e.localeData=et,e.isDuration=xt,e.monthsShort=zn,e.weekdaysMin=Yn,e.defineLocale=Je,e.updateLocale=Ze,e.locales=tt,e.weekdaysShort=Wn,e.normalizeUnits=I,e.relativeTimeRounding=cr,e.relativeTimeThreshold=lr,e.calendarFormat=Wt,e.prototype=Wi;var po=e;return po}),function(){function e(e){function t(t,n,r,i,o,s){for(;o>=0&&o<s;o+=e){var a=i?i[o]:o;r=n(r,t[a],a,t)}return r}return function(n,r,i,o){r=b(r,o,4);var s=!E(n)&&y.keys(n),a=(s||n).length,u=e>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=e),t(n,r,i,s,u,a)}}function t(e){return function(t,n,r){n=w(n,r);for(var i=C(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var s=0,a=C(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(l.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=R.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=R[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,s=Array.prototype,a=Object.prototype,u=Function.prototype,c=s.push,l=s.slice,d=a.toString,f=a.hasOwnProperty,h=Array.isArray,p=Object.keys,v=u.bind,g=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var _=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var c=s[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}},x=function(e){if(!y.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,C=S("length"),E=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=k};y.each=y.forEach=function(e,t,n){t=b(t,n);var r,i;if(E(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var r=!E(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;if(r=E(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=w(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var r=!E(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var r=!E(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return E(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=l.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=E(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],r>o&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i>s||i===-(1/0)&&o===-(1/0))&&(o=e,s=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e){e=E(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],r<o&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},y.shuffle=function(e){for(var t,n=E(e)?e:y.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(E(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=w(n,r),y.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};y.groupBy=T(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=T(function(e,t,n){e[n]=t}),y.countBy=T(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?l.call(e):E(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:E(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var O=function(e,t,n,r){for(var i=[],o=0,s=r||0,a=C(e);s<a;s++){var u=e[s];if(E(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=O(u,t,n));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};y.flatten=function(e,t){return O(e,t,!1)},y.without=function(e){return y.difference(e,l.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],s=0,a=C(e);s<a;s++){var u=e[s],c=n?n(u,s,e):u;t?(s&&o===c||i.push(u),o=c):n?y.contains(o,c)||(o.push(c),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(O(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=C(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=function(e){var t=O(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,C).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=C(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=w(n,r,1);for(var i=n(t),o=0,s=C(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var A=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=x(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,l.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),r=function(){return A(e,r,t,this,n.concat(l.call(arguments)))};return r},y.partial=function(e){var t=l.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),s=0;s<i;s++)o[s]=t[s]===y?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return A(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var c=y.now();a||n.leading!==!1||(a=c);var l=t-(c-a);return r=this,i=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(u,l)),o}},y.debounce=function(e,t,n){var r,i,o,s,a,u=function(){var c=y.now()-s;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(a=e.apply(o,i),o=i=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return D&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=i.length,s={},a=0;a<o;a++)r=i[a],s[r]=t(e[r],r,e);return s},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,i,o={},s=e;if(null==s)return o;y.isFunction(t)?(i=y.allKeys(s),r=b(t,n)):(i=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],l=s[c];r(l,c,s)&&(o[c]=l)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(O(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=_(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var j=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!j(e[u],t[u],n,r))return!1}else{var c,l=y.keys(e);if(u=l.length,y.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!y.has(t,c)||!j(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return j(e,t)},y.isEmpty=function(e){return null==e||(E(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=S,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=y.invert(M),I=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=I(M),y.unescape=I(P),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var L=0;y.uniqueId=function(e){var t=++L+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+N[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(q,B),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,y)},u=t.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var H=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),H(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),y.each(["concat","join","slice"],function(e){var t=s[e];y.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return p({type:_.error,iconClass:v().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=v()),m=e("#"+t.containerId),m.length?m:(n&&(m=d(t)),m)}function r(e,t,n){return p({type:_.info,iconClass:v().iconClasses.info,message:e,optionsOverride:n,title:t})}function i(e){y=e}function o(e,t,n){return p({type:_.success,iconClass:v().iconClasses.success,message:e,optionsOverride:n,title:t})}function s(e,t,n){return p({type:_.warning,iconClass:v().iconClasses.warning,message:e,optionsOverride:n,title:t})}function a(e,t){var r=v();m||n(r),l(e,r,t)||c(r)}function u(t){var r=v();return m||n(r),t&&0===e(":focus",t).length?void g(t):void(m.children().length&&m.remove())}function c(t){for(var n=m.children(),r=n.length-1;r>=0;r--)l(e(n[r]),t)}function l(t,n,r){var i=!(!r||!r.force)&&r.force;return!(!t||!i&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(t)}}),!0)}function d(t){return m=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),m.appendTo(e(t.target)),m}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function h(e){y&&y(e)}function p(t){function r(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(){a(),c(),l(),d(),f(),u()}function o(){T.hover(x,_),!k.onclick&&k.tapToDismiss&&T.click(y),k.closeButton&&R&&R.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),y(!0)}),k.onclick&&T.click(function(e){k.onclick(e),y()})}function s(){T.hide(),T[k.showMethod]({duration:k.showDuration,easing:k.showEasing,complete:k.onShown}),k.timeOut>0&&(E=setTimeout(y,k.timeOut),j.maxHideTime=parseFloat(k.timeOut),j.hideEta=(new Date).getTime()+j.maxHideTime,k.progressBar&&(j.intervalId=setInterval(S,10)))}function a(){t.iconClass&&T.addClass(k.toastClass).addClass(C)}function u(){k.newestOnTop?m.prepend(T):m.append(T)}function c(){t.title&&(O.append(k.escapeHtml?r(t.title):t.title).addClass(k.titleClass),T.append(O))}function l(){t.message&&(A.append(k.escapeHtml?r(t.message):t.message).addClass(k.messageClass),T.append(A))}function d(){k.closeButton&&(R.addClass("toast-close-button").attr("role","button"),T.prepend(R))}function f(){k.progressBar&&(D.addClass("toast-progress"),T.prepend(D))}function p(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}function y(t){var n=t&&k.closeMethod!==!1?k.closeMethod:k.hideMethod,r=t&&k.closeDuration!==!1?k.closeDuration:k.hideDuration,i=t&&k.closeEasing!==!1?k.closeEasing:k.hideEasing;if(!e(":focus",T).length||t)return clearTimeout(j.intervalId),T[n]({duration:r,easing:i,complete:function(){g(T),k.onHidden&&"hidden"!==M.state&&k.onHidden(),M.state="hidden",M.endTime=new Date,h(M)}})}function _(){(k.timeOut>0||k.extendedTimeOut>0)&&(E=setTimeout(y,k.extendedTimeOut),j.maxHideTime=parseFloat(k.extendedTimeOut),j.hideEta=(new Date).getTime()+j.maxHideTime)}function x(){clearTimeout(E),j.hideEta=0,T.stop(!0,!0)[k.showMethod]({duration:k.showDuration,easing:k.showEasing})}function S(){var e=(j.hideEta-(new Date).getTime())/j.maxHideTime*100;D.width(e+"%")}var k=v(),C=t.iconClass||k.iconClass;if("undefined"!=typeof t.optionsOverride&&(k=e.extend(k,t.optionsOverride),C=t.optionsOverride.iconClass||C),!p(k,t)){w++,m=n(k,!0);var E=null,T=e("<div/>"),O=e("<div/>"),A=e("<div/>"),D=e("<div/>"),R=e(k.closeHtml),j={intervalId:null,hideEta:null,maxHideTime:null},M={toastId:w,state:"visible",startTime:new Date,options:k,map:t};return i(),s(),o(),h(M),k.debug&&console&&console.log(M),T}}function v(){return e.extend({},f(),x.options)}function g(e){m||(m=n()),e.is(":visible")||(e.remove(),e=null,0===m.children().length&&(m.remove(),b=void 0))}var m,y,b,w=0,_={error:"error",info:"info",success:"success",warning:"warning"},x={clear:a,remove:u,error:t,getContainer:n,info:r,options:{},subscribe:i,success:o,version:"2.1.2",warning:s};return x}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PouchDB=e()}}(function(){var e;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],2:[function(e,t,n){(function(r){function i(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e(3),n.log=s,n.formatArgs=o,n.save=a,n.load=u,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e(9))},{3:3,9:9}],3:[function(e,t,n){function r(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(c||r);e.diff=i,e.prev=c,e.curr=r,c=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;a++;var i=n.formatters[r];if("function"==typeof i){var s=o[a];t=i.call(e,s),o.splice(a,1),a--}return t}),n.formatArgs.call(e,o);var u=t.log||n.log||console.log.bind(console);u.apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),"function"==typeof n.init&&n.init(t),t}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i.debug=i.default=i,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e(8),n.names=[],n.skips=[],n.formatters={};var c},{8:8}],4:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}l=!1}function r(e){1!==d.push(e)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,d=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],7:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,s=c(i);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function d(e){var t=new this(r);return v.reject(t,e)}function f(e){function t(e,t){function r(e){
s[t]=e,++a!==i||o||(o=!0,v.resolve(c,s))}n.resolve(e).then(r,function(e){o||(o=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(r);++u<i;)t(e[u],u);return c}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)t(e[s]);return a}var p=e(5),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===m?e:t;s(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=m,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},i.resolve=l,i.reject=d,i.all=f,i.race=h},{5:5}],8:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,d=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isNaN(e)===!1)return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],9:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?v=p.concat(v):m=-1,v.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=v.length;t;){for(p=v,v=[];++m<t;)p&&p[m].run();m=-1,t=v.length}p=null,g=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var d,f,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var p,v=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],10:[function(e,t,n){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var i,o,s,a;o=[],a=[];for(i in r)e.call(r,i)&&(s=r[i],"this"!==i&&(o.push(i),a.push(s)));return Function.apply(null,n.call(o).concat([t])).apply(r.this,a)}}).call(this)},{}],11:[function(t,n,r){!function(t){if("object"==typeof r)n.exports=t();else if("function"==typeof e&&e.amd)e(t);else{var i;try{i=window}catch(e){i=self}i.SparkMD5=t()}}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n+=(r&i|~r&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[2]+606105819|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[6]-1473231341|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[10]-42063|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[13]-40341101|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[14]-1502002290|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&o|i&~o)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[11]+643717713|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[15]-660478335|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[3]-187363961|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[7]+1735328473|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^o)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[11]+1839030562|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[7]-155497632|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[3]-722521979|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[12]-421815835|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[15]+530742520|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var r,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)o[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(t(l,o),r=0;r<16;r+=1)o[r]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,t(l,o),l}function o(e){var n,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)o[n>>2]|=e[n]<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(l,o),n=0;n<16;n+=1)o[n]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,t(l,o),l}function s(e){var t,n="";for(t=0;t<4;t+=1)n+=v[e>>8*t+4&15]+v[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function f(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=function(e,t){return e+t&4294967295},v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(i("hello"))&&(p=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,u=this.byteLength,c=t(n,u),l=u;return r!==e&&(l=t(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,c,i),s.set(a),o)}}(),h.prototype.append=function(e){return this.appendBinary(u(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,i=this._buff.length;for(r=64;r<=i;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=f(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,i,o,s=n;if(e[s>>2]|=128<<(s%4<<3),s>55)for(t(this._hash,e),s=0;s<16;s+=1)e[s]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(u(e),t)},h.hashBinary=function(e,t){var n=i(e),r=a(n);return t?f(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,i=d(this._buff.buffer,e,!0),o=i.length;for(this._length+=e.byteLength,n=64;n<=o;n+=64)t(this._hash,r(i.subarray(n-64,n)));return this._buff=n-64<o?new Uint8Array(i.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=f(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=o(new Uint8Array(e)),r=a(n);return t?f(r):r},h})},{}],12:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var s=t.pop();i[s]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,s,a,u,c,l,d,f,h="";n=t.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",h+=i,o)h+=o;else if("object"!=typeof r)h+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),s=u.length-1;s>=0;s--)l=u[s],d=r[l],f=s>0?",":"",f+=JSON.stringify(l)+":",t.push({obj:d,prefix:f});t.push({val:"{"})}return h},n.parse=function(e){for(var t,n,i,o,s,a,u,c,l,d=[],f=[],h=0;;)if(t=e[h++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,d,f);break;case"t":h+=3,r(!0,d,f);break;case"f":h+=4,r(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}n+=i}r(parseFloat(n),d,f);break;case'"':for(o="",s=void 0,a=0;;){if(u=e[h++],'"'===u&&("\\"!==s||a%2!==1))break;o+=u,s=u,"\\"===s?a++:a=0}r(JSON.parse('"'+o+'"'),d,f);break;case"[":c={element:[],index:d.length},d.push(c.element),f.push(c);break;case"{":l={element:{},index:d.length},d.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,f)}}},{}],13:[function(e,t,n){(function(n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function o(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function s(e){if(e instanceof ArrayBuffer)return o(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Ir.call(n)==Lr}function u(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(i(e))return s(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=u(e[n]);"undefined"!=typeof o&&(t[n]=o)}return t}function c(e){var t=!1;return Er(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return Er(function(t){t=u(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),i=new Pr(function(r,i){var o;try{var s=c(function(e,t){e?i(e):r(t)});t.push(s),o=e.apply(n,t),o&&"function"==typeof o.then&&r(o)}catch(e){i(e)}});return r&&i.then(function(e){r(null,e)},r),i})}function d(e,t){function n(e,t,n){if(Fr.enabled){for(var r=[e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);Fr.apply(null,r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=[e.name,t];i=i.concat(n?["error",n]:["success",r]),Fr.apply(null,i),o(n,r)}}}return l(Er(function(r){if(this._closed)return Pr.reject(new Error("database is closed"));if(this._destroyed)return Pr.reject(new Error("database is destroyed"));var i=this;return n(i,e,r),this.taskqueue.isReady?t.apply(this,r):new Pr(function(t,n){i.taskqueue.addTask(function(o){o?n(o):t(i[e].apply(i,r))})})}))}function f(e){return"$"+e}function h(e){return e.substring(1)}function p(){this._store={}}function v(e){if(this._store=new p,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function g(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}function m(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function y(e){return e}function b(e){return[{ok:e}]}function w(e,t,n){function r(){var e=[];f.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function i(){++d===l&&r()}function o(e,t,n){f[e]={id:t,docs:n},i()}function s(){if(!(p>=h.length)){var e=Math.min(p+Hr,h.length),t=h.slice(p,e);a(t,p),p+=t.length}}function a(n,r){n.forEach(function(n,i){var a=r+i,u=c.get(n),l=m(u[0],["atts_since","attachments"]);l.open_revs=u.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(y);var d=y;0===l.open_revs.length&&(delete l.open_revs,d=b),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:d(t),o(a,n,r),s()})})}var u=t.docs,c=new qr;u.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,d=0,f=new Array(l),h=[];c.forEach(function(e,t){h.push(t)});var p=0;s()}function _(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function x(){return Br}function S(e){_()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):x()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function k(){Or.EventEmitter.call(this),this._listeners={},S(this)}function C(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function E(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>n&&(e=n>>1,t=n);var r=Math.random(),i=t-e;return~~(i*r+e)}function T(e){var t=0;return e||(t=2e3),E(e,t)}function O(e,t){C("info","The above "+e+" is totally normal. "+t)}function A(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function D(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=A.prototype,new n(t)}function R(e){if("object"!=typeof e){var t=e;e=Xr,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function j(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return D(ti,r)}}function M(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&j(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function P(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function I(){}function L(e){var t;if(e?"string"!=typeof e?t=D(Gr):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=D(Qr)):t=D(Kr),t)throw t}function F(e,t){return"listenerCount"in e?e.listenerCount(t):Or.EventEmitter.listenerCount(e,t)}function N(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function q(e){var t=N(e);return t?t.join("/"):null}function B(e){for(var t=di.exec(e),n={},r=14;r--;){var i=ui[r],o=t[r]||"",s=["user","password"].indexOf(i)!==-1;n[i]=s?decodeURIComponent(o):o}return n[ci]={},n[ui[12]].replace(li,function(e,t,r){t&&(n[ci][t]=r)}),n}function H(e,t,n){return new Pr(function(r,i){e.get(t,function(o,s){if(o){if(404!==o.status)return i(o);s={}}var a=s._rev,u=n(s);return u?(u._id=t,u._rev=a,void r(V(e,u,n))):r({updated:!1,rev:a})})})}function V(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return H(e,t._id,n)})}function z(e){return 0|Math.random()*e}function U(e,t){t=t||fi.length;var n="",r=-1;if(e){for(;++r<e;)n+=fi[z(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=fi[3&z(16)|8];break;default:n+=fi[z(16)]}return n}function W(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],u=i.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});else{var d=!!s[1].deleted,f=s[0];t&&!(r!==d?r:n!==u?n<u:t<f)||(t=f,n=u,r=d)}}return n+"-"+t}function Y(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=t(0===s.length,i,o[0],n.ctx,o[1]),u=0,c=s.length;u<c;u++)r.push({pos:i+1,ids:s[u],ctx:a})}function $(e,t){return e.pos-t.pos}function G(e){var t=[];Y(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort($).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function K(e){for(var t=W(e),n=G(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev===t||s.opts.deleted||r.push(s.rev)}return r}function Q(e){var t=[];return Y(e.rev_tree,function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")}),t}function X(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:i+1-l.length,ids:l});for(var d=0,f=u.length;d<f;d++)r.push({pos:i+1,ids:u[d],history:l})}return n.reverse()}function J(e,t){return e.pos-t.pos}function Z(e,t,n){for(var r,i=0,o=e.length;i<o;)r=i+o>>>1,n(e[r],t)<0?i=r+1:o=r;return i}function ee(e,t,n){var r=Z(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===s[2][a][0]&&(n.push({tree1:o[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",ee(o[2],s[2][a],ne))}else r="new_leaf",o[2][0]=s[2][a]}return{conflicts:r,tree:e}}function ie(e,t,n){var r,i=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,u=e.length;a<u;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=re(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,s=!0;else if(n!==!0){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,f=d.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var g=v.ids[2],m=0,y=g.length;m<y;m++)p.push({ids:g[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===d.ids[0]&&h.push(v)}var b=h[0];b?(r=re(b.ids,d.ids),b.parent[2][b.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(t),i.sort(J),{tree:i,conflicts:o||"internal_node"}}function oe(e,t){for(var n,r,i=X(e),o=0,s=i.length;o<s;o++){var a,u=i[o],c=u.ids;if(c.length>t){n||(n={});var l=c.length-t;a={pos:u.pos+l,ids:te(c,l)};for(var d=0;d<l;d++){var f=u.pos+d+"-"+c[d].id;n[f]=!0}}else a={pos:u.pos,ids:te(c,0)};r=r?ie(r,a,!0).tree:[a]}return n&&Y(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function se(e,t,n){var r=ie(e,t),i=oe(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function ae(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)r.push({pos:n.pos+1,ids:a[u]})}return!1}function ue(e){return e.ids}function ce(e,t){t||(t=W(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(ue);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function le(e){return/^_local/.test(e)}function de(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:i,opts:a}),c)for(var d=0,f=l.length;d<f;d++){var h=l[d],p=h.pos+"-"+h.id;if(p===e)return i+"-"+s}for(var v=0,g=u.length;v<g;v++)r.push({pos:i+1,ids:u[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function fe(e){return Rr('"use strict";\nreturn '+e+";",{})}function he(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Rr(t,{})}function pe(e,t){try{e.emit("change",t)}catch(e){C("error",'Error in .on("change", function):',e)}}function ve(e,t,n){function r(){i.cancel()}Or.EventEmitter.call(this);var i=this;this.db=e,t=t?u(t):{};var o=t.complete=c(function(t,n){t?F(i,"error")>0&&i.emit("error",t):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",r)});n&&(i.on("complete",function(e){n(null,e)}),i.on("error",n)),e.once("destroyed",r),t.onChange=function(e){i.isCancelled||pe(i,e)};var s=new Pr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});i.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(e){o(null,e)},o),e.taskqueue.isReady?i.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.doChanges(t)})}function ge(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=G(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:r,doc:e};return ce(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=K(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function me(e,t){return e<t?-1:e>t?1:0}function ye(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function be(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=m(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function we(e,t){var n=me(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return me(r,i)}function _e(e){var t={},n=[];return Y(e,function(e,r,i,o){var s=r+"-"+i;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function xe(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var i={offset:t.skip};return Pr.all(r.map(function(n){var r=zr({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Pr(function(t,o){e._allDocs(r,function(e,r){return e?o(e):(i.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return i.rows=e,i})}function Se(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),Dr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&Se(e)})})})}function ke(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Ce(){Or.EventEmitter.call(this)}function Ee(){this.isReady=!1,this.failed=!1,this.queue=[]}function Te(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ae.adapters,i=Ae.preferredAdapters,o=Ae.prefix,s=t.adapter;if(!s)for(var a=0;a<i.length;++a){s=i[a];{if(!("idb"===s&&"websql"in r&&x()&&localStorage["_pouch__websqldb_"+o+e]))break;C("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var u=r[s],c=!(u&&"use_prefix"in u)||u.use_prefix;return{name:c?o+e:e,adapter:s}}function Oe(e){function t(){e.removeListener("closed",r),e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.removeListener("closed",r),e.emit("destroyed")}function r(){e.removeListener("destroyed",t),i.delete(e.name)}var i=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",r),i.has(e.name)||i.set(e.name,[]),i.get(e.name).push(n)}function Ae(e,t){if(!(this instanceof Ae))return new Ae(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=u(t),n.auto_compaction=t.auto_compaction,n.prefix=Ae.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,i=Te(r,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,Tr("pouchdb:adapter")("Picked adapter: "+t.adapter),!Ae.adapters[t.adapter]||!Ae.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Ce.call(n),n.taskqueue=new Ee,n.adapter=t.adapter,Ae.adapters[t.adapter].call(n,t,function(e){return e?n.taskqueue.fail(e):(Oe(n),n.emit("created",n),Ae.emit("created",n.name),void n.taskqueue.ready(n))})}function De(e){Object.keys(Or.EventEmitter.prototype).forEach(function(t){"function"==typeof Or.EventEmitter.prototype[t]&&(e[t]=hi[t].bind(hi))});var t=e._destructionListeners=new qr;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}function Re(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function je(e){if(!/^\d+\-./.test(e))return D(oi);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Me(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function Pe(e,t){var n,r,i,o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=U()),r=U(32,16).toLowerCase(),e._rev){if(i=je(e._rev),i.error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Me(e._revisions,o),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(i=je(e._rev),i.error)return i;n=i.prefix,r=i.id,e._rev_tree=[{pos:n,ids:[r,o,[]]}]}L(e._id),e._rev=n+"-"+r;var s={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u="_"===a[0];if(u&&!gi[a]){var c=D(ei,a);throw c.message=ei.message+": "+a,c}u&&!mi[a]?s.metadata[a.slice(1)]=e[a]:s.data[a]=e[a]}return s}function Ie(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);
return r.getBlob(t.type)}}function Le(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function Fe(e,t){return Ie([Le(e)],{type:t})}function Ne(e,t){return Fe(yi(e),t)}function qe(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function Be(e,t){if("undefined"==typeof FileReader)return t(qe((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(qe(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function He(e,t){Be(e,function(e){t(e)})}function Ve(e,t){He(e,function(e){t(bi(e))})}function ze(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Ue(e){return bi(e)}function We(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function Ye(e,t,n,r,i){(n>0||r<t.size)&&(t=We(t,n,r)),ze(t,function(t){e.append(t),i()})}function $e(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function Ge(e,t){function n(){wi(i)}function r(){var e=l.end(!0),n=Ue(e);t(n),l.destroy()}function i(){var t=c*a,i=t+a;c++,c<u?d(l,e,t,i,n):d(l,e,t,i,r)}var o="string"==typeof e,s=o?e.length:e.size,a=Math.min(_i,s),u=Math.ceil(s/a),c=0,l=o?new jr:new jr.ArrayBuffer,d=o?$e:Ye;i()}function Ke(e){return jr.hash(e)}function Qe(e){try{return yi(e)}catch(e){var t=D(Jr,"Attachment is not a valid base64 string");return{error:t}}}function Xe(e,t,n){var r=Qe(e.data);return r.error?n(r.error):(e.length=r.length,"blob"===t?e.data=Fe(r,e.content_type):"base64"===t?e.data=bi(r):e.data=r,void Ge(r,function(t){e.digest="md5-"+t,n()}))}function Je(e,t,n){Ge(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?He(e.data,function(t){e.data=t,n()}):"base64"===t?Ve(e.data,function(t){e.data=t,n()}):n()})}function Ze(e,t,n){return e.stub?n():void("string"==typeof e.data?Xe(e,t,n):Je(e,t,n))}function et(e,t,n){function r(){o++,e.length===o&&(i?n(i):n())}if(!e.length)return n();var i,o=0;e.forEach(function(e){function n(e){i=e,s++,s===o.length&&r()}var o=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],s=0;if(!o.length)return r();for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&Ze(e.data._attachments[a],t,n)})}function tt(e,t,n,r,i,o,s,a){if(ae(t.rev_tree,n.metadata.rev))return r[i]=n,o();var u=t.winningRev||W(t),c="deleted"in t?t.deleted:ce(t,u),l="deleted"in n.metadata?n.metadata.deleted:ce(n.metadata),d=/^1-/.test(n.metadata.rev);if(c&&!l&&a&&d){var f=n.data;f._rev=u,f._id=n.metadata.id,n=Pe(f,a)}var h=se(t.rev_tree,n.metadata.rev_tree[0],e),p=a&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts);if(p){var v=D($r);return r[i]=v,o()}var g=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m,y=W(n.metadata),b=ce(n.metadata,y),w=c===b?0:c<b?-1:1;m=g===y?b:ce(n.metadata,g),s(n,y,b,m,!0,w,i,o)}function nt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function rt(e,t,n,r,i,o,s,a,u){function c(e,t,n){var r=W(e.metadata),i=ce(e.metadata,r);if("was_delete"in a&&i)return o[t]=D(Yr,"deleted"),n();var u=d&&nt(e);if(u){var c=D($r);return o[t]=c,n()}var l=i?0:1;s(e,r,i,i,!1,l,t,n)}function l(){++h===p&&u&&u()}e=e||1e3;var d=a.new_edits,f=new qr,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&le(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:i},function(e,n){o[t]=e||n,l()})}var s=e.metadata.id;f.has(s)?(p--,f.get(s).push([e,t])):f.set(s,[[e,t]])}),f.forEach(function(t,n){function i(){++u<t.length?a():l()}function a(){var a=t[u],l=a[0],f=a[1];if(r.has(n))tt(e,r.get(n),l,o,f,i,s,d);else{var h=se([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,f,i)}}var u=0;a()})}function it(e){try{return JSON.parse(e)}catch(t){return Mr.parse(e)}}function ot(e){try{return JSON.stringify(e)}catch(t){return Mr.stringify(e)}}function st(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(D(ri,n,t.type))}}function at(e,t,n){return{data:ot(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function ut(e){if(!e)return null;var t=it(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ct(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function lt(e,t,n,r){n?r(e?"string"!=typeof e?e:Ne(e,t):Ie([""],{type:t})):e?"string"!=typeof e?Be(e,function(e){r(bi(e))}):r(e):r("")}function dt(e,t,n,r){function i(){++a===s.length&&r&&r()}function o(e,t){var r=e._attachments[t],o=r.digest,s=n.objectStore(Ci).get(o);s.onsuccess=function(e){r.body=e.target.result.body,i()}}var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var a=0;s.forEach(function(n){t.attachments&&t.include_docs?o(e,n):(e._attachments[n].stub=!0,i())})}function ft(e,t){return Pr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Pr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new Pr(function(s){lt(i,o,t,function(t){e.doc._attachments[n]=zr(m(r,["digest","content_type"]),{data:t}),s()})})}}))}}))}function ht(e,t,n){function r(){c--,c||i()}function i(){o.length&&o.forEach(function(e){var t=u.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||a.delete(e)}})}var o=[],s=n.objectStore(ki),a=n.objectStore(Ci),u=n.objectStore(Ei),c=e.length;e.forEach(function(e){var n=s.index("_doc_id_rev"),i=t+"::"+e;n.getKey(i).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();s.delete(t);var n=u.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];o.push(n),u.delete(t.primaryKey),t.continue()}else r()}}})}function pt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function vt(e,t,n,r,i,o){function s(){var e=[Si,ki,Ci,Oi,Ei,Ti],t=pt(i,e,"readwrite");return t.error?o(t.error):(b=t.txn,b.onabort=st(o),b.ontimeout=st(o),b.oncomplete=d,w=b.objectStore(Si),_=b.objectStore(ki),x=b.objectStore(Ci),S=b.objectStore(Ei),k=b.objectStore(Ti),k.get(Ti).onsuccess=function(e){E=e.target.result,c()},void h(function(e){return e?(L=!0,o(e)):void l()}))}function a(){j=!0,c()}function u(){rt(e.revs_limit,T,r,I,b,P,p,n,a)}function c(){E&&j&&(E.docCount+=M,k.put(E))}function l(){function e(){++n===T.length&&u()}function t(t){var n=ut(t.target.result);n&&I.set(n.id,n),e()}if(T.length)for(var n=0,r=0,i=T.length;r<i;r++){var o=T[r];if(o._id&&le(o._id))e();else{var s=w.get(o.metadata.id);s.onsuccess=t}}}function d(){L||(Di.notify(r._meta.name),o(null,P))}function f(e,t){var n=x.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=D(si,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++i===n.length&&e(r)}var n=[];if(T.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){f(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,i,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0);var l=u._attachments&&Object.keys(u._attachments).length;return l?g(e,t,n,i,s,a):(M+=o,c(),void v(e,t,n,i,s,a))}function v(e,t,n,i,o,s){function a(o){var s=e.stemmedRevs||[];i&&r.auto_compaction&&(s=s.concat(Q(e.metadata))),s&&s.length&&ht(s,e.metadata.id,b),d.seq=o.target.result;var a=at(d,t,n),u=w.put(a);u.onsuccess=c}function u(e){e.preventDefault(),e.stopPropagation();var t=_.index("_doc_id_rev"),n=t.getKey(l._doc_id_rev);n.onsuccess=function(e){var t=_.put(l,e.target.result);t.onsuccess=a}}function c(){P[o]={ok:!0,id:d.id,rev:d.rev},I.set(e.metadata.id,e.metadata),m(e,d.seq,s)}var l=e.data,d=e.metadata;l._doc_id_rev=d.id+"::"+d.rev,delete l._id,delete l._rev;var f=_.put(l);f.onsuccess=a,f.onerror=u}function g(e,t,n,r,i,o){function s(){c===l.length&&v(e,t,n,r,i,o)}function a(){c++,s()}var u=e.data,c=0,l=Object.keys(u._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,s();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10);var o=r.digest;y(o,i,a)}})}function m(e,t,n){function r(){++o===s.length&&n()}function i(n){var i=e.data._attachments[n].digest,o=S.put({seq:t,digestSeq:i+"::"+t});o.onsuccess=r,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var o=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)i(s[a])}function y(e,t,n){var r=x.count(e);r.onsuccess=function(r){var i=r.target.result;if(i)return n();var o={digest:e,body:t},s=x.put(o);s.onsuccess=n}}for(var b,w,_,x,S,k,C,E,T=t.docs,O=0,A=T.length;O<A;O++){var R=T[O];R._id&&le(R._id)||(R=T[O]=Pe(R,n.new_edits),R.error&&!C&&(C=R))}if(C)return o(C);var j=!1,M=0,P=new Array(T.length),I=new qr,L=!1,F=r._meta.blobSupport?"blob":"base64";et(T,F,function(e){return e?o(e):void s()})}function gt(e,t,n,r,i){function o(e){l=e.target.result,c&&i(c,l,d)}function s(e){c=e.target.result,l&&i(c,l,d)}function a(){if(!c.length)return i();var n,a=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else n=IDBKeyRange.lowerBound(a,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=o,e.getAllKeys(t,r).onsuccess=s}function u(e){var t=e.target.result;return t?void i([t.key],[t.value],t):i()}var c,l,d,f="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;f?(d={continue:a},e.getAll(t,r).onsuccess=o,e.getAllKeys(t,r).onsuccess=s):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function mt(e,t,n){function r(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var i=[];e.openCursor(t).onsuccess=r}function yt(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function bt(e,t,n){function r(t,n,r){var i=t.id+"::"+r;C.get(i).onsuccess=function(r){if(n.doc=ct(r.target.result),e.conflicts){var i=K(t);i.length&&(n.doc._conflicts=i)}dt(n.doc,e,w)}}function i(t,n){var i={id:n.id,key:n.id,value:{rev:t}},o=n.deleted;"ok"===e.deleted?(E.push(i),o?(i.value.deleted=!0,i.doc=null):e.include_docs&&r(n,i,t)):!o&&h--<=0&&(E.push(i),e.include_docs&&r(n,i,t))}function o(e){for(var t=0,n=e.length;t<n&&E.length!==p;t++){var r=e[t],o=ut(r),s=o.winningRev;i(s,o)}}function s(e,t,n){n&&(o(t),E.length<p&&n.continue())}function a(t){var n=t.target.result;e.descending&&(n=n.reverse()),o(n)}function u(){n(null,{total_rows:_,offset:e.skip,rows:E})}function c(){e.attachments?ft(E,e.binary).then(u):u()}var l="startkey"in e&&e.startkey,d="endkey"in e&&e.endkey,f="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,v=e.inclusive_end!==!1,g=yt(l,d,v,f,e.descending),m=g&&g.error;if(m&&("DataError"!==m.name||0!==m.code))return n(D(ri,m.name,m.message));var y=[Si,ki,Ti];e.attachments&&y.push(Ci);var b=pt(t,y,"readonly");if(b.error)return n(b.error);var w=b.txn;w.oncomplete=c,w.onabort=st(n);var _,x=w.objectStore(Si),S=w.objectStore(ki),k=w.objectStore(Ti),C=S.index("_doc_id_rev"),E=[];return k.get(Ti).onsuccess=function(e){_=e.target.result.docCount},m||0===p?void 0:p===-1?mt(x,g,a):void gt(x,g,e.descending,p+h,s)}function wt(e){return new Pr(function(t){var n=Ie([""]),r=e.objectStore(Ai).put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function _t(e,t){var n=e.objectStore(Si).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function xt(e,t,n,r){try{e(t,n)}catch(e){r.emit("error",e)}}function St(){!Ri&&ji.length&&(Ri=!0,ji.shift()())}function kt(e,t,n){ji.push(function(){e(function(e,r){xt(t,e,r,n),Ri=!1,Dr(function(){St(n)})})}),St()}function Ct(e,t,n,r){function i(t,n,r){function i(t,n){var r=e.processChange(n,t,e);f=r.seq=t.seq;var i=_(r);return"object"==typeof i?e.complete(i):void(i&&(w++,p&&b.push(r),e.attachments&&e.include_docs?dt(n,e,v,function(){ft([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r)))}function o(){for(var e=0,t=a.length;e<t&&w!==h;e++){var n=a[e];if(n){var o=u[e];i(o,n)}}w!==h&&r.continue()}if(r&&t.length){var a=new Array(t.length),u=new Array(t.length),c=0;n.forEach(function(e,n){var r=ct(e),i=t[n];s(r,i,function(e,r){u[n]=e,a[n]=r,++c===t.length&&o()})})}}function o(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var i=e._id+"::"+n.winningRev,o=y.get(i);o.onsuccess=function(e){r(n,ct(e.target.result))}}function s(e,t,n){if(d&&!d.has(e._id))return n();var r=x.get(e._id);return r?o(e,t,r,n):void(m.get(e._id).onsuccess=function(i){r=ut(i.target.result),x.set(e._id,r),o(e,t,r,n)})}function a(){e.complete(null,{results:b,last_seq:f})}function c(){!e.continuous&&e.attachments?ft(b).then(a):a()}if(e=u(e),e.continuous){var l=n+":"+U();return Di.addListener(n,l,t,e),Di.notify(n),{cancel:function(){Di.removeListener(n,l)}}}var d=e.doc_ids&&new Nr(e.doc_ids);e.since=e.since||0;var f=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var v,g,m,y,b=[],w=0,_=M(e),x=new qr,S=[Si,ki];e.attachments&&S.push(Ci);var k=pt(r,S,"readonly");if(k.error)return e.complete(k.error);v=k.txn,v.onabort=st(e.complete),v.oncomplete=c,g=v.objectStore(ki),m=v.objectStore(Si),y=g.index("_doc_id_rev");var C=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;gt(g,C,e.descending,h,i)}function Et(e,t){var n=this;kt(function(t){Tt(n,e,t)},t,n.constructor)}function Tt(e,t,n){function r(e){var t=e.createObjectStore(Si,{keyPath:"id"});e.createObjectStore(ki,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Ci,{keyPath:"digest"}),e.createObjectStore(Ti,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Ai),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Oi,{keyPath:"_id"});var n=e.createObjectStore(Ei,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function i(e,t){var n=e.objectStore(Si);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=ce(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else t()}}function o(e){e.createObjectStore(Oi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function s(e,t){var n=e.objectStore(Oi),r=e.objectStore(Si),i=e.objectStore(ki),o=r.openCursor();o.onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,u=le(a),c=W(s);if(u){var l=a+"::"+c,d=a+"::",f=a+"::~",h=i.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),i.delete(v.primaryKey),v.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function a(e){var t=e.createObjectStore(Ei,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function u(e,t){var n=e.objectStore(ki),r=e.objectStore(Ci),i=e.objectStore(Ei),o=r.count();o.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,s=Object.keys(r._attachments||{}),a={},u=0;u<s.length;u++){var c=r._attachments[s[u]];a[c.digest]=!0}var l=Object.keys(a);for(u=0;u<l.length;u++){var d=l[u];i.put({seq:o,digestSeq:d+"::"+o})}n.continue()}):t()}}function c(e){function t(e){return e.data?ut(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(ki),r=e.objectStore(Si),i=r.openCursor();i.onsuccess=function(e){function i(){var e=a.id+"::",t=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}function o(){var e=at(a,a.winningRev,a.deleted),t=r.put(e);t.onsuccess=function(){s.continue()}}var s=e.target.result;if(s){var a=t(s.value);return a.winningRev=a.winningRev||W(a),a.seq?o():void i()}}}var d=t.name,f=null;e._meta=null,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,i){vt(t,n,r,e,f,i)},e._get=function(e,t,n){function r(){n(s,{doc:i,metadata:o,ctx:a})}var i,o,s,a=t.ctx;if(!a){var u=pt(f,[Si,ki,Ci],"readonly");if(u.error)return n(u.error);a=u.txn}a.objectStore(Si).get(e).onsuccess=function(e){if(o=ut(e.target.result),!o)return s=D(Yr,"missing"),r();var n;if(t.rev)n=t.latest?de(t.rev,o):t.rev;else{n=o.winningRev;var u=ce(o);if(u)return s=D(Yr,"deleted"),r()}var c=a.objectStore(ki),l=o.id+"::"+n;c.index("_doc_id_rev").get(l).onsuccess=function(e){return i=e.target.result,i&&(i=ct(i)),i?void r():(s=D(Yr,"missing"),r())}}},e._getAttachment=function(e,t,n,r,i){var o;if(r.ctx)o=r.ctx;else{var s=pt(f,[Si,ki,Ci],"readonly");if(s.error)return i(s.error);o=s.txn}var a=n.digest,u=n.content_type;o.objectStore(Ci).get(a).onsuccess=function(e){var t=e.target.result.body;lt(t,u,r.binary,function(e){i(null,e)})}},e._info=function(t){var n,r,i=pt(f,[Ti,ki],"readonly");if(i.error)return t(i.error);var o=i.txn;o.objectStore(Ti).get(Ti).onsuccess=function(e){r=e.target.result.docCount},o.objectStore(ki).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){bt(e,f,t)},e._changes=function(t){Ct(t,e,d,f)},e._close=function(e){f.close(),Mi.delete(d),e()},e._getRevisionTree=function(e,t){var n=pt(f,[Si],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore(Si).get(e);i.onsuccess=function(e){var n=ut(e.target.result);n?t(null,n.rev_tree):t(D(Yr))}},e._doCompaction=function(e,t,n){var r=[Si,ki,Ci,Ei],i=pt(f,r,"readwrite");if(i.error)return n(i.error);var o=i.txn,s=o.objectStore(Si);s.get(e).onsuccess=function(n){var r=ut(n.target.result);Y(r.rev_tree,function(e,n,r,i,o){var s=n+"-"+r;t.indexOf(s)!==-1&&(o.status="missing")}),ht(t,e,o);var i=r.winningRev,s=r.deleted;o.objectStore(Si).put(at(r,i,s))},o.onabort=st(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=pt(f,[Oi],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore(Oi).get(e);i.onerror=st(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(D(Yr))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var o,s=t.ctx;if(!s){var a=pt(f,[Oi],"readwrite");if(a.error)return n(a.error);s=a.txn,s.onerror=st(n),s.oncomplete=function(){o&&n(null,o)}}var u,c=s.objectStore(Oi);r?(u=c.get(i),u.onsuccess=function(i){var s=i.target.result;if(s&&s._rev===r){var a=c.put(e);a.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}}else n(D($r))}):(u=c.add(e),u.onerror=function(e){n(D($r)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var i=pt(f,[Oi],"readwrite");if(i.error)return n(i.error);r=i.txn,r.oncomplete=function(){o&&n(null,o)}}var o,s=e._id,a=r.objectStore(Oi),u=a.get(s);u.onerror=st(n),u.onsuccess=function(r){var i=r.target.result;i&&i._rev===e._rev?(a.delete(s),o={ok:!0,id:s,rev:"0-0"},t.ctx&&n(null,o)):n(D(Yr))}},e._destroy=function(e,t){Di.removeAllListeners(d);var n=Pi.get(d);n&&n.result&&(n.result.close(),Mi.delete(d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Pi.delete(d),x()&&d in localStorage&&delete localStorage[d],t(null,{ok:!0})},r.onerror=st(t)};var h=Mi.get(d);if(h)return f=h.idb,e._meta=h.global,Dr(function(){n(null,e)});var p;p=t.storage?Ot(d,t.storage):indexedDB.open(d,xi),Pi.set(d,p),p.onupgradeneeded=function(e){function t(){var e=d[f-1];f++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&o(n),e.oldVersion<4&&a(n);var d=[i,s,u,c],f=e.oldVersion;t()},p.onsuccess=function(t){function r(){"undefined"!=typeof a&&l&&(e._meta={name:d,instanceId:u,blobSupport:a},Mi.set(d,{idb:f,global:e._meta}),n(null,e))}function i(){if("undefined"!=typeof s&&"undefined"!=typeof o){var e=d+"_id";e in o?u=o[e]:o[e]=u=U(),o.docCount=s,c.objectStore(Ti).put(o)}}f=t.target.result,f.onversionchange=function(){f.close(),Mi.delete(d)},f.onabort=function(e){C("error","Database has a global failure",e.target.error),f.close(),Mi.delete(d)};var o,s,a,u,c=f.transaction([Ti,Ai,Si],"readwrite"),l=!1;c.objectStore(Ti).get(Ti).onsuccess=function(e){o=e.target.result||{id:Ti},i()},_t(c,function(e){s=e,i()}),vi||(vi=wt(c)),vi.then(function(e){a=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";C("error",e),n(D(ri,e))}}function Ot(e,t){try{return indexedDB.open(e,{version:xi,storage:t})}catch(t){return indexedDB.open(e,xi)}}function At(e){return decodeURIComponent(escape(e))}function Dt(e){return e<65?e-48:e-55}function Rt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Dt(e.charCodeAt(t++))<<4|Dt(e.charCodeAt(t++)));return r}function jt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Dt(e.charCodeAt(t+2))<<12|Dt(e.charCodeAt(t+3))<<8|Dt(e.charCodeAt(t))<<4|Dt(e.charCodeAt(t+1))),t+=4;return r}function Mt(e,t){return"UTF-8"===t?At(Rt(e,0,e.length)):jt(e,0,e.length)}function Pt(e){return"'"+e+"'"}function It(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Lt(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Ft(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Nt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function qt(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Bt(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Ht(e,t,n){function r(){++o===e.length&&i()}function i(){if(s.length){var e="SELECT DISTINCT digest AS digest FROM "+Vi+" WHERE seq IN "+qt(s.length);n.executeSql(e,s,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var i="DELETE FROM "+Vi+" WHERE seq IN ("+s.map(function(){return"?"}).join(",")+")";e.executeSql(i,s,function(e){var t="SELECT digest FROM "+Vi+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new Nr,i=0;i<t.rows.length;i++)r.add(t.rows.item(i).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Vi+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+qi+" WHERE digest=?",[t]))})})})}})}}if(e.length){var o=0,s=[];e.forEach(function(e){var i="SELECT seq FROM "+Ni+" WHERE doc_id=? AND rev=?";n.executeSql(i,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;s.push(n),e.executeSql("DELETE FROM "+Ni+" WHERE seq=?",[n],r)})})}}function Vt(e){return function(t){C("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,i=t.target||t.message;e(D(ii,i,r))}}function zt(e){if("size"in e)return 1e6*e.size;var t="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return t?5e6:1}function Ut(e,t,n,r,i,o,s){function a(){return b?s(b):(o.notify(r._name),void s(null,w))}function u(e,t){var n="SELECT count(*) as cnt FROM "+qi+" WHERE digest=?";y.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var i=D(si,"unknown stub attachment with digest "+e);t(i)}else t()})}function c(e){function t(){++i===n.length&&e(r)}var n=[];if(g.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){u(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,i,o,s,a,u){function c(){function t(e,t){function r(){return++o===s.length&&t(),!1}function i(t){var i="INSERT INTO "+Vi+" (digest, seq) VALUES (?,?)",o=[n._attachments[t].digest,e];y.executeSql(i,o,r,r)}var o=0,s=Object.keys(n._attachments||{});if(!s.length)return t();for(var a=0;a<s.length;a++)i(s[a])}var n=e.data,r=i?1:0,o=n._id,s=n._rev,a=Ft(n),u="INSERT INTO "+Ni+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,s,a,r];y.executeSql(u,c,function(e,n){var r=n.insertId;t(r,function(){f(e,r)})},function(){var e=Bt("seq",Ni,null,"doc_id=? AND rev=?");return y.executeSql(e,[o,s],function(e,n){var i=n.rows.item(0).seq,u="UPDATE "+Ni+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[a,r,o,s];e.executeSql(u,c,function(e){t(i,function(){f(e,i)})})}),!1})}function l(e){p||(e?(p=e,u(p)):v===g.length&&c())}function d(e){v++,l(e)}function f(n,i){var s=e.metadata.id,c=e.stemmedRevs||[];o&&r.auto_compaction&&(c=Q(e.metadata).concat(c)),c.length&&Ht(c,s,n),e.metadata.seq=i;var l=e.metadata.rev;delete e.metadata.rev;var d=o?"UPDATE "+Fi+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Ni+" WHERE doc_id="+Fi+".id AND rev=?) WHERE id=?":"INSERT INTO "+Fi+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=ot(e.metadata),h=o?[f,i,t,s]:[s,i,i,f];n.executeSql(d,h,function(){w[a]={ok:!0,id:e.metadata.id,rev:l},_.set(s,e.metadata),u()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var g=Object.keys(e.data._attachments||{});i&&(e.data._deleted=!0),g.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10);var o=r.digest;h(o,i,d)}}),g.length||c()}function d(){rt(e.revs_limit,g,r,_,y,w,l,n)}function f(e){function t(){++n===g.length&&e()}if(!g.length)return e();var n=0;g.forEach(function(e){if(e._id&&le(e._id))return t();var n=e.metadata.id;y.executeSql("SELECT json FROM "+Fi+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var i=it(r.rows.item(0).json);_.set(n,i)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+qi+" WHERE digest=?";y.executeSql(r,[e],function(i,o){return o.rows.length?n():(r="INSERT INTO "+qi+" (digest, body, escaped) VALUES (?,?,1)",void i.executeSql(r,[e,It(t)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,v=t.docs,g=v.map(function(e){if(e._id&&le(e._id))return e;var t=Pe(e,p);return t}),m=g.filter(function(e){return e.error});if(m.length)return s(m[0]);var y,b,w=new Array(g.length),_=new qr;et(g,"binary",function(e){return e?s(e):void i.transaction(function(e){y=e,c(function(e){e?b=e:f(d)})},Vt(s),a)})}function Wt(e){return e.websql(e.name,e.version,e.description,e.size)}function Yt(e){try{return{db:Wt(e)}}catch(e){return{error:e}}}function $t(e){var t=zi.get(e.name);return t||(t=Yt(e),zi.set(e.name,t)),t}function Gt(e,t,n,r,i){function o(){++u===a.length&&i&&i()}function s(e,i){var s=e._attachments[i],a={binary:t.binary,ctx:r};n._getAttachment(e._id,i,s,a,function(t,n){e._attachments[i]=zr(m(s,["digest","content_type"]),{data:n}),o()})}var a=Object.keys(e._attachments||{});if(!a.length)return i&&i();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?s(e,n):(e._attachments[n].stub=!0,o())})}function Kt(e,t){function n(){x()&&(window.localStorage["_pouch__websqldb_"+w._name]=!0),t(null,w)}function r(e,t){e.executeSql(Gi),e.executeSql("ALTER TABLE "+Ni+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Yi),e.executeSql("ALTER TABLE "+Fi+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Fi+" (local, id)");var n="SELECT "+Fi+".winningseq AS seq, "+Fi+".json AS metadata FROM "+Ni+" JOIN "+Fi+" ON "+Ni+".seq = "+Fi+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var s=n.rows.item(o),a=s.seq,u=JSON.parse(s.metadata);ce(u)&&r.push(a),le(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+Fi+"SET local = 1 WHERE id IN "+qt(i.length),i,function(){e.executeSql("UPDATE "+Ni+" SET deleted = 1 WHERE seq IN "+qt(r.length),r,t)})})})})}function i(e,t){var n="CREATE TABLE IF NOT EXISTS "+Bi+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Fi+".id AS id, "+Ni+".json AS data FROM "+Ni+" JOIN "+Fi+" ON "+Ni+".seq = "+Fi+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!i.length)return t(e);var n=i.shift(),o=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+Bi+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(e){e.executeSql("DELETE FROM "+Fi+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+Ni+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function o(e,t){function n(n){function r(){if(!n.length)return t(e);var i=n.shift(),o=Mt(i.hex,b),s=o.lastIndexOf("::"),a=o.substring(0,s),u=o.substring(s+2),c="UPDATE "+Ni+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[a,u,o],function(){r()})}r()}var r="ALTER TABLE "+Ni+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+Ni+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql($i,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+Ni;e.executeSql(t,[],function(e,t){for(var r=[],i=0;i<t.rows.length;i++)r.push(t.rows.item(i));n(r)})})})})}function s(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+qi;e.executeSql(n,[],function(e,n){function r(){var n=Bt(Ji+", "+Fi+".id AS id",[Fi,Ni],Xi,null,Fi+".id ");n+=" LIMIT "+s+" OFFSET "+o,o+=s,e.executeSql(n,[],function(e,n){function i(e,t){var n=o[e]=o[e]||[];n.indexOf(t)===-1&&n.push(t)}if(!n.rows.length)return t(e);for(var o={},s=0;s<n.rows.length;s++)for(var a=n.rows.item(s),u=Nt(a.data,a.id,a.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var d=u._attachments[c[l]];i(d.digest,a.seq)}var f=[];if(Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(t){f.push([e,t])})}),!f.length)return r();var h=0;f.forEach(function(t){var n="INSERT INTO "+Vi+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++h===f.length&&r()})})})}var i=n.rows.item(0).cnt;if(!i)return t(e);var o=0,s=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Vi+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(Qi,[],function(e){e.executeSql(Ki,[],n)})})}function a(e,t){var n="ALTER TABLE "+qi+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function c(e,t){var n="ALTER TABLE "+Fi+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Fi+" SET max_seq=(SELECT MAX(seq) FROM "+Ni+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Fi+" (max_seq)";e.executeSql(n,[],t)})})}function d(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;b=2===r.length?"UTF-8":"UTF-16",t()})}function f(){for(;k.length>0;){var e=k.pop();e(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+Hi+" (dbid, db_version INTEGER)",u="CREATE TABLE IF NOT EXISTS "+qi+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+Vi+" (digest, seq INTEGER)",d="CREATE TABLE IF NOT EXISTS "+Fi+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+Ni+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Bi+" (id UNIQUE, rev, json)";
e.executeSql(u),e.executeSql(p),e.executeSql(l,[],function(){e.executeSql(Ki),e.executeSql(Qi)}),e.executeSql(d,[],function(){e.executeSql(Gi),e.executeSql(h,[],function(){e.executeSql(Yi),e.executeSql($i),e.executeSql(n,[],function(){var t="INSERT INTO "+Hi+" (db_version, dbid) VALUES (?,?)";_=U();var n=[Li,_];e.executeSql(t,n,function(){f()})})})})}else{var v=function(){var n=t<Li;n&&e.executeSql("UPDATE "+Hi+" SET db_version = "+Li);var r="SELECT dbid FROM "+Hi;e.executeSql(r,[],function(e,t){_=t.rows.item(0).dbid,f()})},g=[r,i,o,s,a,c,v],m=t,y=function(e){g[m-1](e,y),m++};y(e)}}function p(){T.transaction(function(e){d(e,function(){v(e)})},Vt(t),n)}function v(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Hi;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Hi,[],function(e,t){var n=t.rows.item(0).db_version;h(e,n)}):e.executeSql("ALTER TABLE "+Hi+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function g(e,t){var n="SELECT MAX(seq) AS seq FROM "+Ni;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function m(e,t){var n=Bt("COUNT("+Fi+".id) AS 'num'",[Fi,Ni],Xi,Ni+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function y(e,t,n,r,i){var o=Bt(Ji,[Fi,Ni],Xi,Fi+".id=?"),s=[t];e.executeSql(o,s,function(e,t){if(!t.rows.length){var o=D(Yr,"missing");return i(o)}var s=t.rows.item(0),a=it(s.metadata);r(de(n,a))})}var b,w=this,_=null,S=zt(e),k=[];w._name=e.name;var C=zr({},e,{version:Wi,description:e.name,size:S}),E=$t(C);if(E.error)return Vt(t)(E.error);var T=E.db;"function"!=typeof T.readTransaction&&(T.readTransaction=T.transaction),p(),w.type=function(){return"websql"},w._id=l(function(e){e(null,_)}),w._info=function(e){var t,n;T.readTransaction(function(e){g(e,function(e){t=e}),m(e,function(e){n=e})},Vt(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:b})})},w._bulkDocs=function(t,n,r){Ut(e,t,n,w,T,Ui,r)},w._get=function(e,t,n){function r(e){n(e,{doc:i,metadata:o,ctx:s})}var i,o,s=t.ctx;if(!s)return T.readTransaction(function(r){w._get(e,zr({ctx:r},t),n)});var a,u;if(t.rev){if(t.latest)return void y(s,e,t.rev,function(r){t.latest=!1,t.rev=r,w._get(e,t,n)},r);a=Bt(Ji,[Fi,Ni],Fi+".id="+Ni+".doc_id",[Ni+".doc_id=?",Ni+".rev=?"]),u=[e,t.rev]}else a=Bt(Ji,[Fi,Ni],Xi,Fi+".id=?"),u=[e];s.executeSql(a,u,function(e,n){if(!n.rows.length){var s=D(Yr,"missing");return r(s)}var a=n.rows.item(0);if(o=it(a.metadata),a.deleted&&!t.rev){var u=D(Yr,"deleted");return r(u)}i=Nt(a.data,o.id,a.rev),r()})},w._allDocs=function(e,t){var n,r=[],i="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,s="key"in e&&e.key,a="descending"in e&&e.descending,u="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=e.inclusive_end!==!1,d=[],f=[];if(s!==!1)f.push(Fi+".id = ?"),d.push(s);else if(i!==!1||o!==!1){if(i!==!1&&(f.push(Fi+".id "+(a?"<=":">=")+" ?"),d.push(i)),o!==!1){var h=a?">":"<";l&&(h+="="),f.push(Fi+".id "+h+" ?"),d.push(o)}s!==!1&&(f.push(Fi+".id = ?"),d.push(s))}"ok"!==e.deleted&&f.push(Ni+".deleted = 0"),T.readTransaction(function(t){if(m(t,function(e){n=e}),0!==u){var i=Bt(Ji,[Fi,Ni],Xi,f,Fi+".id "+(a?"DESC":"ASC"));i+=" LIMIT "+u+" OFFSET "+c,t.executeSql(i,d,function(t,n){for(var i=0,o=n.rows.length;i<o;i++){var s=n.rows.item(i),a=it(s.metadata),u=a.id,c=Nt(s.data,u,s.rev),l=c._rev,d={id:u,key:u,value:{rev:l}};if(e.include_docs){if(d.doc=c,d.doc._rev=l,e.conflicts){var f=K(a);f.length&&(d.doc._conflicts=f)}Gt(d.doc,e,w,t)}if(s.deleted){if("ok"!==e.deleted)continue;d.value.deleted=!0,d.doc=null}r.push(d)}})}},Vt(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},w._changes=function(e){function t(){var t=Fi+".json AS metadata, "+Fi+".max_seq AS maxSeq, "+Ni+".json AS winningDoc, "+Ni+".rev AS winningRev ",n=Fi+" JOIN "+Ni,u=Fi+".id="+Ni+".doc_id AND "+Fi+".winningseq="+Ni+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Fi+".id IN "+qt(e.doc_ids.length)),l=l.concat(e.doc_ids));var d="maxSeq "+(r?"DESC":"ASC"),f=Bt(t,n,u,c,d),h=M(e);e.view||e.filter||(f+=" LIMIT "+i);var p=e.since||0;T.readTransaction(function(t){t.executeSql(f,l,function(t,n){function r(t){return function(){e.onChange(t)}}for(var u=0,c=n.rows.length;u<c;u++){var l=n.rows.item(u),d=it(l.metadata);p=l.maxSeq;var f=Nt(l.winningDoc,d.id,l.winningRev),v=e.processChange(f,d,e);v.seq=l.maxSeq;var g=h(v);if("object"==typeof g)return e.complete(g);if(g&&(a++,o&&s.push(v),e.attachments&&e.include_docs?Gt(f,e,w,t,r(v)):r(v)()),a===i)break}})},Vt(e.complete),function(){e.continuous||e.complete(null,{results:s,last_seq:p})})}if(e=u(e),e.continuous){var n=w._name+":"+U();return Ui.addListener(w._name,n,w,e),Ui.notify(w._name),{cancel:function(){Ui.removeListener(w._name,n)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var i="limit"in e?e.limit:-1;0===i&&(i=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var s=[],a=0;t()},w._close=function(e){e()},w._getAttachment=function(e,t,n,r,i){var o,s=r.ctx,a=n.digest,u=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+qi+" WHERE digest=?";s.executeSql(c,[a],function(e,t){var n=t.rows.item(0),s=n.escaped?Lt(n.body):Mt(n.body,b);o=r.binary?Fe(s,u):bi(s),i(null,o)})},w._getRevisionTree=function(e,t){T.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Fi+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=it(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(D(Yr))})})},w._doCompaction=function(e,t,n){return t.length?void T.transaction(function(n){var r="SELECT json AS metadata FROM "+Fi+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var i=it(r.rows.item(0).metadata);Y(i.rev_tree,function(e,n,r,i,o){var s=n+"-"+r;t.indexOf(s)!==-1&&(o.status="missing")});var o="UPDATE "+Fi+" SET json = ? WHERE id = ?";n.executeSql(o,[ot(i),e])}),Ht(t,e,n)},Vt(n),function(){n()}):n()},w._getLocal=function(e,t){T.readTransaction(function(n){var r="SELECT json, rev FROM "+Bi+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=Nt(i.json,e,i.rev);t(null,o)}else t(D(Yr))})})},w._putLocal=function(e,t,n){function r(e){var r,c;o?(r="UPDATE "+Bi+" SET rev=?, json=? WHERE id=? AND rev=?",c=[i,u,s,o]):(r="INSERT INTO "+Bi+" (id, rev, json) VALUES (?,?,?)",c=[s,i,u]),e.executeSql(r,c,function(e,r){r.rowsAffected?(a={ok:!0,id:s,rev:i},t.ctx&&n(null,a)):n(D($r))},function(){return n(D($r)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var i,o=e._rev,s=e._id;i=o?e._rev="0-"+(parseInt(o.split("-")[1],10)+1):e._rev="0-1";var a,u=Ft(e);t.ctx?r(t.ctx):T.transaction(r,Vt(n),function(){a&&n(null,a)})},w._removeLocal=function(e,t,n){function r(r){var o="DELETE FROM "+Bi+" WHERE id=? AND rev=?",s=[e._id,e._rev];r.executeSql(o,s,function(r,o){return o.rowsAffected?(i={ok:!0,id:e._id,rev:"0-0"},void(t.ctx&&n(null,i))):n(D(Yr))})}"function"==typeof t&&(n=t,t={});var i;t.ctx?r(t.ctx):T.transaction(r,Vt(n),function(){i&&n(null,i)})},w._destroy=function(e,t){Ui.removeAllListeners(w._name),T.transaction(function(e){var t=[Fi,Ni,qi,Hi,Bi,Vi];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Vt(t),function(){x()&&(delete window.localStorage["_pouch__websqldb_"+w._name],delete window.localStorage[w._name]),t(null,{ok:!0})})}}function Qt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Xt(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=x(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Qt();return e&&(localStorage[t]=n?"1":"0"),n}function Jt(){return"function"==typeof openDatabase&&Xt()}function Zt(e,t,n,r){return openDatabase(e,t,n,r)}function en(e,t){var n=zr({websql:Zt},e);Kt.call(this,n,t)}function tn(){for(var e={},t=new Pr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Pr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function nn(e,t){var n,r,i,o=new Headers,s={method:e.method,credentials:"include",headers:o};return e.json&&(o.set("Accept","application/json"),o.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):"body"in e?s.body=e.body:s.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&o.set(t,e.headers[t])}),n=tn(e.url,s),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(r),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):(e.status=i.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function rn(e,t){var n,r,i=!1,o=function(){n.abort(),u()},s=function(){i=!0,n.abort(),u()},a={abort:o},u=function(){clearTimeout(r),a.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(s,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(s,e.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var o;o=e.binary?Ie([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,o)}else{var s={};if(i)s=new Error("ETIMEDOUT"),s.code="ETIMEDOUT";else if("string"==typeof n.response)try{s=JSON.parse(n.response)}catch(e){}s.status=n.status,t(s)}u()}},e.body&&e.body instanceof Blob?ze(e.body,function(e){n.send(e)}):n.send(e.body),a}function on(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function sn(e,t){return eo||e.xhr?rn(e,t):nn(e,t)}function an(){return""}function un(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?R(e):e})),e.binary&&to(t,n),r(null,t,n)}e=u(e);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=zr(r,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),sn(e,function(r,i,o){if(r)return t(R(r));var s,a=i.headers&&i.headers["content-type"],u=o||an();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof u&&(/json/.test(a)||/^[\s]*\{/.test(u)&&/\}[\s]*$/.test(u)))try{u=JSON.parse(u.toString())}catch(e){}i.statusCode>=200&&i.statusCode<300?n(u,i,t):(s=R(u),s.status=i.statusCode,t(s))})}function cn(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,i=n.indexOf("msie")!==-1,o=n.indexOf("edge")!==-1,s=r||(i||o)&&"GET"===e.method,a=!("cache"in e)||e.cache,u=/^blob:/.test(e.url);if(!u&&(s||!a)){var c=e.url.indexOf("?")!==-1;e.url+=(c?"&":"?")+"_nonce="+Date.now()}return un(e,t)}function ln(e,t){return new Pr(function(n,r){function i(){l++,e[d++]().then(s,a)}function o(){++f===h?c?r(c):n():u()}function s(){l--,o()}function a(e){l--,c=c||e,o()}function u(){for(;l<t&&d<h;)i()}var c,l=0,d=0,f=0,h=e.length;u()})}function dn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Ne(n.data,n.content_type)})}function fn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function hn(e){return e._attachments&&Object.keys(e._attachments)?Pr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Pr(function(e){Ve(n.data,e)}).then(function(e){n.data=e})})):Pr.resolve()}function pn(e){if(!e.prefix)return!1;var t=B(e.prefix).protocol;return"http"===t||"https"===t}function vn(e,t){if(pn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=B(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var i=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=i.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=i.join("/"),r}function gn(e,t){return mn(e,e.db+"/"+t)}function mn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function yn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function bn(e,t){function n(e,t,n){var r=e.ajax||{},i=zr(u(f),r,t),o=u(f.headers||{});return i.headers=zr(o,r.headers,t.headers||{}),oo(i.method+" "+i.url),a._ajax(i,n)}function r(e,t){return new Pr(function(r,i){n(e,t,function(e,t){return e?i(e):void r(t)})})}function i(e,t){return d(e,Er(function(e){o().then(function(){return t.apply(this,e)}).catch(function(t){var n=e.pop();n(t)})}))}function o(){if(e.skipSetup||e.skip_setup)return Pr.resolve();if(g)return g;var t={method:"GET",url:l};return g=r({},t).catch(function(e){return e&&e.status&&404===e.status?(O(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):Pr.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Pr.reject(e)}),g.catch(function(){g=null}),g}function s(e){return e.split("/").map(encodeURIComponent).join("/")}var a=this,c=vn(e.name,e),l=gn(c,"");e=u(e);var f=e.ajax||{};if(e.auth||c.auth){var h=e.auth||c.auth,p=h.username+":"+h.password,v=bi(unescape(encodeURIComponent(p)));f.headers=f.headers||{},f.headers.Authorization="Basic "+v}a._ajax=cn;var g;Dr(function(){t(null,a)}),a.type=function(){return"http"},a.id=i("id",function(e){n({},{method:"GET",url:mn(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:gn(c,"");e(null,r)})}),a.request=i("request",function(e,t){e.url=gn(c,e.url),n({},e,t)}),a.compact=i("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e),n(e,{url:gn(c,"_compact"),method:"POST"},function(){function n(){a.info(function(r,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),a.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:gn(c,"_bulk_get"+yn(r)),method:"POST",body:{docs:e.docs}},t)}function i(){function n(e){return function(n,r){a[e]=r.results,++s===i&&t(null,{results:P(a)})}}for(var r=ro,i=Math.ceil(e.docs.length/r),s=0,a=new Array(i),u=0;u<i;u++){var c=m(e,["revs","attachments","latest"]);c.ajax=f,c.docs=e.docs.slice(u*r,Math.min(e.docs.length,(u+1)*r)),w(o,c,n(u))}}var o=this,s=mn(c,""),a=io[s];"boolean"!=typeof a?r(function(e,n){e?(io[s]=!1,O(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):(io[s]=!0,t(null,n))}):a?r(t):i()}),a._info=function(e){o().then(function(){n({},{method:"GET",url:gn(c,"")},function(t,n){return t?e(t):(n.host=gn(c,""),void e(null,n))})}).catch(e)},a.get=i("get",function(e,t,n){function i(e){function n(n){var o=i[n],a=fn(e._id)+"/"+s(n)+"?rev="+e._rev;return r(t,{method:"GET",url:gn(c,a),binary:!0}).then(function(e){return t.binary?e:new Pr(function(t){Ve(e,t)})}).then(function(e){delete o.stub,delete o.length,o.data=e})}var i=e._attachments,o=i&&Object.keys(i);if(i&&o.length){var a=o.map(function(e){return function(){return n(e)}});return ln(a,5)}}function o(e){return Array.isArray(e)?Pr.all(e.map(function(e){if(e.ok)return i(e.ok)})):i(e)}"function"==typeof t&&(n=t,t={}),t=u(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.latest&&(a.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=fn(e);var l={method:"GET",url:gn(c,e+yn(a))};r(t,l).then(function(e){return Pr.resolve().then(function(){if(t.attachments)return o(e)}).then(function(){n(null,e)})}).catch(n)}),a.remove=i("remove",function(e,t,r,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(i=r,r={})):(o=e,"function"==typeof t?(i=t,r={}):(i=r,r=t));var s=o._rev||r.rev;n(r,{method:"DELETE",url:gn(c,fn(o._id))+"?rev="+s},i)}),a.getAttachment=i("getAttachment",function(e,t,r,i){"function"==typeof r&&(i=r,r={});var o=r.rev?"?rev="+r.rev:"",a=gn(c,fn(e))+"/"+s(t)+o;n(r,{method:"GET",url:a,binary:!0},i)}),a.removeAttachment=i("removeAttachment",function(e,t,r,i){var o=gn(c,fn(e)+"/"+s(t))+"?rev="+r;n({},{method:"DELETE",url:o},i)}),a.putAttachment=i("putAttachment",function(e,t,r,i,o,a){"function"==typeof o&&(a=o,o=i,i=r,r=null);var u=fn(e)+"/"+s(t),l=gn(c,u);if(r&&(l+="?rev="+r),"string"==typeof i){var d;try{d=yi(i)}catch(e){return a(D(Jr,"Attachment is not a valid base64 string"))}i=d?Fe(d,o):""}var h={headers:{"Content-Type":o},method:"PUT",url:l,processData:!1,body:i,timeout:f.timeout||6e4};n({},h,a)}),a._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,o().then(function(){return Pr.all(e.docs.map(hn))}).then(function(){n(t,{method:"POST",url:gn(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})}).catch(r)},a._put=function(e,t,r){o().then(function(){return hn(e)}).then(function(){n(t,{method:"PUT",url:gn(c,fn(e._id)),body:e},function(e,t){return e?r(e):void r(null,t)})}).catch(r)},a.allDocs=i("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e);var n,i={},o="GET";e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(i.limit=e.limit),"undefined"!=typeof e.skip&&(i.skip=e.skip);var s=yn(i);"undefined"!=typeof e.keys&&(o="POST",n={keys:e.keys}),r(e,{method:o,url:gn(c,"_all_docs"+s),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(dn),t(null,n)}).catch(t)}),a._changes=function(e){var t="batch_size"in e?e.batch_size:no;e=u(e),e.timeout="timeout"in e?e.timeout:"timeout"in f?f.timeout:3e4;var r,i=e.timeout?{timeout:e.timeout-5e3}:{},s="undefined"!=typeof e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),"heartbeat"in e?e.heartbeat&&(i.heartbeat=e.heartbeat):e.continuous&&(i.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(i[l]=e.query_params[l]);var d,h="GET";e.doc_ids&&(i.filter="_doc_ids",h="POST",d={doc_ids:e.doc_ids});var p,v,g=function(r,u){if(!e.aborted){i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var l={method:h,url:gn(c,"_changes"+yn(i)),timeout:e.timeout,body:d};v=r,e.aborted||o().then(function(){p=n(e,l,u)}).catch(u)}},m={results:[]},y=function(n,i){if(!e.aborted){var o=0;if(i&&i.results){o=i.results.length,m.last_seq=i.last_seq;var u={};u.query=e.query_params,i.results=i.results.filter(function(t){a--;var n=M(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&dn(t),r&&m.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(v=i.last_seq);var c=s&&a<=0||i&&o<t||e.descending;(!e.continuous||s&&a<=0)&&c?e.complete(null,m):Dr(function(){g(v,y)})}};return g(e.since||0,y),{cancel:function(){e.aborted=!0,p&&p.abort()}}},a.revsDiff=i("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:gn(c,"_revs_diff"),body:e},r)}),a._close=function(e){e()},a._destroy=function(e,t){n(e,{url:gn(c,""),method:"DELETE"},function(e,n){return e&&e.status&&404!==e.status?t(e):void t(null,n)})}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function _n(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function xn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,xn)}catch(e){}}function Sn(e,t){return t&&e.then(function(e){Dr(function(){t(null,e)})},function(e){Dr(function(){t(e)})}),e}function kn(e){return Er(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&Sn(r,n),r})}function Cn(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function En(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Tn(e){var t=new Nr(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function On(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function An(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new xn(t)}function Dn(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if("number"!=typeof i){if(!Array.isArray(i))throw An("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!=typeof a)throw An("_sum");"undefined"==typeof t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=i:t[0]+=i}return t}function Rn(e,t){return Rr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Dn,log:ao,isArray:uo,toJSON:co})}function jn(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}function Mn(e,t,n){var r=jn(e,t,n);return r+e}function Pn(e,t){if(e===t)return 0;e=In(e),t=In(t);var n=Un(e),r=Un(t);if(n-r!==0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Vn(e,t)}return Array.isArray(e)?Hn(e,t):zn(e,t)}function In(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=In(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];"undefined"!=typeof o&&(e[i]=In(o))}}}}return e}function Ln(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return Wn(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=Fn(n[r]);else for(;++r<i;){var s=n[r];o+=Fn(s)+Fn(e[s])}return o}return""}function Fn(e){var t="\0";return e=In(e),Un(e)+ho+Ln(e)+t}function Nn(e,t){var n,r=t,i="1"===e[t];if(i)n=0,t++;else{var o="0"===e[t];t++;var s="",a=e.substring(t,t+fo),u=parseInt(a,10)+lo;for(o&&(u=-u),t+=fo;;){var c=e[t];if("\0"===c)break;s+=c,t++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function qn(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var s=e.pop();i[s]=n}else e.push(n)}}function Bn(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=Nn(e,r);t.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=e[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();qn(t,n)}}}function Hn(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=Pn(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}function Vn(e,t){return e===t?0:e>t?1:-1}function zn(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=Pn(n[o],r[o]);if(0!==s)return s;if(s=Pn(e[n[o]],t[r[o]]),0!==s)return s}return n.length===r.length?0:n.length>r.length?1:-1}function Un(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Wn(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(r?-n:n)-lo,s=Mn(o.toString(),"0",fo);i+=ho+s;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var u=a.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=ho+u}function Yn(){this.promise=new Pr(function(e){e()})}function $n(e,t,n,r,i,o){var s,a=n.toString()+(r&&r.toString())+"undefined";if(!i&&(s=e._cachedViews=e._cachedViews||{},s[a]))return s[a];var u=e.info().then(function(u){function c(e){e.views=e.views||{};var n=t;n.indexOf("/")===-1&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}var l=u.db_name+"-mrview-"+(i?"temp":Ke(a));return H(e,"_local/"+o,c).then(function(){return e.registerDependentDatabase(l).then(function(t){var i=t.db;i.auto_compaction=!0;var o={name:l,db:i,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",function(){delete s[a]}),o})})})});return s&&(s[a]=u),u}function Gn(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Kn(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Qn(e,t){try{e.emit("error",t)}catch(e){C("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),C("error",t)}}function Xn(e,t,n,r){function i(e,t,n){try{t(n)}catch(t){Qn(e,t)}}function o(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(t){return Qn(e,t),{error:t}}}function s(e,t){var n=Pn(e.key,t.key);return 0!==n?n:Pn(e.value,t.value)}function a(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function c(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Ne(n.data,n.content_type)})})}function l(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&c(t),t}}function d(e,t,n,r){var i=t[e];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function f(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=f(e.group_level),e.limit=f(e.limit),e.skip=f(e.skip),e}function p(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}function v(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&Pn(e[n],e[r])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=p(e[t]);if(n)throw n})}function g(e,t,n){var r,i=[],o="GET";if(d("reduce",n,i),d("include_docs",n,i),d("attachments",n,i),d("limit",n,i),d("descending",n,i),d("group",n,i),d("group_level",n,i),d("skip",n,i),d("stale",n,i),d("conflicts",n,i),d("startkey",n,i,!0),d("start_key",n,i,!0),d("endkey",n,i,!0),d("end_key",n,i,!0),d("inclusive_end",n,i),d("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,"undefined"!=typeof n.keys){var s=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+i.length+1<=s?i+=("?"===i[0]?"&":"?")+a:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Gn(t);return e.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(l(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:r}).then(l(n))}function m(e,t,n){return new Pr(function(r,i){e._query(t,n,function(e,t){return e?i(e):void r(t)})})}function y(e){return new Pr(function(t,n){e._viewCleanup(function(e,r){return e?n(e):void t(r)})})}function b(e){return function(t){if(404===t.status)return e;throw t}}function w(e,t,n){function r(){return Kn(l)?Pr.resolve(a):t.db.get(s).catch(b(a))}function i(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Pr.resolve({rows:[]})}function o(e,t){for(var n=[],r=new Nr,i=0,o=t.rows.length;i<o;i++){var s=t.rows[i],a=s.doc;if(a&&(n.push(a),r.add(a._id),a._deleted=!c.has(a._id),!a._deleted)){var u=c.get(a._id);"value"in u&&(a.value=u.value)}}var l=On(c);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},i=c.get(e);"value"in i&&(t.value=i.value),n.push(t)}}),e.keys=Tn(l.concat(e.keys)),n.push(e),n}var s="_local/doc_"+e,a={_id:s,keys:[]},u=n.get(e),c=u[0],l=u[1];return r().then(function(e){return i(e).then(function(t){return o(e,t)})})}function _(e,t,n){var r="_local/lastSeq";return e.db.get(r).catch(b({_id:r,seq:0})).then(function(r){var i=On(t);return Pr.all(i.map(function(n){return w(n,e,t)})).then(function(t){var i=P(t);return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})})})}function x(e){var t="string"==typeof e?e:e.name,n=po[t];return n||(n=po[t]=new Yn),n}function S(e){return En(x(e),function(){return k(e)})()}function k(e){function n(e,t){var n={id:d._id,key:In(e)};"undefined"!=typeof t&&null!==t&&(n.value=In(t)),l.push(n)}function r(t,n){return function(){return _(e,t,n)}}function o(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:go}).then(a)}function a(e){var t=e.results;if(t.length){var n=u(t);if(p.add(r(n,h)),!(t.length<go))return o()}}function u(t){for(var n=new qr,r=0,o=t.length;r<o;r++){var a=t[r];if("_"!==a.doc._id[0]){l=[],d=a.doc,d._deleted||i(e.sourceDB,f,d),l.sort(s);var u=c(l);n.set(a.doc._id,[u,a.changes])}h=a.seq}return n}function c(e){for(var t,n=new qr,r=0,i=e.length;r<i;r++){var o=e[r],s=[o.key,o.id];r>0&&0===Pn(o.key,t)&&s.push(r),n.set(Fn(s),o),t=o.key}return n}var l,d,f=t(e.mapFun,n),h=e.seq||0,p=new Yn;return o().then(function(){return p.finish()}).then(function(){e.seq=h})}function C(e,t,r){0===r.group_level&&delete r.group_level;var i=r.group||r.group_level,s=n(e.reduceFun),u=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=u[u.length-1],n=i?e.key:null;return i&&Array.isArray(n)&&(n=n.slice(0,c)),
t&&0===Pn(t.groupKey,n)?(t.keys.push([e.key,e.id]),void t.values.push(e.value)):void u.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var l=0,d=u.length;l<d;l++){var f=u[l],h=o(e.sourceDB,s,f.keys,f.values,!1);if(h.error&&h.error instanceof xn)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:a(t,r.limit,r.skip)}}function E(e,t){return En(x(e),function(){return T(e,t)})()}function T(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Bn(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=o?C(e,n,t):{total_rows:i,offset:s,rows:n},t.include_docs){var a=Tn(n.map(u));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new qr;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var i,o=e.reduceFun&&t.reduce!==!1,s=t.skip||0;if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var a=t.keys,c=a.map(function(e){var t={startkey:Fn([e]),endkey:Fn([e,{}])};return n(t)});return Pr.all(c).then(P).then(r)}var l={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(l.startkey=Fn(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),l.endkey=Fn(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var f=Fn([t.key]),h=Fn([t.key,{}]);l.descending?(l.endkey=f,l.startkey=h):(l.startkey=f,l.endkey=h)}return o||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=s),n(l).then(r)}function O(e){return e.request({method:"POST",url:"_view_cleanup"})}function A(t){return t.get("_local/"+e).then(function(e){var n=new qr;Object.keys(e.views).forEach(function(e){var t=Gn(e),r="_design/"+t[0],i=t[1],o=n.get(r);o||(o=new Nr,n.set(r,o)),o.add(i)});var r={keys:On(n),include_docs:!0};return t.allDocs(r).then(function(r){var i={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var o=r+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach(function(e){i[e]=i[e]||a})})});var o=Object.keys(i).filter(function(e){return!i[e]}),s=o.map(function(e){return En(x(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Pr.all(s).then(function(){return{ok:!0}})})},b({ok:!0}))}function D(t,n,i){if("http"===t.type())return g(t,n,i);if("function"==typeof t._query)return m(t,n,i);if("string"!=typeof n)return v(i,n),vo.add(function(){var r=$n(t,"temp_view/temp_view",n.map,n.reduce,!0,e);return r.then(function(e){return Cn(S(e).then(function(){return E(e,i)}),function(){return e.db.destroy()})})}),vo.finish();var o=n,s=Gn(o),a=s[0],u=s[1];return t.get("_design/"+a).then(function(n){var s=n.views&&n.views[u];if(!s)throw new _n("ddoc "+n._id+" has no view named "+u);r(n,u),v(i,s);var a=$n(t,o,s.map,s.reduce,!1,e);return a.then(function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&Dr(function(){S(e)}),E(e,i)):S(e).then(function(){return E(e,i)})})})}function R(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?h(t):{},"function"==typeof e&&(e={map:e});var i=Pr.resolve().then(function(){return D(r,e,t)});return Sn(i,n),i}var j=kn(function(){var e=this;return"http"===e.type()?O(e):"function"==typeof e._viewCleanup?y(e):A(e)});return{query:R,viewCleanup:j}}function Jn(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Rn(e.toString(),t)}function Zn(e){return mo[e]?mo[e]:Rn(e.toString())}function er(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new _n("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}function tr(e,t,n){return bo.query.call(this,e,t,n)}function nr(e){return bo.viewCleanup.call(this,e)}function rr(e){return/^1-/.test(e)}function ir(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function or(e,t){var n=Object.keys(t._attachments);return Pr.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function sr(e,t,n){var r="http"===t.type()&&"http"!==e.type(),i=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Pr.all(i.map(function(i){return ir(r,n,i)?t.getAttachment(n._id,i):e.getAttachment(r._id,i)}))}).catch(function(e){if(404!==e.status)throw e;return or(t,n)}):or(t,n)}function ar(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function ur(e,t,n,r){function i(){var i=ar(n);if(i.docs.length)return e.bulkGet(i).then(function(n){if(r.cancelled)throw new Error("cancelled");return Pr.all(n.results.map(function(n){return Pr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(f=!1),r&&r._attachments?sr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var i=r._attachments[t[n]];delete i.stub,delete i.length,i.data=e}),r}):r}))})).then(function(e){d=d.concat(P(e).filter(Boolean))})})}function o(e){return e._attachments&&Object.keys(e._attachments).length>0}function s(e){return e._conflicts&&e._conflicts.length>0}function a(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!rr(e.value.rev)||o(e.doc)||s(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,d.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&rr(t[0])});if(e.length>0)return a(e)}function l(){return{ok:f,docs:d}}n=u(n);var d=[],f=!0;return Pr.resolve().then(c).then(i).then(l)}function cr(e,t,n,r,i){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&O(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:xo,version:_o};throw n}).then(function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(e){return e.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,So),o.version=_o,o.replicator=xo,o.session_id=r,o.last_seq=n,e.put(o).catch(function(o){if(409===o.status)return cr(e,t,n,r,i);throw o})})}function lr(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function dr(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:fr(e.history,t.history)}function fr(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);if(!n||0===t.length)return{last_seq:ko,history:[]};var s=n.session_id;if(hr(s,t))return{last_seq:n.last_seq,history:e};var a=i.session_id;return hr(a,r)?{last_seq:i.last_seq,history:o}:fr(r,o)}function hr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||hr(e,r))}function pr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function vr(e,t,n,r){if(e.retry===!1)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=T),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=Eo},o=function(){t.removeListener("active",i)};t.once("paused",o),t.once("active",i)}e.current_back_off=e.current_back_off||Eo,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function gr(e){return Object.keys(e).sort(Pn).reduce(function(t,n){return t[n]=e[n],t},{})}function mr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Pn):"",i=n.filter?n.filter.toString():"",o="",s="";return n.filter&&n.query_params&&(o=JSON.stringify(gr(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Pr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+i+s+o+r;return new Pr(function(e){Ge(t,e)})}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}function yr(e,t,n,r,i){function o(){return S?Pr.resolve():mr(e,t,n).then(function(n){x=n,S=new lr(e,t,x,r)})}function s(){if(L=[],0!==_.docs.length){var e=_.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var o=Object.keys(n).length;i.doc_write_failures+=o,i.docs_written+=e.length-o,e.forEach(function(e){var t=n[e._id];if(t){if(i.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",u(t))}else L.push(e)})},function(t){throw i.doc_write_failures+=e.length,t})}}function a(){if(_.error)throw new Error("There was a problem getting docs.");i.last_seq=A=_.seq;var e=u(i);return L.length&&(e.docs=L,r.emit("change",e)),E=!0,S.writeCheckpoint(_.seq,F).then(function(){if(E=!1,r.cancelled)throw p(),new Error("cancelled");_=void 0,y()}).catch(function(e){throw w(e),e})}function c(){var e={};return _.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");_.diffs=e})}function l(){return ur(e,t,_.diffs,r).then(function(e){_.error=!e.ok,e.docs.forEach(function(e){delete _.diffs[e._id],i.docs_read++,_.docs.push(e)})})}function d(){if(!r.cancelled&&!_){if(0===k.length)return void f(!0);_=k.shift(),c().then(l).then(s).then(a).then(d).catch(function(e){h("batch processing terminated with error",e)})}}function f(e){return 0===C.changes.length?void(0!==k.length||_||((D&&N.live||T)&&(r.state="pending",r.emit("paused")),T&&p())):void((e||T||C.changes.length>=R)&&(k.push(C),C={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),d()))}function h(e,t){O||(t.message||(t.message=e),i.ok=!1,i.status="aborting",k=[],C={seq:0,changes:[],docs:[]},p(t))}function p(o){O||r.cancelled&&(i.status="cancelled",E)||(i.status=i.status||"complete",i.end_time=new Date,i.last_seq=A,O=!0,o?(o.result=i,"unauthorized"===o.name||"forbidden"===o.name?(r.emit("error",o),r.removeAllListeners()):vr(n,r,o,function(){yr(e,t,n,r)})):(r.emit("complete",i),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();var t=M(n)(e);t&&(C.seq=e.seq,C.changes.push(e),f(0===k.length&&N.live))}function g(e){if(P=!1,r.cancelled)return p();if(e.results.length>0)N.since=e.last_seq,y(),f(!0);else{var t=function(){D?(N.live=!0,y()):T=!0,f(!0)};_||0!==e.results.length?t():(E=!0,S.writeCheckpoint(e.last_seq,F).then(function(){E=!1,i.last_seq=A=e.last_seq,t()}).catch(w))}}function m(e){return P=!1,r.cancelled?p():void h("changes rejected",e)}function y(){function t(){o.cancel()}function i(){r.removeListener("cancel",t)}if(!P&&!T&&k.length<j){P=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var o=e.changes(N).on("change",v);o.then(i,i),o.then(g).catch(m),n.retry&&(r._changes=o,r._abortChanges=t)}}function b(){o().then(function(){return r.cancelled?void p():S.getCheckpoint().then(function(e){A=e,N={since:A,limit:R,batch_size:R,style:"all_docs",doc_ids:I,return_docs:!0},n.filter&&("string"!=typeof n.filter?N.include_docs=!0:N.filter=n.filter),"heartbeat"in n&&(N.heartbeat=n.heartbeat),"timeout"in n&&(N.timeout=n.timeout),n.query_params&&(N.query_params=n.query_params),n.view&&(N.view=n.view),y()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function w(e){E=!1,h("writeCheckpoint completed with error",e)}var _,x,S,k=[],C={seq:0,changes:[],docs:[]},E=!1,T=!1,O=!1,A=0,D=n.continuous||n.live||!1,R=n.batch_size||100,j=n.batches_limit||10,P=!1,I=n.doc_ids,L=[],F=U();i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var N={};return r.ready(e,t),r.cancelled?void p():(r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void("undefined"==typeof n.since?b():o().then(function(){return E=!0,S.writeCheckpoint(n.since,F)}).then(function(){return E=!1,r.cancelled?void p():(A=n.since,void b())}).catch(w)))}function br(){Or.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Pr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function wr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function _r(e,t,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw D(ti,"`doc_ids` filter parameter is not a list.");n.complete=r,n=u(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new br(n),o=wr(e,n),s=wr(t,n);return yr(o,s,n,i),i}function xr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=u(n),n.PouchConstructor=n.PouchConstructor||this,e=wr(e,n),t=wr(t,n),new Sr(e,t,n,r)}function Sr(e,t,n,r){function i(e){p.emit("change",{direction:"pull",change:e})}function o(e){p.emit("change",{direction:"push",change:e})}function s(e){p.emit("denied",{direction:"push",doc:e})}function a(e){p.emit("denied",{direction:"pull",doc:e})}function u(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function d(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function f(e){return function(t,n){var r="change"===t&&(n===i||n===o),f="denied"===t&&(n===a||n===s),h="paused"===t&&(n===c||n===u),v="active"===t&&(n===d||n===l);(r||f||h||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){e.listeners(t).indexOf(n)==-1&&e.on(t,n)}var p=this;this.canceled=!1;var v=n.push?zr({},n,n.push):n,g=n.pull?zr({},n,n.pull):n;this.push=_r(e,t,v),this.pull=_r(t,e,g),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",i),h(p.push,"change",o)):"denied"===e?(h(p.pull,"denied",a),h(p.push,"denied",s)):"active"===e?(h(p.pull,"active",d),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",u))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",i),p.push.removeListener("change",o)):"denied"===e?(p.pull.removeListener("denied",a),p.push.removeListener("denied",s)):"active"===e?(p.pull.removeListener("active",d),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",u))}),this.pull.on("removeListener",f("pull")),this.push.on("removeListener",f("push"));var y=Pr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}function kr(e){e.replicate=_r,e.sync=xr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var Cr=r(e(7)),Er=r(e(1)),Tr=r(e(2)),Or=e(4),Ar=r(e(6)),Dr=r(e(5)),Rr=r(e(10)),jr=r(e(11)),Mr=r(e(12)),Pr="function"==typeof Promise?Promise:Cr,Ir=Function.prototype.toString,Lr=Ir.call(Object),Fr=Tr("pouchdb:api");p.prototype.get=function(e){var t=f(e);return this._store[t]},p.prototype.set=function(e,t){var n=f(e);return this._store[n]=t,!0},p.prototype.has=function(e){var t=f(e);return t in this._store},p.prototype.delete=function(e){var t=f(e),n=t in this._store;return delete this._store[t],n},p.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],o=this._store[i];i=h(i),e(o,i)}},Object.defineProperty(p.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(e){return this._store.set(e,!0)},v.prototype.has=function(e){return this._store.has(e)},v.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var Nr,qr;g()?(Nr=Set,qr=Map):(Nr=v,qr=p);var Br,Hr=6;if(_())Br=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Br=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Br=!1}Ar(k,Or.EventEmitter),k.prototype.addListener=function(e,t,n,r){function i(){function e(){s=!1}if(o._listeners[t]){if(s)return void(s="waiting");s=!0;var a=m(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&Dr(i),s=!1}).on("error",e)}}if(!this._listeners[t]){var o=this,s=!1;this._listeners[t]=i,this.on(e,i)}},k.prototype.removeListener=function(e,t){t in this._listeners&&(Or.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},k.prototype.notifyLocalWindows=function(e){_()?chrome.storage.local.set({dbName:e}):x()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},k.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Vr;Vr="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var zr=Vr;Ar(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Ur,Wr=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),Yr=new A(404,"not_found","missing"),$r=new A(409,"conflict","Document update conflict"),Gr=new A(400,"bad_request","_id field must contain a string"),Kr=new A(412,"missing_id","_id is required for puts"),Qr=new A(400,"bad_request","Only reserved document ids may start with underscore."),Xr=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),Jr=new A(500,"badarg","Some query argument is invalid"),Zr=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),ei=new A(500,"doc_validation","Bad special document member"),ti=new A(400,"bad_request","Something wrong with the request"),ni=new A(400,"bad_request","Document must be a JSON object"),ri=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),ii=new A(500,"web_sql_went_bad","unknown"),oi=(new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),si=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),ai=(new A(413,"invalid_url","Provided URL is invalid"),I.name);Ur=ai?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var ui=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ci="queryKey",li=/(?:^|&)([^&=]*)=?([^&]*)/g,di=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Ar(ve,Or.EventEmitter),ve.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ve.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=u(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ge,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=q(e.view):e.filter=q(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=Er(function(e){r.cancel(),i.apply(this,e)})}},ve.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=D(ti,"`view` filter parameter not found or invalid.");return n(r)}var i=N(e.view);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(R(r));var s=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;return s?(e.filter=he(s),void t.doChanges(e)):n(D(Yr,o.views?"missing json key: "+i[1]:"missing json key: views"))})}else{var o=N(e.filter);if(!o)return t.doChanges(e);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(R(r));var s=i&&i.filters&&i.filters[o[1]];return s?(e.filter=fe(s),void t.doChanges(e)):n(D(Yr,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"))})}},Ar(Ce,Or.EventEmitter),Ce.prototype.post=d("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(D(ni)):void this.bulkDocs({docs:[e]},t,ye(n))}),Ce.prototype.put=d("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(D(ni)):(L(e._id),le(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&t.new_edits!==!1?this._put(e,t,n):this.bulkDocs({docs:[e]},t,ye(n))))}),Ce.prototype.putAttachment=d("putAttachment",function(e,t,n,r,i){function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},s.put(e)}var s=this;return"function"==typeof i&&(i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),i||C("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then(function(e){if(e._rev!==n)throw D($r);return o(e)},function(t){if(t.reason===Yr.message)return o({_id:e});throw t})}),Ce.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,o){return e?void r(e):o._rev!==n?void r(D($r)):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),Ce.prototype.remove=d("remove",function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};return o._deleted=!0,le(o._id)&&"function"==typeof this._removeLocal?this._removeLocal(i,r):void this.bulkDocs({docs:[o]},n,ye(r))}),Ce.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){a.has(e)||a.set(e,{missing:[]}),a.get(e).missing.push(t)}function i(t,n){var i=e[t].slice(0);Y(n,function(e,n,o,s,a){var u=n+"-"+o,c=i.indexOf(u);c!==-1&&(i.splice(c,1),"available"!==a.status&&r(t,u))}),i.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var o=Object.keys(e);if(!o.length)return n(null,{});var s=0,a=new qr;o.map(function(t){this._getRevisionTree(t,function(r,u){if(r&&404===r.status&&"missing"===r.message)a.set(t,{missing:e[t]});else{if(r)return n(r);i(t,u)}if(++s===o.length){var c={};return a.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Ce.prototype.bulkGet=d("bulkGet",function(e,t){w(this,e,t)}),Ce.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,o){if(i)return n(i);var s=_e(o),a=[],u=[];Object.keys(s).forEach(function(e){s[e]>t&&a.push(e)}),Y(o,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&a.indexOf(o)!==-1&&u.push(o)}),r._doCompaction(e,u,n)})}),Ce.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&Se(n)}),Ce.prototype._compact=function(e,t){function n(e){s.push(i.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Pr.all(s).then(function(){return H(i,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var i=this,o={return_docs:!1,last_seq:e.last_seq||0},s=[];i.changes(o).on("change",n).on("complete",r).on("error",t)},Ce.prototype.get=d("get",function(e,t,n){function r(){var r=[],s=i.length;return s?void i.forEach(function(i){o.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:i});else{for(var o,a=0,u=r.length;a<u;a++)if(r[a].ok&&r[a].ok._rev===t._rev){o=!0;break}o||r.push({ok:t})}s--,s||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(D(Gr));if(le(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],o=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var i=r.doc,s=r.metadata,a=r.ctx;if(t.conflicts){var u=K(s);u.length&&(i._conflicts=u)}if(ce(s,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){for(var c=i._rev.split("-"),l=parseInt(c[0],10),d=c[1],f=X(s.rev_tree),h=null,p=0;p<f.length;p++){var v=f[p],g=v.ids.map(function(e){return e.id}).indexOf(d),m=g===l-1;(m||!h&&g!==-1)&&(h=v)}var y=h.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])+1,b=h.ids.length-y;if(h.ids.splice(y,b),h.ids.reverse(),t.revs&&(i._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var w=h.pos+h.ids.length;i._revs_info=h.ids.map(function(e){return w--,{rev:w+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&i._attachments){var _=i._attachments,x=Object.keys(_).length;if(0===x)return n(null,i);Object.keys(_).forEach(function(e){this._getAttachment(i._id,e,_[e],{rev:i._rev,binary:t.binary,ctx:a},function(t,r){var o=i._attachments[e];o.data=r,delete o.stub,delete o.length,--x||n(null,i)})},o)}else{if(i._attachments)for(var S in i._attachments)i._attachments.hasOwnProperty(S)&&(i._attachments[S].stub=!0);n(null,i)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(i=G(t).map(function(e){return e.rev}),void r())});else{if(!Array.isArray(t.open_revs))return n(D(Xr,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(D(oi))}r()}}),Ce.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(o,s){return o?r(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,i._getAttachment(e,t,s.doc._attachments[t],n,r),void 0):r(D(Yr))})}),Ce.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(D(Zr,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return xe(this,e,t)}return this._allDocs(e,t)}),Ce.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new ve(this,e,t)},Ce.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Ce.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),Ce.prototype.id=d("id",function(e){return this._id(e)}),Ce.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ce.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(D(Wr));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(D(ni));var i;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){i=i||ke(t),e._attachments[t].content_type||C("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),i)return n(D(ti,i));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var o=this;t.new_edits||"http"===o.type()||e.docs.sort(we),be(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),"http"!==o.type())for(var i=0,a=r.length;i<a;i++)r[i].id=r[i].id||s[i];n(null,r)})}),Ce.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);H(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Ce.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r._destroyed=!0,r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,i=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,o){if(e)return 404!==e.status?t(e):n();var s=o.dependentDbs,a=r.constructor,u=Object.keys(s).map(function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()});Pr.all(u).then(n,t)})}),Ee.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ee.prototype.fail=function(e){this.failed=e,this.execute()},Ee.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ee.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Ar(Ae,Ce),Ae.debug=Tr,Ae.adapters={},Ae.preferredAdapters=[],Ae.prefix="_pouch_";var hi=new Or.EventEmitter;De(Ae),Ae.adapter=function(e,t,n){t.valid()&&(Ae.adapters[e]=t,n&&Ae.preferredAdapters.push(e))},Ae.plugin=function(e){if("function"==typeof e)e(Ae);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ae.prototype[t]=e[t]})}return this.__defaults&&(Ae.__defaults=zr({},this.__defaults)),Ae},Ae.defaults=function(e){function t(e,n){return this instanceof t?(n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=zr({},t.__defaults,n),void Ae.call(this,e,n)):new t(e,n)}return Ar(t,Ae),t.preferredAdapters=Ae.preferredAdapters.slice(),Object.keys(Ae).forEach(function(e){e in t||(t[e]=Ae[e])}),t.__defaults=zr({},this.__defaults,e),t};var pi="6.1.2";Ae.version=pi;var vi,gi=Re(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),mi=Re(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),yi=function(e){
return atob(e)},bi=function(e){return btoa(e)},wi=n.setImmediate||n.setTimeout,_i=32768,xi=5,Si="document-store",ki="by-sequence",Ci="attach-store",Ei="attach-seq-store",Ti="meta-store",Oi="local-store",Ai="detect-blob-support",Di=new k,Ri=!1,ji=[],Mi=new qr,Pi=new qr;Et.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Ii=function(e){e.adapter("idb",Et,!0)},Li=7,Fi=Pt("document-store"),Ni=Pt("by-sequence"),qi=Pt("attach-store"),Bi=Pt("local-store"),Hi=Pt("metadata-store"),Vi=Pt("attach-seq-store"),zi=new qr,Ui=new k,Wi=1,Yi="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Ni+" (seq, deleted)",$i="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Ni+" (doc_id, rev)",Gi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Fi+" (winningseq)",Ki="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Vi+" (seq)",Qi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Vi+" (digest, seq)",Xi=Ni+".seq = "+Fi+".winningseq",Ji=Ni+".seq AS seq, "+Ni+".deleted AS deleted, "+Ni+".json AS data, "+Ni+".rev AS rev, "+Fi+".json AS metadata";en.valid=Jt,en.use_prefix=!0;var Zi=function(e){e.adapter("websql",en,!0)},eo=on(),to=function(){},no=25,ro=50,io={},oo=Tr("pouchdb:http");bn.valid=function(){return!0};var so=function(e){e.adapter("http",bn,!1),e.adapter("https",bn,!1)};Ar(wn,Error),Ar(_n,Error),Ar(xn,Error);var ao=C.bind(null,"log"),uo=Array.isArray,co=JSON.parse,lo=-324,fo=3,ho="";Yn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Yn.prototype.finish=function(){return this.promise};var po={},vo=new Yn,go=50,mo={_sum:function(e,t){return Dn(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}return{sum:Dn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},yo="mrviews",bo=Xn(yo,Jn,Zn,er),wo={query:tr,viewCleanup:nr},_o=1,xo="pouchdb",So=5,ko=0;lr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},lr.prototype.updateTarget=function(e,t){return cr(this.target,this.id,e,t,this.returnValue)},lr.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?Pr.resolve(!0):cr(this.src,this.id,e,t,this.returnValue).catch(function(e){if(pr(e))return n.readOnlySource=!0,!0;throw e})};var Co={undefined:function(e,t){return 0===Pn(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return dr(t,e).last_seq}};lr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Pr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return ko;var n;return n=t.version?t.version.toString():"undefined",n in Co?Co[n](t,e):ko},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:ko}).then(function(){return ko},function(n){return pr(n)?(e.readOnlySource=!0,t.last_seq):ko});throw n})}).catch(function(e){if(404!==e.status)throw e;return ko})};var Eo=0;Ar(br,Or.EventEmitter),br.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},br.prototype.ready=function(e,t){function n(){i.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var i=this;i._readyCalled||(i._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),i.once("complete",r))},Ar(Sr,Or.EventEmitter),Sr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ae.plugin(Ii).plugin(Zi).plugin(so).plugin(wo).plugin(kr),t.exports=Ae}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,10:10,11:11,12:12,2:2,4:4,5:5,6:6,7:7}]},{},[13])(13)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.pouchdbFind=e()}}(function(){var e;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}var i=e(4),o=e(5),s=o.Promise;t.exports=function(e){var t=e.db,n=e.viewName,a=e.map,u=e.reduce,c=e.temporary,l=e.pluginName,d=r(a)+r(u)+"undefined";if(!c&&t._cachedViews){var f=t._cachedViews[d];if(f)return s.resolve(f)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;t.indexOf("/")===-1&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[s])return r[s]=!0,e}var s=e.db_name+"-mrview-"+(c?"temp":o.MD5(d));return i(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(s).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:s,db:n,sourceDB:t,adapter:t.adapter,mapFun:a,reduceFun:u};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[d]=r,r.db.on("destroyed",function(){delete t._cachedViews[d]})),r})})})})}},{4:4,5:5}],2:[function(e,t,n){(function(n){"use strict";function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function i(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i)}catch(e){}}function o(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function s(e){return 1===e.length&&/^1-/.test(e[0].rev)}function a(e,t){var n=y(e.key,t.key);return 0!==n?n:y(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function l(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function d(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return l(e,t),{error:t}}}function f(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[i]&&y(e[n],e[i])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function t(e,t,n){function r(){return s(d)?S.resolve(u):t.db.get(a).catch(h(u))}function i(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):S.resolve({rows:[]})}function o(e,t){for(var n=[],r={},i=0,o=t.rows.length;i<o;i++){var s=t.rows[i],a=s.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!l[a._id],!a._deleted)){var u=l[a._id];"value"in u&&(a.value=u.value)}}var c=Object.keys(l);return c.forEach(function(e){if(!r[e]){var t={_id:e},i=l[e];"value"in i&&(t.value=i.value),n.push(t)}}),e.keys=x.uniq(c.concat(e.keys)),n.push(e),n}var a="_local/doc_"+e,u={_id:a,keys:[]},c=n[e],l=c.indexableKeysToKeyValues,d=c.changes;return r().then(function(e){return i(e).then(function(t){return o(e,t)})})}function r(e,n,r){var i="_local/lastSeq";return e.db.get(i).catch(h({_id:i,seq:0})).then(function(i){var o=Object.keys(n);return S.all(o.map(function(r){return t(r,e,n)})).then(function(t){var n=x.flatten(t);return i.seq=r,n.push(i),e.db.bulkDocs({docs:n})})})}function l(e){var t="string"==typeof e?e:e.name,n=k[t];return n||(n=k[t]=new m),n}function p(e){return x.sequentialize(l(e),function(){return v(e)})()}function v(e){function t(e,t){var n={id:o._id,key:w(e)};"undefined"!=typeof t&&null!==t&&(n.value=w(t)),i.push(n)}function n(t,n){return function(){return r(e,t,n)}}var i,o,s=M(e.mapFun,t),u=e.seq||0,c=new m;return new S(function(t,r){function l(){c.finish().then(function(){e.seq=u,t()})}function f(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:E}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,v=r.length;p<v;p++){var g=r[p];if("_"!==g.doc._id[0]){i=[],o=g.doc,o._deleted||d(e.sourceDB,s,[o]),i.sort(a);for(var m,w={},_=0,x=i.length;_<x;_++){var S=i[_],k=[S.key,S.id];0===y(S.key,m)&&k.push(_);var C=b(k);w[C]=S,m=S.key}h[g.doc._id]={indexableKeysToKeyValues:w,changes:g.changes}}u=g.seq}return c.add(n(h,u)),r.length<E?l():f()}).on("error",t)}f()})}function T(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,i=P(e.reduceFun),o=[],s=n.group_level;t.forEach(function(e){var t=o[o.length-1],n=r?e.key:null;return r&&Array.isArray(n)&&"number"==typeof s&&(n=n.length>s?n.slice(0,s):n),t&&0===y(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void o.push({key:[[n,e.id]],value:[e.value]})});for(var a=0,c=o.length;a<c;a++){var l=o[a],f=d(e.sourceDB,i,[l.key,l.value,!1]);if(f.error&&/BuiltInError/.test(f.error.constructor))throw f.error;l.value=f.error?null:f.output,l.key=l.key[0][0]}return{rows:u(o,n.limit,n.skip)}}function O(e,t){return x.sequentialize(l(e),function(){return A(e,t)})()}function A(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=g.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=o?T(e,n,t):{total_rows:i,offset:s,rows:n},t.include_docs){var a=x.uniq(n.map(c));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var i,o=e.reduceFun&&t.reduce!==!1,s=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var a=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var u=t.keys,l=u.map(function(e){var t={startkey:b([e]),endkey:b([e,{}])};return n(t)});return S.all(l).then(a).then(r)}var d={descending:t.descending};if("undefined"!=typeof t.startkey&&(d.startkey=b(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var f=t.inclusive_end!==!1;t.descending&&(f=!f),d.endkey=b(f?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var h=b([t.key]),p=b([t.key,{}]);d.descending?(d.endkey=h,d.startkey=p):(d.startkey=h,d.endkey=p)}return o||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=s),n(d).then(r)}function D(e){return e.get("_local/"+j).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=o(e),r="_design/"+t[0],i=t[1];n[r]=n[r]||{},n[r][i]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var o=r+"/"+n;t.views[o]||(o=n);var s=Object.keys(t.views[o]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){i[e]=i[e]||a})})});var o=Object.keys(i).filter(function(e){return!i[e]}),s=o.map(function(t){return x.sequentialize(l(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return S.all(s).then(function(){return{ok:!0}})})},h({ok:!0}))}function R(e,t,r){if("string"!=typeof t){f(r,t);var s={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0,pluginName:j};return C.add(function(){return _(s).then(function(e){function t(){return e.db.destroy()}return x.fin(p(e).then(function(){return O(e,r)}),t)})}),C.finish()}var a=t,u=o(a),c=u[0],l=u[1];return e.get("_design/"+c).then(function(t){var o=t.views&&t.views[l];if(!o)throw new i("ddoc "+t._id+" has no view named "+l);I(t,l),f(r,o);var s={db:e,viewName:a,map:o.map,reduce:o.reduce,pluginName:j};return _(s).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&n.nextTick(function(){p(e)}),O(e,r)):p(e).then(function(){return O(e,r)})})})}var j=e.name,M=e.mapper,P=e.reducer,I=e.ddocValidator,L=function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=x.extend(!0,{},t),"function"==typeof e&&(e={map:e});var i=S.resolve().then(function(){return R(r,e,t)});return x.promisedCallback(i,n),i},F=x.callbackify(function(){var e=this;return D(e)});return{query:L,viewCleanup:F}}var v,g=e(26),m=e(3),y=g.collate,b=g.toIndexableString,w=g.normalizeKey,_=e(1);v="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var x=e(5),S=x.Promise,k={},C=new m,E=50;x.inherits(r,Error),x.inherits(i,Error),t.exports=p}).call(this,e(34))},{1:1,26:26,3:3,34:34,5:5}],3:[function(e,t,n){"use strict";function r(){this.promise=new i(function(e){e()})}var i=e(5).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},t.exports=r},{5:5}],4:[function(e,t,n){"use strict";var r=e(31).upsert;t.exports=function(e,t,n){return r.apply(e,[t,n])}},{31:31}],5:[function(e,t,n){(function(t){"use strict";n.Promise=e(29),n.inherits=e(23),n.extend=e(28);var r=e(18);n.promisedCallback=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},n.callbackify=function(e){return r(function(t){var r=t.pop(),i=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(i,r),i})},n.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},n.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},n.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},n.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var i=Object.keys(t),o=new Array(i.length);for(n=0,r=i.length;n<r;n++)o[n]=i[n].substring(1);return o};var i=e(19),o=e(35);n.MD5=function(e){return t.browser?o.hash(e):i.createHash("md5").update(e).digest("hex")}}).call(this,e(34))},{18:18,19:19,23:23,28:28,29:29,34:34,35:35}],6:[function(e,t,n){"use strict";function r(e,t,n){t=a(t),e.request({method:"POST",url:"_index",body:t},n)}function i(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function o(e,t){e.request({method:"GET",url:"_index"},t)}function s(e,t,n){var r=t.ddoc,i=t.type||"json",o=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!o)return n(new Error("you must provide an index's name"));var s="_index/"+[r,i,o].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:s},n)}var a=e(16);n.createIndex=r,n.find=i,n.getIndexes=o,n.deleteIndex=s},{16:16}],7:[function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],i=0,o=e.length;i<o;i++){for(var s=p(e[i]),a=n,u=0,c=s.length;u<c;u++){var l=s[u];if(a=a[l],!a)break}r.push(a)}t(r)}}function i(e,t){var n=p(e);return function(e){for(var r=e,i=0,o=n.length;i<o;i++){var s=n[i];if(r=r[s],!r)return}t(r)}}function o(e,t){return function(n){t(n[e])}}function s(e,t){return function(n){for(var r=[],i=0,o=e.length;i<o;i++)r.push(n[e[i]]);t(r)}}function a(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.indexOf(".")!==-1)return!1}return!0}function u(e,t){var n=a(e),u=1===e.length;return n?u?o(e[0],t):s(e,t):u?i(e[0],t):r(e,t)}function c(e,t){var n=Object.keys(e.fields);return u(n,t)}function l(){throw new Error("reduce not supported")}function d(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var f=e(15),h=e(2),p=f.parseField,v=h({name:"indexes",mapper:c,reducer:l,ddocValidator:d});t.exports=v},{15:15,2:2}],8:[function(e,t,n){"use strict";function r(e,t,n){return a.upsert.call(e,t,n)}function i(e,t){function n(e){return e._rev&&"query"!==e.language&&(v=!0),e.language="query",e.views=e.views||{},!(g=!!e.views[c])&&(e.views[c]={map:{fields:o.mergeObjects(t.index.fields)},reduce:"_count",options:{def:i}},e)}t=f(t);var i=o.clone(t.index);t.index=d(t.index),l(t.index);var a=o.MD5(JSON.stringify(t)),c=t.name||"idx-"+a,h=t.ddoc||"idx-"+a,p="_design/"+h,v=!1,g=!1;return s("creating index",p),r(e,p,n).then(function(){if(v)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return u.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:g?"exists":"created"}})})}var o=e(17),s=o.log,a=e(31),u=e(7),c=e(15),l=c.validateIndex,d=c.massageIndexDef,f=e(16);t.exports=i},{15:15,16:16,17:17,31:31,7:7}],9:[function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[s]?{_id:r,_deleted:!0}:(delete e.views[s],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,s=t.name;return o(e,r,n).then(function(){return i.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var i=e(7),o=e(4);t.exports=r},{4:4,7:7}],10:[function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=_(e),r=S(n),i=C(t,r);return i})}return function(e,n){var r=t(e.doc),i=t(n.doc),o=y(r,i);return 0!==o?o:k.compare(e.doc._id,n.doc._id)}}function i(e,t,n){if(e=e.filter(function(e){return o(e.doc,t.selector,n)}),t.sort){var i=r(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===x(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0,a=("limit"in t?t.limit:e.length)+s;e=e.slice(s,a)}return e}function o(e,t,n){return n.every(function(n){var r=t[n],i=S(n),o=C(e,i);return w(n)?a(n,r,e):s(r,e,i,o)})}function s(e,t,n,r){return!e||Object.keys(e).every(function(i){var o=e[i];return u(i,t,o,n,r)})}function a(e,t,n){return"$or"===e?t.some(function(e){return o(n,e,Object.keys(e))}):"$not"===e?!o(n,t,Object.keys(t)):!t.find(function(e){return o(n,e,Object.keys(e))})}function u(e,t,n,r,i){if(!E[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return E[e](t,n,r,i)}function c(e){return"undefined"!=typeof e&&null!==e}function l(e){return"undefined"!=typeof e}function d(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function f(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function h(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function p(e,t){return e.length===t}function v(e,t){var n=new RegExp(t);return n.test(e)}function g(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var m=e(24),y=e(26).collate,b=e(15),w=b.isCombinationalField,_=b.getKey,x=b.getValue,S=b.parseField,k=e(17),C=k.getFieldFromDoc,E={$elemMatch:function(e,t,n,r){return!!m(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return o(e,t,Object.keys(t))}):r.some(function(r){return s(t,e,n,r)})))},$eq:function(e,t,n,r){return l(r)&&0===y(r,t)},$gte:function(e,t,n,r){return l(r)&&y(r,t)>=0},$gt:function(e,t,n,r){return l(r)&&y(r,t)>0},$lte:function(e,t,n,r){return l(r)&&y(r,t)<=0},$lt:function(e,t,n,r){return l(r)&&y(r,t)<0},$exists:function(e,t,n,r){return t?l(r):!l(r)},$mod:function(e,t,n,r){return c(r)&&d(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==y(r,e)})},$in:function(e,t,n,r){return c(r)&&f(r,t)},$nin:function(e,t,n,r){return c(r)&&!f(r,t)},$size:function(e,t,n,r){return c(r)&&p(r,t)},$all:function(e,t,n,r){return m(r)&&h(r,t)},$regex:function(e,t,n,r){return c(r)&&v(r,t)},$type:function(e,t,n,r){return g(r,t)}};t.exports=i},{15:15,17:17,24:24,26:26}],11:[function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function i(e,t){var n=a(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function o(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=v(t.sort)),m(t),u(e).then(function(n){var o=d(t,n.indexes),a=o.index;y(t,a);var u=s.extend(!0,{include_docs:!0,reduce:!1},o.queryOpts);if("startkey"in u&&"endkey"in u&&c(u.startkey,u.endkey)>0)return{docs:[]};var f=t.sort&&"string"!=typeof t.sort[0]&&"desc"===g(t.sort[0]);return f&&(u.descending=!0,u=b(u)),o.inMemoryFields.length||("limit"in t&&(u.limit=t.limit),"skip"in t&&(u.skip=t.skip)),_.resolve().then(function(){if("_all_docs"===a.name)return i(e,u);var t=r(a);return l.query.call(e,t,u)}).then(function(e){u.inclusive_start===!1&&(e.rows=w(e.rows,u.startkey,a)),o.inMemoryFields.length&&(e.rows=h(e.rows,t,o.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?s.pick(n,t.fields):n})};return a.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n})})}var s=e(17),a=s.clone,u=e(13),c=e(26).collate,l=e(7),d=e(12),f=e(15),h=e(10),p=f.massageSelector,v=f.massageSort,g=f.getValue,m=f.validateFindRequest,y=f.validateSort,b=f.reverseOptions,w=f.filterInclusiveStart,_=s.Promise;t.exports=o},{10:10,12:12,13:13,15:15,17:17,26:26,7:7}],12:[function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(C),r=0,i=n.length;r<i;r++){var o=n[r];if(t===o)return!0}return!1}function i(e,t){var n=e[t],r=C(n);return"$eq"!==r}function o(e,t){var n=t.def.fields.map(C);return e.slice().sort(function(e,t){var r=n.indexOf(e),i=n.indexOf(t);return r===-1&&(r=Number.MAX_VALUE),i===-1&&(i=Number.MAX_VALUE),x.compare(r,i)})}function s(e,t,n){n=o(n,e);for(var s=!1,a=0,u=n.length;a<u;a++){var c=n[a];if(s||!r(e,c))return n.slice(a);a<u-1&&i(t,c)&&(s=!0)}return[]}function a(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function u(e,t,n,r){var i=x.flatten(e,s(t,n,r),a(n));return o(x.uniq(i),t)}function c(e,t,n){if(t){var r=x.oneArrayIsStrictSubArrayOfOther(t,e),i=x.oneArrayIsSubArrayOfOther(n,e);return r&&i}return x.oneSetIsSubArrayOfOther(n,e)}function l(e){return A.indexOf(e)===-1}function d(e,t){var n=e[0],r=t[n],i=Object.keys(r).some(function(e){return!l(e)});if(!i)return!1;var o=1===Object.keys(r).length&&"$ne"===C(r);return!o}function f(e,t,n,r){var i=e.def.fields.map(C),o=c(i,t,n);return!!o&&d(i,r)}function h(e,t,n,r){return r.reduce(function(r,i){var o=f(i,n,t,e);return o&&r.push(i),r},[])}function p(e,t,n,r){function i(e){for(var t=e.def.fields.map(C),n=0,r=0,i=t.length;r<i;r++){var o=t[r];a[o]&&n++}return n}var o=h(e,t,n,r);if(0===o.length){var s=r[0];return s.defaultUsed=!0,s}if(1===o.length)return o[0];var a=x.arrayToObject(t);return x.max(o,i)}function v(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function g(e,t){var n,r=C(t.def.fields[0]),i=e[r],o=[],s=Object.keys(i);return s.forEach(function(e){if(l(e))return void o.push(r);var t=i[e],s=v(e,t);n=n?x.mergeObjects([n,s]):s}),{queryOpts:n,inMemoryFields:o}}function m(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){function n(e){r!==!1&&a.push(T),i!==!1&&u.push(O),s=o.slice(e)}for(var r,i,o=t.def.fields.map(C),s=[],a=[],u=[],c=0,l=o.length;c<l;c++){var d=o[c],f=e[d];if(!f){n(c);break}if(c>0){if("$ne"in f){n(c);break}var h="$gt"in f||"$gte"in f||"$lt"in f||"$lte"in f,p=Object.keys(e[o[c-1]]),v=x.arrayEquals(p,["$eq"]),g=x.arrayEquals(p,Object.keys(f)),y=h&&!v&&!g;if(y){n(c);break}}for(var b=Object.keys(f),w=null,_=0;_<b.length;_++){var S=b[_],k=f[S],E=m(S,k);w=w?x.mergeObjects([w,E]):E}a.push("startkey"in w?w.startkey:T),u.push("endkey"in w?w.endkey:O),"inclusive_start"in w&&(r=w.inclusive_start),"inclusive_end"in w&&(i=w.inclusive_end)}var A={startkey:a,endkey:u};return"undefined"!=typeof r&&(A.inclusive_start=r),"undefined"!=typeof i&&(A.inclusive_end=i),{queryOpts:A,inMemoryFields:s}}function b(){return{queryOpts:{startkey:null},inMemoryFields:[]}}function w(e,t){return t.defaultUsed?b(e,t):1===t.def.fields.length?g(e,t):y(e,t)}function _(e,t){S("planning query",e);var n=e.selector,r=e.sort,i=E(n,r),o=i.fields,s=i.sortOrder,a=p(n,o,s,t),c=w(n,a),l=c.queryOpts,d=c.inMemoryFields,f=u(d,a,n,o),h={queryOpts:l,index:a,inMemoryFields:f};return S("query plan",h),h}var x=e(17),S=x.log,k=e(15),C=k.getKey,E=k.getUserFields,T=null,O={"￿":{}},A=["$eq","$gt","$gte","$lt","$lte"];t.exports=_},{15:15,17:17}],13:[function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=i.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){var t=void 0!==e.doc.views?Object.keys(e.doc.views):[];return t.map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:s(n.options.def)}})})),t.indexes.sort(function(e,t){return i.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var i=e(17),o=e(15),s=o.massageIndexDef;t.exports=r},{15:15,17:17}],14:[function(e,t,n){"use strict";var r=e(17),i=r.callbackify;n.createIndex=i(e(8)),n.find=i(e(11)),n.getIndexes=i(e(13)),n.deleteIndex=i(e(9))},{11:11,13:13,17:17,8:8,9:9}],15:[function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function i(e){return e[r(e)]}function o(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function s(e){return S.indexOf(e)>-1}function a(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):"undefined"!=typeof n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function u(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):"undefined"!=typeof n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function l(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),s(n))r instanceof Array?t[n]=r.map(function(e){return d([e])}):t[n]=d([r]);else{var i=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?a(e,t,i):"$lt"===e||"$lte"===e?u(e,t,i):"$ne"===e?c(t,i):"$eq"===e?l(t,i):void(i[e]=t)})}})}),t}function f(e){var t=_.clone(e),n=!1;"$and"in t&&(t=d(t.$and),n=!0),"$not"in t&&(t.$not=d([t.$not]));for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!n&&(s.$ne=[s.$ne]),t[o]=s}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],i=0;i<t.def.fields.length;i++){var o=r(t.def.fields[i]);n.push(e[o])}return n}function v(e,t,n){for(var r=n.def.fields,i=0,o=e.length;i<o;i++){var s=e[i],a=p(s.doc,n);if(1===r.length)a=a[0];else for(;a.length>t.length;)a.pop();if(Math.abs(x.collate(a,t))>0)break}return i>0?e.slice(i):e}function g(e){var t=_.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function m(e){var t=e.fields.filter(function(e){return"asc"===i(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function y(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function b(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function w(e,t){var n,i=Object.keys(e),o=t?t.map(r):[];return n=i.length>=o.length?i:o,0===o.length?{fields:n}:(n=n.sort(function(e,t){var n=o.indexOf(e);n===-1&&(n=Number.MAX_VALUE);var r=o.indexOf(t);return r===-1&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var _=e(17),x=e(26),S=["$or","$nor","$not"];t.exports={getKey:r,getValue:i,massageSort:o,massageSelector:f,validateIndex:m,validateFindRequest:b,validateSort:y,reverseOptions:g,filterInclusiveStart:v,massageIndexDef:h,parseField:_.parseField,getUserFields:w,isCombinationalField:s}},{17:17,26:26}],16:[function(e,t,n){"use strict";var r=e(17),i=r.clone;t.exports=function(e){return e=i(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},{17:17}],17:[function(e,t,n){(function(t){"use strict";var r=e(29);n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(i){var o,s=this,a="function"==typeof i[i.length-1]&&i.pop();a&&(o=function(e,n){t.nextTick(function(){a(e,n)})});var u=new r(function(t,r){try{var o=n.once(function(e,n){e?r(e):t(n)});i.push(o),e.apply(s,i)}catch(e){r(e)}});return o&&u.then(function(e){o(null,e)},o),u.cancel=function(){return this},u})},n.inherits=e(23),n.Promise=r,
n.clone=function(e){return n.extend(!0,{},e)},n.extend=e(28),n.callbackify=function(e){return n.getArguments(function(t){var r=t.pop(),i=e.apply(this,t);return n.promisedCallback(i,r),i})},n.promisedCallback=function(e,n){return e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e};var i=e(19),o=e(35);n.MD5=function(e){return t.browser?o.hash(e):i.createHash("md5").update(e).digest("hex")},n.flatten=n.getArguments(function(e){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?t=t.concat(n.flatten.apply(null,o)):t.push(o)}return t}),n.mergeObjects=function(e){for(var t={},r=0,i=e.length;r<i;r++)t=n.extend(!0,t,e[r]);return t},n.getFieldFromDoc=function(e,t){for(var n=e,r=0,i=t.length;r<i;r++){var o=t[r];if(n=n[o],!n)break}return n},n.setFieldInDoc=function(e,t,n){for(var r=0,i=t.length;r<i-1;r++){var o=t[r];e=e[o]={}}e[t[i-1]]=n},n.parseField=function(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];"."===o?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=o}return t.push(n),t},n.pick=function(e,t){for(var r={},i=0,o=t.length;i<o;i++){var s=n.parseField(t[i]),a=n.getFieldFromDoc(e,s);"undefined"!=typeof a&&n.setFieldInDoc(r,s,a)}return r},n.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},n.oneArrayIsStrictSubArrayOfOther=function(e,t){return!(e.length>t.length)&&n.oneArrayIsSubArrayOfOther(e,t)},n.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var i=t[n];if(!e.length)break;var o=e.indexOf(i);if(o===-1)return!1;e.splice(o,1)}return!0},n.compare=function(e,t){return e<t?-1:e>t?1:0},n.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},n.max=function(e,t){for(var n=null,r=-1,i=0,o=e.length;i<o;i++){var s=e[i],a=t(s);a>r&&(r=a,n=s)}return n},n.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},n.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},n.log=e(20)("pouchdb:find")}).call(this,e(34))},{19:19,20:20,23:23,28:28,29:29,34:34,35:35}],18:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],19:[function(e,t,n){},{}],20:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e(21),n.log=o,n.formatArgs=i,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{21:21}],21:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var i=n.formatters[r];if("function"==typeof i){var o=s[a];t=i.call(e,o),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var u=i.log||n.log||console.log.bind(console);u.apply(e,s)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e(25),n.names=[],n.skips=[],n.formatters={};var c,l=0},{25:25}],22:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}l=!1}function r(e){1!==d.push(e)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,d=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],24:[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],25:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,d=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?o(e):i(e)}},{}],26:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),i=-1,o=r.length,s="";if(t)for(;++i<o;)s+=n.toIndexableString(r[i]);else for(;++i<o;){var a=r[i];s+=n.toIndexableString(a)+n.toIndexableString(e[a])}return s}return""}function i(e,t){var n,r=t,i="1"===e[t];if(i)n=0,t++;else{var o="0"===e[t];t++;var s="",a=e.substring(t,t+f),u=parseInt(a,10)+d;for(o&&(u=-u),t+=f;;){var c=e[t];if("\0"===c)break;s+=c,t++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function o(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var s=e.pop();i[s]=n}else e.push(n)}}function s(e,t){for(var r=Math.min(e.length,t.length),i=0;i<r;i++){var o=n.collate(e[i],t[i]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function a(e,t){return e===t?0:e>t?1:-1}function u(e,t){for(var r=Object.keys(e),i=Object.keys(t),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=n.collate(r[s],i[s]);if(0!==a)return a;if(a=n.collate(e[r[s]],t[i[s]]),0!==a)return a}return r.length===i.length?0:r.length>i.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(r?-n:n)-d,s=p.padLeft(o.toString(),"0",f);i+=h+s;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var u=a.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=h+u}var d=-324,f=3,h="",p=e(27);n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=c(e),i=c(t);if(r-i!==0)return r-i;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return a(e,t)}return Array.isArray(e)?s(e,t):u(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;i<r;i++)e[i]=n.normalizeKey(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];"undefined"!=typeof s&&(e[o]=n.normalizeKey(s))}}}}return e},n.toIndexableString=function(e){var t="\0";return e=n.normalizeKey(e),c(e)+h+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var a=i(e,r);t.push(a.num),r+=a.length;break;case"4":for(var u="";;){var c=e[r];if("\0"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var d={element:{},index:t.length};t.push(d.element),n.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();o(t,n)}}}},{27:27}],27:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}n.padLeft=function(e,t,n){var i=r(e,t,n);return i+e},n.padRight=function(e,t,n){var i=r(e,t,n);return e+i},n.stringLexCompare=function(e,t){var n,r=e.length,i=t.length;for(n=0;n<r;n++){if(n===i)return 1;var o=e.charAt(n),s=t.charAt(n);if(o!==s)return o<s?-1:1}return r<i?-1:0},n.intToDecimalForm=function(e){var t=e<0,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],28:[function(e,t,n){"use strict";function r(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[h.call(e)]||"object":typeof e}function i(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==r(e)||e.nodeType||i(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||p.call(e,t)}function s(e){return"function"===r(e)}function a(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var i={};e.push({args:r,result:{container:i,key:"key"}});for(var o;o=e.pop();)u(e,o.args,o.result);return i.key}function u(e,t,n){var r,i,a,u,c,l,d,f=t[0]||{},h=1,p=t.length,g=!1,m=/\d+/;for("boolean"==typeof f&&(g=f,f=t[1]||{},h=2),"object"==typeof f||s(f)||(f={}),p===h&&(f=this,--h);h<p;h++)if(null!=(r=t[h])){d=v(r);for(i in r)if(!(i in Object.prototype)){if(d&&!m.test(i))continue;if(a=f[i],u=r[i],f===u)continue;g&&u&&(o(u)||(c=v(u)))?(c?(c=!1,l=a&&v(a)?a:[]):l=a&&o(a)?a:{},e.push({args:[g,l,u],result:{container:f,key:i}})):void 0!==u&&(v(r)&&s(u)||(f[i]=u))}}n.container[n.key]=f}for(var c={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],d=0;d<l.length;d++){var f=l[d];c["[object "+f+"]"]=f.toLowerCase()}var h=c.toString,p=c.hasOwnProperty,v=Array.isArray||function(e){return"array"===r(e)};t.exports=a},{}],29:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(e(30)),o="function"==typeof Promise?Promise:i;t.exports=o},{30:30}],30:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,s=c(i);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function d(e){var t=new this(r);return v.reject(t,e)}function f(e){function t(e,t){function r(e){s[t]=e,++a!==i||o||(o=!0,v.resolve(c,s))}n.resolve(e).then(r,function(e){o||(o=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(r);++u<i;)t(e[u],u);return c}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)t(e[s]);return a}var p=e(22),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===m?e:t;s(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=m,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},i.resolve=l,i.reject=d,i.all=f,i.race=h},{22:22}],31:[function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?o.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var o=r._rev,s=n(r);return s?(s._id=t,s._rev=o,i(e,s,n)):{updated:!1,rev:o}})}function i(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(i){if(409!==i.status)throw i;return r(e,t._id,n)})}var o=e(33);n.upsert=function(e,t,n){var i=this,o=r(i,e,t);return"function"!=typeof n?o:void o.then(function(e){n(null,e)},n)},n.putIfNotExists=function(e,t,n){var i=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var o=function(e){return!e._rev&&t},s=r(i,e,o);return"function"!=typeof n?s:void s.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{33:33}],32:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{22:22,30:30}],33:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{29:29,32:32}],34:[function(e,t,n){function r(){l&&a&&(l=!1,a.length?c=a.concat(c):d=-1,c.length&&i())}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a&&a[d].run();d=-1,t=c.length}a=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var a,u=t.exports={},c=[],l=!1,d=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],35:[function(t,n,r){!function(t){if("object"==typeof r)n.exports=t();else if("function"==typeof e&&e.amd)e(t);else{var i;try{i=window}catch(e){i=self}i.SparkMD5=t()}}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,i,o,s){return n=t(t(n,e),t(i,s)),t(n<<o|n>>>32-o,r)},r=function(e,t,r,i,o,s,a){return n(t&r|~t&i,e,t,o,s,a)},i=function(e,t,r,i,o,s,a){return n(t&i|r&~i,e,t,o,s,a)},o=function(e,t,r,i,o,s,a){return n(t^r^i,e,t,o,s,a)},s=function(e,t,r,i,o,s,a){return n(r^(t|~i),e,t,o,s,a)},a=function(e,n){var a=e[0],u=e[1],c=e[2],l=e[3];a=r(a,u,c,l,n[0],7,-680876936),l=r(l,a,u,c,n[1],12,-389564586),c=r(c,l,a,u,n[2],17,606105819),u=r(u,c,l,a,n[3],22,-1044525330),a=r(a,u,c,l,n[4],7,-176418897),l=r(l,a,u,c,n[5],12,1200080426),c=r(c,l,a,u,n[6],17,-1473231341),u=r(u,c,l,a,n[7],22,-45705983),a=r(a,u,c,l,n[8],7,1770035416),l=r(l,a,u,c,n[9],12,-1958414417),c=r(c,l,a,u,n[10],17,-42063),u=r(u,c,l,a,n[11],22,-1990404162),a=r(a,u,c,l,n[12],7,1804603682),l=r(l,a,u,c,n[13],12,-40341101),c=r(c,l,a,u,n[14],17,-1502002290),u=r(u,c,l,a,n[15],22,1236535329),a=i(a,u,c,l,n[1],5,-165796510),l=i(l,a,u,c,n[6],9,-1069501632),c=i(c,l,a,u,n[11],14,643717713),u=i(u,c,l,a,n[0],20,-373897302),a=i(a,u,c,l,n[5],5,-701558691),l=i(l,a,u,c,n[10],9,38016083),c=i(c,l,a,u,n[15],14,-660478335),u=i(u,c,l,a,n[4],20,-405537848),a=i(a,u,c,l,n[9],5,568446438),l=i(l,a,u,c,n[14],9,-1019803690),c=i(c,l,a,u,n[3],14,-187363961),u=i(u,c,l,a,n[8],20,1163531501),a=i(a,u,c,l,n[13],5,-1444681467),l=i(l,a,u,c,n[2],9,-51403784),c=i(c,l,a,u,n[7],14,1735328473),u=i(u,c,l,a,n[12],20,-1926607734),a=o(a,u,c,l,n[5],4,-378558),l=o(l,a,u,c,n[8],11,-2022574463),c=o(c,l,a,u,n[11],16,1839030562),u=o(u,c,l,a,n[14],23,-35309556),a=o(a,u,c,l,n[1],4,-1530992060),l=o(l,a,u,c,n[4],11,1272893353),c=o(c,l,a,u,n[7],16,-155497632),u=o(u,c,l,a,n[10],23,-1094730640),a=o(a,u,c,l,n[13],4,681279174),l=o(l,a,u,c,n[0],11,-358537222),c=o(c,l,a,u,n[3],16,-722521979),u=o(u,c,l,a,n[6],23,76029189),a=o(a,u,c,l,n[9],4,-640364487),l=o(l,a,u,c,n[12],11,-421815835),c=o(c,l,a,u,n[15],16,530742520),u=o(u,c,l,a,n[2],23,-995338651),a=s(a,u,c,l,n[0],6,-198630844),l=s(l,a,u,c,n[7],10,1126891415),c=s(c,l,a,u,n[14],15,-1416354905),u=s(u,c,l,a,n[5],21,-57434055),a=s(a,u,c,l,n[12],6,1700485571),l=s(l,a,u,c,n[3],10,-1894986606),c=s(c,l,a,u,n[10],15,-1051523),u=s(u,c,l,a,n[1],21,-2054922799),a=s(a,u,c,l,n[8],6,1873313359),l=s(l,a,u,c,n[15],10,-30611744),c=s(c,l,a,u,n[6],15,-1560198380),u=s(u,c,l,a,n[13],21,1309151649),a=s(a,u,c,l,n[4],6,-145523070),l=s(l,a,u,c,n[11],10,-1120210379),c=s(c,l,a,u,n[2],15,718787259),u=s(u,c,l,a,n[9],21,-343485551),e[0]=t(a,e[0]),e[1]=t(u,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},u=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,i,o,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(l,r),l},d=function(e){var t,n,r,i,o,s,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)a(l,c(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return i=8*u,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(l,r),l},f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;t<4;t+=1)n+=f[e>>8*t+4&15]+f[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},v=function(e){return p(l(e))},g=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==v("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),g.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},g.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)a(this._state,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},g.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},g.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(a(this._state,e),o=0;o<16;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,a(this._state,e)},g.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},g.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},g.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)a(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},g.ArrayBuffer.hash=function(e,t){var n=d(new Uint8Array(e));return t?n:p(n)},g})},{}],36:[function(e,t,n){"use strict";var r=e(17),i=e(6),o=e(14),s={};s.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));var n="http"===this.type()?i:o;n.createIndex(this,e,t)}),s.find=r.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));var n="http"===this.type()?i:o;n.find(this,e,t)}),s.getIndexes=r.toPromise(function(e){var t="http"===this.type()?i:o;t.getIndexes(this,e)}),s.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));var n="http"===this.type()?i:o;n.deleteIndex(this,e,t)}),t.exports=s,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(s)},{14:14,17:17,6:6}]},{},[36])(36)}),function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(e){function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(n)throw n;if(n=this._db._checkKeyValue(t,"value",this._db._isBuffer))throw n;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this,e(64))},{64:64}],2:[function(e,t,n){(function(e){function n(e){this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next(function(){n._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){n._nexting=!1,t()}))},n.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=n}).call(this,e(64))},{64:64}],3:[function(e,t,n){(function(n,r){function i(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e}var o=e(102),s=e(2),a=e(1);i.prototype.open=function(e,t){if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");return"object"!=typeof e&&(e={}),"function"==typeof this._open?this._open(e,t):void r.nextTick(t)},i.prototype.close=function(e){if("function"!=typeof e)throw new Error("close() requires a callback argument");return"function"==typeof this._close?this._close(e):void r.nextTick(e)},i.prototype.get=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._get?this._get(e,t,n):void r.nextTick(function(){n(new Error("NotFound"))}))},i.prototype.put=function(e,t,n,i){var o;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(o=this._checkKeyValue(e,"key",this._isBuffer))?i(o):(o=this._checkKeyValue(t,"value",this._isBuffer))?i(o):(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||r.browser||(t=String(t)),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(e,t,n,i):void r.nextTick(i))},i.prototype.del=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,n):void r.nextTick(n))},i.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return n(new Error("batch(array) requires an array argument"));"object"!=typeof t&&(t={});for(var i,o,s=0,a=e.length;s<a;s++)if(i=e[s],"object"==typeof i){if(o=this._checkKeyValue(i.type,"type",this._isBuffer))return n(o);if(o=this._checkKeyValue(i.key,"key",this._isBuffer))return n(o);if("put"==i.type&&(o=this._checkKeyValue(i.value,"value",this._isBuffer)))return n(o)}return"function"==typeof this._batch?this._batch(e,t,n):void r.nextTick(n)},i.prototype.approximateSize=function(e,t,n){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");return this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize?this._approximateSize(e,t,n):void r.nextTick(function(){n(null,0)})},i.prototype._setupIteratorOptions=function(e){var t=this;return e=o(e),["start","end","gt","gte","lt","lte"].forEach(function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]}),e.reverse=!!e.reverse,e.reverse&&e.lt&&(e.start=e.lt),e.reverse&&e.lte&&(e.start=e.lte),!e.reverse&&e.gt&&(e.start=e.gt),!e.reverse&&e.gte&&(e.start=e.gte),(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)&&(e.exclusiveStart=!0),e},i.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new s(this)},i.prototype._chainedBatch=function(){return new a(this)},i.prototype._isBuffer=function(e){return n.isBuffer(e)},i.prototype._checkKeyValue=function(e,t){if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")},t.exports.AbstractLevelDOWN=i,t.exports.AbstractIterator=s,t.exports.AbstractChainedBatch=a}).call(this,{isBuffer:e(36)},e(64))},{1:1,102:102,2:2,36:36,64:64}],4:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];
return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,s,a,u=e.length;s=r(e),a=new d(3*u/4-s),i=s>0?u-4:u;var c=0;for(t=0,n=0;t<i;t+=4,n+=3)o=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[c++]=o>>16&255,a[c++]=o>>8&255,a[c++]=255&o;return 2===s?(o=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[c++]=255&o):1===s&&(o=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[c++]=o>>8&255,a[c++]=255&o),a}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function a(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(s(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],s=16383,u=0,l=n-r;u<l;u+=s)o.push(a(e,u,u+s>l?l:u+s));return 1===r?(t=e[n-1],i+=c[t>>2],i+=c[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=c[t>>10],i+=c[t>>4&63],i+=c[t<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=u;for(var c=[],l=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)c[h]=f[h],l[f.charCodeAt(h)]=h;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],6:[function(e,t,n){},{}],7:[function(e,t,n){(function(n){function r(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if(r>>>=0,r>i)throw new RangeError("'length' is out of bounds");return a?n.from(e.slice(t,t+r)):new n(new Uint8Array(e.slice(t,t+r)))}function i(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!n.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return a?n.from(e,t):new n(e,t)}function o(e,t,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return s(e)?r(e,t,o):"string"==typeof e?i(e,t):a?n.from(e):new n(e)}var s=e(35),a="function"==typeof n.alloc&&"function"==typeof n.allocUnsafe&&"function"==typeof n.from;t.exports=o}).call(this,e(9).Buffer)},{35:35,9:9}],8:[function(e,t,n){(function(t){"use strict";var r=e(9),i=r.Buffer,o=r.SlowBuffer,s=r.kMaxLength||2147483647;n.alloc=function(e,t,n){if("function"==typeof i.alloc)return i.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>s)throw new RangeError("size is too large");var r=n,o=t;void 0===o&&(r=void 0,o=0);var a=new i(e);if("string"==typeof o)for(var u=new i(o,r),c=u.length,l=-1;++l<e;)a[l]=u[l%c];else a.fill(o);return a},n.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>s)throw new RangeError("size is too large");return new i(e)},n.from=function(e,n,r){if("function"==typeof i.from&&(!t.Uint8Array||Uint8Array.from!==i.from))return i.from(e,n,r);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new i(e,n);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new i(e);"undefined"==typeof o&&(o=0);var s=r;if("undefined"==typeof s&&(s=e.byteLength-o),o>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(s>e.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(e.slice(o,o+s))}if(i.isBuffer(e)){var a=new i(e.length);return e.copy(a,0,0,e.length),a}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new i(e);if("Buffer"===e.type&&Array.isArray(e.data))return new i(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},n.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=s)throw new RangeError("size is too large");return new o(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{9:9}],9:[function(e,t,n){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function i(e){if(e>Q)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}return s(e,t,n)}function s(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(e,t,n):"string"==typeof e?l(e,t):h(e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n){return a(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}function c(e){return a(e),i(e<0?0:0|p(e))}function l(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,t),r=i(n),s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}function d(e){for(var t=e.length<0?0:0|p(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=o.prototype,r}function h(e){if(o.isBuffer(e)){var t=0|p(e.length),n=i(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||$(e.length)?i(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=Q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Q.toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(n+u>a&&(n=a-u),c=n;c>=0;c--){for(var d=!0,f=0;f<u;f++)if(o(e,c+f)!==o(t,f)){d=!1;break}if(d)return c}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function x(e,t,n,r){return Y(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return Y(z(t),e,n,r)}function k(e,t,n,r){return S(e,t,n,r)}function C(e,t,n,r){return Y(W(t),e,n,r)}function E(e,t,n,r){return Y(U(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,l,d;switch(a){case 1:o<128&&(s=o);break;case 2:u=e[i+1],128===(192&u)&&(d=(31&o)<<6|63&u,d>127&&(s=d));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(d=(15&o)<<12|(63&u)<<6|63&c,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(d=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return A(r)}function A(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=X));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=H(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function q(e){if(e=B(e).replace(J,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function U(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return G.toByteArray(q(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e){return e!==e}var G=e(5),K=e(32);n.Buffer=o,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50;var Q=2147483647;n.kMaxLength=Q,o.TYPED_ARRAY_SUPPORT=r(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return s(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return u(e,t,n)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,u=Math.min(s,a),c=this.slice(r,i),l=e.slice(t,n),d=0;d<u;++d)if(c[d]!==l[d]){s=c[d],a=l[d];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:new o(e,r),u=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g},{32:32,5:5}],10:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function v(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=d,n.isDate=f,n.isError=h,n.isFunction=p,n.isPrimitive=v,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e(36)})},{36:36}],11:[function(e,t,n){var r=e(9).Buffer,i=".PYFGCRLAOEUIDHTNSQJKXBMWVZ_pyfgcrlaoeuidhtnsqjkxbmwvz1234567890".split("").sort().join("");t.exports=function(e,t){if(e=e||i,t=t||{},64!==e.length)throw new Error("a base 64 encoding requires 64 chars");var n=new r(128);n.fill();for(var o=0;o<64;o++){var s=e.charCodeAt(o);n[s]=o}return t.encode=function(t){for(var n="",r=t.length,i=0,o=0;o<r;o++){var s=t[o];switch(o%3){case 0:n+=e[s>>2],i=(3&s)<<4;break;case 1:n+=e[i|s>>4],i=(15&s)<<2;break;case 2:n+=e[i|s>>6],n+=e[63&s],i=0}}return r%3&&(n+=e[i]),n},t.decode=function(e){for(var t=e.length,i=0,o=new r(~~(t/4*3)),s=0,a=0;a<t;a++){var u=n[e.charCodeAt(a)];switch(a%4){case 0:s=u<<2;break;case 1:o[i++]=s|u>>4,s=u<<4&255;break;case 2:o[i++]=s|u>>2,s=u<<6&255;break;case 3:o[i++]=s|u}}return o},t},t.exports(i,t.exports)},{9:9}],12:[function(e,t,n){(function(r){function i(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e(13),n.log=s,n.formatArgs=o,n.save=a,n.load=u,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e(64))},{13:13,64:64}],13:[function(e,t,n){function r(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(c||r);e.diff=i,e.prev=c,e.curr=r,c=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;a++;var i=n.formatters[r];if("function"==typeof i){var s=o[a];t=i.call(e,s),o.splice(a,1),a--}return t}),n.formatArgs.call(e,o);var u=t.log||n.log||console.log.bind(console);u.apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),"function"==typeof n.init&&n.init(t),t}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i.debug=i.default=i,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=e(62),n.names=[],n.skips=[],n.formatters={};var c},{62:62}],14:[function(e,t,n){function r(e){o.call(this,e),this._options=e,this._iterator=null,this._operations=[]}var i=e(99),o=e(19).AbstractIterator;i.inherits(r,o),r.prototype.setDb=function(e){var t=this._iterator=e.iterator(this._options);this._operations.forEach(function(e){t[e.method].apply(t,e.args)})},r.prototype._operation=function(e,t){return this._iterator?this._iterator[e].apply(this._iterator,t):void this._operations.push({method:e,args:t})},"next end".split(" ").forEach(function(e){r.prototype["_"+e]=function(){this._operation(e,arguments)}}),t.exports=r},{19:19,99:99}],15:[function(e,t,n){(function(n,r){function i(e){s.call(this,"string"==typeof e?e:""),this._db=void 0,this._operations=[],this._iterators=[]}var o=e(99),s=e(19).AbstractLevelDOWN,a=e(14);o.inherits(i,s),i.prototype.setDb=function(e){this._db=e,this._operations.forEach(function(t){e[t.method].apply(e,t.args)}),this._iterators.forEach(function(t){t.setDb(e)})},i.prototype._open=function(e,t){return r.nextTick(t)},i.prototype._operation=function(e,t){return this._db?this._db[e].apply(this._db,t):void this._operations.push({method:e,args:t})},"put get del batch approximateSize".split(" ").forEach(function(e){i.prototype["_"+e]=function(){this._operation(e,arguments)}}),i.prototype._isBuffer=function(e){return n.isBuffer(e)},i.prototype._iterator=function(e){if(this._db)return this._db.iterator.apply(this._db,arguments);var t=new a(e);return this._iterators.push(t),t},t.exports=i,t.exports.DeferredIterator=a}).call(this,{isBuffer:e(36)},e(64))},{14:14,19:19,36:36,64:64,99:99}],16:[function(e,t,n){(function(e){function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKey(e,"key",this._db._isBuffer);if(n)throw n;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this,e(64))},{64:64}],17:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{2:2,64:64}],18:[function(e,t,n){(function(n,r){function i(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}var o=e(21),s=e(17),a=e(16);i.prototype.open=function(e,t){var n=this,i=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(e){return e?(n.status=i,t(e)):(n.status="open",void t())})):(this.status="open",r.nextTick(t))},i.prototype.close=function(e){var t=this,n=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");
"function"==typeof this._close?(this.status="closing",this._close(function(r){return r?(t.status=n,e(r)):(t.status="closed",void e())})):(this.status="closed",r.nextTick(e))},i.prototype.get=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKey(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,n):void r.nextTick(function(){n(new Error("NotFound"))}))},i.prototype.put=function(e,t,n,i){var o;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(o=this._checkKey(e,"key",this._isBuffer))?i(o):(this._isBuffer(e)||(e=String(e)),null==t||this._isBuffer(t)||r.browser||(t=String(t)),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(e,t,n,i):void r.nextTick(i))},i.prototype.del=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKey(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,n):void r.nextTick(n))},i.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return n(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var i,o,s=0,a=e.length;s<a;s++)if(i=e[s],"object"==typeof i){if(o=this._checkKey(i.type,"type",this._isBuffer))return n(o);if(o=this._checkKey(i.key,"key",this._isBuffer))return n(o)}return"function"==typeof this._batch?this._batch(e,t,n):void r.nextTick(n)},i.prototype.approximateSize=function(e,t,n){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");return this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize?this._approximateSize(e,t,n):void r.nextTick(function(){n(null,0)})},i.prototype._setupIteratorOptions=function(e){var t=this;return e=o(e),["start","end","gt","gte","lt","lte"].forEach(function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]}),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},i.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new s(this)},i.prototype._chainedBatch=function(){return new a(this)},i.prototype._isBuffer=function(e){return n.isBuffer(e)},i.prototype._checkKey=function(e,t){if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")},t.exports=i}).call(this,{isBuffer:e(36)},e(64))},{16:16,17:17,21:21,36:36,64:64}],19:[function(e,t,n){n.AbstractLevelDOWN=e(18),n.AbstractIterator=e(17),n.AbstractChainedBatch=e(16),n.isLevelDOWN=e(20)},{16:16,17:17,18:18,20:20}],20:[function(e,t,n){function r(e){return!(!e||"object"!=typeof e)&&Object.keys(i.prototype).filter(function(e){return"_"!=e[0]&&"approximateSize"!=e}).every(function(t){return"function"==typeof e[t]})}var i=e(18);t.exports=r},{18:18}],21:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}],22:[function(e,t,n){"use strict";function r(e){if(this._capacity=s(e),this._length=0,this._front=0,a(e)){for(var t=e.length,n=0;n<t;++n)this[n]=e[n];this._length=t}}function i(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function o(e){return e>>>=0,e-=1,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e+1}function s(e){if("number"!=typeof e){if(!a(e))return 16;e=e.length}return o(Math.min(Math.max(16,e),1073741824))}r.prototype.toArray=function(){for(var e=this._length,t=new Array(e),n=this._front,r=this._capacity,i=0;i<e;++i)t[i]=this[n+i&r-1];return t},r.prototype.push=function(e){var t=arguments.length,n=this._length;if(t>1){var r=this._capacity;if(n+t>r){for(var i=0;i<t;++i){this._checkCapacity(n+1);var o=this._front+n&this._capacity-1;this[o]=arguments[i],n++,this._length=n}return n}for(var o=this._front,i=0;i<t;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+t,n+t}if(0===t)return n;this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;return this[i]=e,this._length=n+1,n+1},r.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},r.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},r.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(n>1){var r=this._capacity;if(t+n>r){for(var i=n-1;i>=0;i--){this._checkCapacity(t+1);var r=this._capacity,o=(this._front-1&r-1^r)-r;this[o]=arguments[i],t++,this._length=t,this._front=o}return t}for(var s=this._front,i=n-1;i>=0;i--){var o=(s-1&r-1^r)-r;this[o]=arguments[i],s=o}return this._front=s,this._length=t+n,t+n}if(0===n)return t;this._checkCapacity(t+1);var r=this._capacity,i=(this._front-1&r-1^r)-r;return this[i]=e,this._length=t+1,this._front=i,t+1},r.prototype.peekBack=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1;return this[t]}},r.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},r.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;if(t<0&&(t+=n),!(t<0||t>=n))return this[this._front+t&this._capacity-1]}},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,r=0;r<e;++r)this[t+r&n-1]=void 0;this._length=0,this._front=0},r.prototype.toString=function(){return this.toArray().toString()},r.prototype.valueOf=r.prototype.toString,r.prototype.removeFront=r.prototype.shift,r.prototype.removeBack=r.prototype.pop,r.prototype.insertFront=r.prototype.unshift,r.prototype.insertBack=r.prototype.push,r.prototype.enqueue=r.prototype.push,r.prototype.dequeue=r.prototype.shift,r.prototype.toJSON=r.prototype.toArray,Object.defineProperty(r.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(s(1.5*this._capacity+16))},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length;if(n+r>t){var o=n+r&t-1;i(this,0,this,t,o)}};var a=Array.isArray;t.exports=r},{}],23:[function(e,t,n){function r(e,t,n){s(this,{type:e,name:e,cause:"string"!=typeof t?t:n,message:t&&"string"!=typeof t?t.message:t},"ewr")}function i(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee),r.call(this,"CustomError",e,t)}function o(e,t,n){var o=function(n,i){r.call(this,t,n,i),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)};return o.prototype=n?new n:new i,o}var s=e(25);i.prototype=new Error,t.exports=function(e){var t=function(t,n){return o(e,t,n)};return{CustomError:i,FilesystemError:t("FilesystemError"),createError:t}}},{25:25}],24:[function(e,t,n){var r=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},r.forEach(function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e}),t.exports.custom=e(23)(t.exports),t.exports.create=t.exports.custom.createError},{23:23}],25:[function(e,t,n){!function(e,n,r){"undefined"!=typeof t&&t.exports?t.exports=r():n[e]=r()}("prr",this,function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e},t=function(e,t){var n="object"==typeof t,r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}},n=function(n,r,i,o){var s;if(o=t(i,o),"object"==typeof r){for(s in r)Object.hasOwnProperty.call(r,s)&&(o.value=r[s],e(n,s,o));return n}return e(n,r,o)};return n})},{}],26:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],27:[function(e,t,n){function r(){try{if("undefined"==typeof localStorage)return!1;if(localStorage.setItem("Storage-Test","1"),"1"!==localStorage.getItem("Storage-Test"))return!1;localStorage.removeItem("Storage-Test")}catch(e){return!1}return!0}"object"==typeof n&&(t.exports=r)},{}],28:[function(e,t,n){!function(){"use strict";t.exports="function"==typeof Symbol&&"symbol"==typeof Symbol()}()},{}],29:[function(e,t,n){!function(){"use strict";t.exports=e(28)&&"symbol"==typeof Symbol.toStringTag}()},{28:28}],30:[function(e,t,n){(function(n){var r=t.exports={},i=e(59);r.hasLocalStorage=e(27),r.create=function(){var e;return r.hasLocalStorage()?(e=n.localStorage,e={get length(){return n.localStorage.length},getItem:n.localStorage.getItem.bind(n.localStorage),setItem:n.localStorage.setItem.bind(n.localStorage),removeItem:n.localStorage.removeItem.bind(n.localStorage),key:n.localStorage.key.bind(n.localStorage),clear:n.localStorage.clear.bind(n.localStorage)},e.isPersistent=!0):(e=i,e.isPersistent=!1),e.getObject=r.getObject.bind(null,e),e.setObject=r.setObject.bind(null,e),e},r.setObject=function(e,t,n){return"object"!=typeof n?e.setItem(t,n):e.setItem(t,JSON.stringify(n))},r.getObject=function(e,t){var n=e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{27:27,59:59}],31:[function(e,t,n){var r=e(30);t.exports=r.create()},{30:30}],32:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*v}},{}],33:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}l=!1}function r(e){1!==d.push(e)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,d=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],35:[function(e,t,n){!function(){"use strict";var n,r,i,o=e(38),s="function"==typeof ArrayBuffer;if(s){if(e(29))try{i=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,i="number"==typeof i.call(new ArrayBuffer(4))&&i}catch(e){i=null}i||(n=e(95),r="[object ArrayBuffer]")}t.exports=function(e){if(!s||!o(e))return!1;if(!i)return n(e)===r;try{return"number"==typeof i.call(e)}catch(e){}return!1}}()},{29:29,38:38,95:95}],36:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],37:[function(e,t,n){!function(){"use strict";function n(e){try{return r.call(e),!0}catch(e){}return!1}var r=Function.prototype.toString,i=e(95),o=e(29),s=e(39),a="[object Function]",u="[object GeneratorFunction]";t.exports=function(e){if(s(e))return!1;if(o)return n(e);var t=i(e);return t===a||t===u}}()},{29:29,39:39,95:95}],38:[function(e,t,n){!function(){"use strict";var n=e(37),r=e(39);t.exports=function(e){return!r(e)&&!n(e)}}()},{37:37,39:39}],39:[function(e,t,n){"use strict";t.exports=function(e){return null==e||"function"!=typeof e&&"object"!=typeof e}},{}],40:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],41:[function(e,t,n){function r(e){this.opts=e||{},this.encodings=i}var i=e(42);t.exports=r,r.prototype._encoding=function(e){return"string"==typeof e&&(e=i[e]),e||(e=i.id),e},r.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},r.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},r.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},r.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},r.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},r.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},r.prototype.encodeBatch=function(e,t){var n=this;return e.map(function(e){var r={type:e.type,key:n.encodeKey(e.key,t,e)};return n.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=n.encodeValue(e.value,t,e),n.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r})};var o=["lt","gt","lte","gte","start","end"];r.prototype.encodeLtgt=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=o.indexOf(r)>-1?t.encodeKey(e[r],e):e[r]}),n},r.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(n,r){return{key:t.decodeKey(n,e),value:t.decodeValue(r,e)}}:e.keys?function(n){return t.decodeKey(n,e)}:e.values?function(n,r){return t.decodeValue(r,e)}:function(){}},r.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},r.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}},{42:42}],42:[function(e,t,n){(function(e){function t(e){return e}function r(t){return void 0===t||null===t||e.isBuffer(t)}n.utf8=n["utf-8"]={encode:function(e){return r(e)?e:String(e)},decode:function(e){return"string"==typeof e?e:String(e)},buffer:!1,type:"utf8"},n.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},n.binary={encode:function(t){return r(t)?t:new e(t)},decode:t,buffer:!0,type:"binary"},n.none={encode:function(e){return e},decode:function(e){return e},buffer:!1,type:"id"},n.id=n.none;var i=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];i.forEach(function(t){n[t]={encode:function(n){return r(n)?n:new e(n,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}})}).call(this,e(9).Buffer)},{9:9}],43:[function(e,t,n){var r=e(24).create,i=r("LevelUPError"),o=r("NotFoundError",i);o.prototype.notFound=!0,o.prototype.status=404,t.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:o,EncodingError:r("EncodingError",i)}},{24:24}],44:[function(e,t,n){function r(e,t){return this instanceof r?(o.call(this,s(t,{objectMode:!0})),this._iterator=e,this._destroyed=!1,this._decoder=null,t&&t.decoder&&(this._decoder=t.decoder),void this.on("end",this._cleanup.bind(this))):new r(e,t)}var i=e(34),o=e(72).Readable,s=e(45),a=e(43).EncodingError;t.exports=r,i(r,o),r.prototype._read=function(){var e=this;this._destroyed||this._iterator.next(function(t,n,r){if(!e._destroyed){if(t)return e.emit("error",t);if(void 0===n&&void 0===r)e.push(null);else{if(!e._decoder)return e.push({key:n,value:r});try{var r=e._decoder(n,r)}catch(t){return e.emit("error",new a(t)),void e.push(null)}e.push(r)}}})},r.prototype.destroy=r.prototype._cleanup=function(){var e=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(t){return t?e.emit("error",t):void e.emit("close")}))}},{34:34,43:43,45:45,72:72}],45:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],46:[function(e,t,n){function r(e,t){this._levelup=e,this._codec=t,this.batch=e.db.batch(),this.ops=[],this.length=0}var i=e(48),o=e(43).WriteError,s=i.getOptions,a=i.dispatchError;r.prototype.put=function(e,t,n){n=s(n);var r=this._codec.encodeKey(e,n),i=this._codec.encodeValue(t,n);try{this.batch.put(r,i)}catch(e){throw new o(e)}return this.ops.push({type:"put",key:r,value:i}),this.length++,this},r.prototype.del=function(e,t){t=s(t);var n=this._codec.encodeKey(e,t);try{this.batch.del(n)}catch(e){throw new o(e)}return this.ops.push({type:"del",key:n}),this.length++,this},r.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new o(e)}return this.ops=[],this.length=0,this},r.prototype.write=function(e){var t=this._levelup,n=this.ops;try{this.batch.write(function(r){return r?a(t,new o(r),e):(t.emit("batch",n),void(e&&e()))})}catch(e){throw new o(e)}},t.exports=r},{43:43,48:48}],47:[function(e,t,n){(function(n){function r(e,t){return"function"==typeof e?e:t}function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var o;if(c.call(this),this.setMaxListeners(1/0),"function"==typeof e?(t="object"==typeof t?t:{},t.db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(o=new x("Must provide a location for the database"),r)return n.nextTick(function(){r(o)});throw o}t=E(t),this.options=f(T,t),this._codec=new C(this.options),this._status="new",h(this,"location",e,"e"),this.open(r)}function o(e,t,n){if(!e._isOpening()&&!e.isOpen())return A(e,new y("Database is not open"),n),!0}function s(e,t,n){A(e,new m(t),n)}function a(e,t,n){A(e,new y(t),n)}function u(e){return function(t,n){O()[e](t,n||function(){})}}var c=e(26).EventEmitter,l=e(99).inherits,d=e(99).deprecate,f=e(51),h=e(65),p=e(15),v=e(44),g=e(43),m=g.WriteError,y=g.ReadError,b=g.NotFoundError,w=g.OpenError,_=g.EncodingError,x=g.InitializationError,S=e(48),k=e(46),C=e(49),E=S.getOptions,T=S.defaultOptions,O=S.getLevelDOWN,A=S.dispatchError;S.isDefined;l(i,c),i.prototype.open=function(e){var t,r,i=this;return this.isOpen()?(e&&n.nextTick(function(){e(null,i)}),this):this._isOpening()?e&&this.once("open",function(){e(null,i)}):(this.emit("opening"),this._status="opening",this.db=new p(this.location),t=this.options.db||O(),r=t(this.location),void r.open(this.options,function(t){return t?A(i,new w(t),e):(i.db.setDb(r),i.db=r,i._status="open",e&&e(null,i),i.emit("open"),i.emit("ready"),void 0)}))},i.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close(function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)}),this.emit("closing"),this.db=new p(this.location);else{if("closed"==this._status&&e)return n.nextTick(e);"closing"==this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",function(){t.close(e)})}},i.prototype.isOpen=function(){return"open"==this._status},i.prototype._isOpening=function(){return"opening"==this._status},i.prototype.isClosed=function(){return/^clos/.test(this._status)},i.prototype.get=function(e,t,n){var i,s=this;if(n=r(t,n),!o(this,t,n)){if(null===e||void 0===e||"function"!=typeof n)return a(this,"get() requires key and callback arguments",n);t=S.getOptions(t),i=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(i,t,function(r,i){if(r)return r=/notfound/i.test(r)||r.notFound?new b("Key not found in database ["+e+"]",r):new y(r),A(s,r,n);if(n){try{i=s._codec.decodeValue(i,t)}catch(e){return n(new _(e))}n(null,i)}})}},i.prototype.put=function(e,t,n,i){var a,u,c=this;return i=r(n,i),null===e||void 0===e?s(this,"put() requires a key argument",i):void(o(this,n,i)||(n=E(n),a=this._codec.encodeKey(e,n),u=this._codec.encodeValue(t,n),this.db.put(a,u,n,function(n){return n?A(c,new m(n),i):(c.emit("put",e,t),void(i&&i()))})))},i.prototype.del=function(e,t,n){var i,a=this;return n=r(t,n),null===e||void 0===e?s(this,"del() requires a key argument",n):void(o(this,t,n)||(t=E(t),i=this._codec.encodeKey(e,t),this.db.del(i,t,function(t){return t?A(a,new m(t),n):(a.emit("del",e),void(n&&n()))})))},i.prototype.batch=function(e,t,n){var i,a=this;return arguments.length?(n=r(t,n),Array.isArray(e)?void(o(this,t,n)||(t=E(t),i=a._codec.encodeBatch(e,t),i=i.map(function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e}),this.db.batch(i,t,function(t){return t?A(a,new m(t),n):(a.emit("batch",e),void(n&&n()))}))):s(this,"batch() requires an array argument",n)):new k(this,this._codec)},i.prototype.approximateSize=d(function(e,t,n,i){var o,s,u=this;return i=r(n,i),n=E(n),null===e||void 0===e||null===t||void 0===t||"function"!=typeof i?a(this,"approximateSize() requires start, end and callback arguments",i):(o=this._codec.encodeKey(e,n),s=this._codec.encodeKey(t,n),void this.db.approximateSize(o,s,function(e,t){return e?A(u,new w(e),i):void(i&&i(null,t))}))},"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),i.prototype.readStream=i.prototype.createReadStream=function(e){return e=f({keys:!0,values:!0},this.options,e),e.keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,e=this._codec.encodeLtgt(e),e.keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new v(this.db.iterator(e),f(e,{decoder:this._codec.createStreamDecoder(e)}))},i.prototype.keyStream=i.prototype.createKeyStream=function(e){return this.createReadStream(f(e,{keys:!0,values:!1}))},i.prototype.valueStream=i.prototype.createValueStream=function(e){return this.createReadStream(f(e,{keys:!1,values:!0}))},i.prototype.toString=function(){return"LevelUP"},t.exports=i,t.exports.errors=e(43),t.exports.destroy=d(u("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),t.exports.repair=d(u("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")}).call(this,e(64))},{15:15,26:26,43:43,44:44,46:46,48:48,49:49,51:51,64:64,65:65,99:99}],48:[function(e,t,n){function r(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!=typeof e&&(e={}),e}function i(){if(u)return u;var t,n=e(52).devDependencies.leveldown;try{t=e(6).version}catch(e){throw o(e)}if(!e(6).satisfies(t,n))throw new c("Installed version of LevelDOWN ("+t+") does not match required version ("+n+")");try{return u=e(6)}catch(e){throw o(e)}}function o(e){var t="Failed to require LevelDOWN (%s). Try `npm install leveldown` if it's missing";return new c(l(t,e.message))}function s(e,t,n){"function"==typeof n?n(t):e.emit("error",t)}function a(e){return"undefined"!=typeof e}var u,c=(e(51),e(43).LevelUPError),l=e(99).format,d={createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0};t.exports={defaultOptions:d,getOptions:r,getLevelDOWN:i,dispatchError:s,isDefined:a}},{43:43,51:51,52:52,6:6,99:99}],49:[function(e,t,n){arguments[4][41][0].apply(n,arguments);
},{41:41,50:50}],50:[function(e,t,n){(function(e){function t(e){return e}function r(t){return void 0===t||null===t||e.isBuffer(t)}n.utf8=n["utf-8"]={encode:function(e){return r(e)?e:String(e)},decode:t,buffer:!1,type:"utf8"},n.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},n.binary={encode:function(t){return r(t)?t:new e(t)},decode:t,buffer:!0,type:"binary"},n.id={encode:function(e){return e},decode:function(e){return e},buffer:!1,type:"id"};var i=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];i.forEach(function(t){n[t]={encode:function(n){return r(n)?n:new e(n,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}})}).call(this,e(9).Buffer)},{9:9}],51:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],52:[function(e,t,n){t.exports={_args:[[{raw:"levelup@1.3.3",scope:null,escapedName:"levelup",name:"levelup",rawSpec:"1.3.3",spec:"1.3.3",type:"version"},"/Users/nolan/workspace/pouchdb"]],_from:"levelup@1.3.3",_id:"levelup@1.3.3",_inCache:!0,_location:"/levelup",_nodeVersion:"4.4.7",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/levelup-1.3.3.tgz_1476029541340_0.44339725002646446"},_npmUser:{name:"juliangruber",email:"julian@juliangruber.com"},_npmVersion:"2.15.8",_phantomChildren:{},_requested:{raw:"levelup@1.3.3",scope:null,escapedName:"levelup",name:"levelup",rawSpec:"1.3.3",spec:"1.3.3",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/levelup/-/levelup-1.3.3.tgz",_shasum:"bf9db62bdb6188d08eaaa2efcf6cc311916f41fd",_shrinkwrap:null,_spec:"levelup@1.3.3",_where:"/Users/nolan/workspace/pouchdb",browser:{leveldown:!1,"leveldown/package":!1,semver:!1},bugs:{url:"https://github.com/level/levelup/issues"},contributors:[{name:"Rod Vagg",email:"r@va.gg",url:"https://github.com/rvagg"},{name:"John Chesley",email:"john@chesl.es",url:"https://github.com/chesles/"},{name:"Jake Verbaten",email:"raynos2@gmail.com",url:"https://github.com/raynos"},{name:"Dominic Tarr",email:"dominic.tarr@gmail.com",url:"https://github.com/dominictarr"},{name:"Max Ogden",email:"max@maxogden.com",url:"https://github.com/maxogden"},{name:"Lars-Magnus Skog",email:"ralphtheninja@riseup.net",url:"https://github.com/ralphtheninja"},{name:"David Björklund",email:"david.bjorklund@gmail.com",url:"https://github.com/kesla"},{name:"Julian Gruber",email:"julian@juliangruber.com",url:"https://github.com/juliangruber"},{name:"Paolo Fragomeni",email:"paolo@async.ly",url:"https://github.com/0x00a"},{name:"Anton Whalley",email:"anton.whalley@nearform.com",url:"https://github.com/No9"},{name:"Matteo Collina",email:"matteo.collina@gmail.com",url:"https://github.com/mcollina"},{name:"Pedro Teixeira",email:"pedro.teixeira@gmail.com",url:"https://github.com/pgte"},{name:"James Halliday",email:"mail@substack.net",url:"https://github.com/substack"},{name:"Jarrett Cruger",email:"jcrugzz@gmail.com",url:"https://github.com/jcrugzz"}],dependencies:{"deferred-leveldown":"~1.2.1","level-codec":"~6.1.0","level-errors":"~1.0.3","level-iterator-stream":"~1.3.0",prr:"~1.0.1",semver:"~5.1.0",xtend:"~4.0.0"},description:"Fast & simple storage - a Node.js-style LevelDB wrapper",devDependencies:{async:"~1.5.0",bustermove:"~1.0.0",delayed:"~1.0.1",faucet:"~0.0.1",leveldown:"^1.1.0",memdown:"~1.1.0","msgpack-js":"~0.3.0",referee:"~1.2.0",rimraf:"~2.4.3","slow-stream":"0.0.4",tap:"~2.3.1",tape:"~4.2.1"},directories:{},dist:{shasum:"bf9db62bdb6188d08eaaa2efcf6cc311916f41fd",tarball:"https://registry.npmjs.org/levelup/-/levelup-1.3.3.tgz"},gitHead:"cced27dc9f0095823be5ed388ec601ec2bfe7366",homepage:"https://github.com/level/levelup",keywords:["leveldb","stream","database","db","store","storage","json"],license:"MIT",main:"lib/levelup.js",maintainers:[{name:"rvagg",email:"rod@vagg.org"},{name:"ralphtheninja",email:"ralphtheninja@riseup.net"},{name:"juliangruber",email:"julian@juliangruber.com"}],name:"levelup",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/level/levelup.git"},scripts:{test:"tape test/*-test.js | faucet"},version:"1.3.3"}},{}],53:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,s=c(i);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function d(e){var t=new this(r);return v.reject(t,e)}function f(e){function t(e,t){function r(e){s[t]=e,++a!==i||o||(o=!0,v.resolve(c,s))}n.resolve(e).then(r,function(e){o||(o=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(r);++u<i;)t(e[u],u);return c}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)t(e[s]);return a}var p=e(33),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===m?e:t;s(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=m,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},i.resolve=l,i.reject=d,i.all=f,i.race=h},{33:33}],54:[function(e,t,n){(function(n,r,i){"use strict";function o(e,t){d.call(this,e),this._reverse=!!t.reverse,this._endkey=t.end,this._startkey=t.start,this._gt=t.gt,this._gte=t.gte,this._lt=t.lt,this._lte=t.lte,this._exclusiveStart=t.exclusiveStart,this._keysOnly=t.values===!1,this._limit=t.limit,this._count=0,this.onInitCompleteListeners=[]}function s(e){return this instanceof s?(l.call(this,e),void(this.container=new f(e))):new s(e)}function a(e,t){if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if("key"===t){if(e instanceof Boolean)return new Error(t+" cannot be `null` or `undefined`");if(""===e)return new Error(t+" cannot be empty")}if(0===e.toString().indexOf("[object ArrayBuffer]")&&(0===e.byteLength||void 0===e.byteLength))return new Error(t+" cannot be an empty Buffer");if(n.isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")}var u=e(34),c=e(7),l=e(3).AbstractLevelDOWN,d=e(3).AbstractIterator,f=e(56).LocalStorage,h=e(55),p=e(58),v=i.setImmediate||r.nextTick;u(o,d),o.prototype._init=function(e){v(function(){e()})},o.prototype._next=function(e){function t(){if(n._pos===n._keys.length||n._pos<0)return e();var t=n._keys[n._pos];return n._endkey&&(n._reverse?t<n._endkey:t>n._endkey)?e():n._limit&&n._limit>0&&n._count++>=n._limit?e():n._lt&&t>=n._lt||n._lte&&t>n._lte||n._gt&&t<=n._gt||n._gte&&t<n._gte?e():(n._pos+=n._reverse?-1:1,n._keysOnly?e(null,t):void n.db.container.getItem(t,function(r,i){return r?"NotFound"===r.message?v(function(){n._next(e)}):e(r):void e(null,t,i)}))}var n=this;n.initStarted?n.initCompleted?r.nextTick(t):n.onInitCompleteListeners.push(t):r.nextTick(function(){n.initStarted=!0,n._init(function(r){return r?e(r):void n.db.container.keys(function(r,i){if(r)return e(r);if(n._keys=i,n._startkey){var o=p.sortedIndexOf(n._keys,n._startkey),s=o>=n._keys.length||o<0?void 0:n._keys[o];n._pos=o,n._reverse?(n._exclusiveStart||s!==n._startkey)&&n._pos--:n._exclusiveStart&&s===n._startkey&&n._pos++}else n._pos=n._reverse?n._keys.length-1:0;t(),n.initCompleted=!0;for(var a=-1;++a<n.onInitCompleteListeners.length;)v(n.onInitCompleteListeners[a])})})})},u(s,l),s.prototype._open=function(e,t){this.container.init(t)},s.prototype._put=function(e,t,r,i){var o=a(e,"key");if(o)return v(function(){i(o)});if(o=a(t,"value"))return v(function(){i(o)});if("object"==typeof t&&!n.isBuffer(t)&&void 0===t.buffer){var s={};s.storetype="json",s.data=t,t=JSON.stringify(s)}this.container.setItem(e,t,i)},s.prototype._get=function(e,t,r){var i=a(e,"key");return i?v(function(){r(i)}):(n.isBuffer(e)||(e=String(e)),void this.container.getItem(e,function(e,i){if(e)return r(e);if(t.asBuffer===!1||n.isBuffer(i)||(i=c(i)),t.asBuffer===!1&&i.indexOf('{"storetype":"json","data"')>-1){var o=JSON.parse(i);i=o.data}r(null,i)}))},s.prototype._del=function(e,t,r){var i=a(e,"key");return i?v(function(){r(i)}):(n.isBuffer(e)||(e=String(e)),void this.container.removeItem(e,r))},s.prototype._batch=function(e,t,r){var i=this;v(function(){function o(){++d===e.length&&r(l)}var s,u,c,l,d=0;if(Array.isArray(e)&&e.length)for(var f=0;f<e.length;f++){var h=e[f];h?(u=n.isBuffer(h.key)?h.key:String(h.key),s=a(u,"key"),s?(l=s,o()):"del"===h.type?i._del(h.key,t,o):"put"===h.type&&(c=n.isBuffer(h.value)?h.value:String(h.value),s=a(c,"value"),s?(l=s,o()):i._put(u,c,t,o))):o()}else r()})},s.prototype._iterator=function(e){return new o(this,e)},s.destroy=function(e,t){h.destroy(e,t)},t.exports=s}).call(this,{isBuffer:e(36)},e(64),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3,34:34,36:36,55:55,56:56,58:58,64:64,7:7}],55:[function(e,t,n){(function(n,r){"use strict";function i(e,t){var n,r;try{n=t()}catch(e){r=e}a(function(){e(r,n)})}function o(e){return e.replace(/!/g,"!!")+"!"}function s(e){this._prefix=o(e)}var a=r.setImmediate||n.nextTick,u=e(31);s.prototype.getKeys=function(e){var t=this;i(e,function(){for(var e=[],n=t._prefix.length,r=-1,i=u.length;++r<i;){var o=u.key(r);o.substring(0,n)===t._prefix&&e.push(o.substring(n))}return e.sort(),e})},s.prototype.put=function(e,t,n){var r=this;i(n,function(){u.setItem(r._prefix+e,t)})},s.prototype.get=function(e,t){var n=this;i(t,function(){return u.getItem(n._prefix+e)})},s.prototype.remove=function(e,t){var n=this;i(t,function(){u.removeItem(n._prefix+e)})},s.destroy=function(e,t){var n=o(e);i(t,function(){for(var e=[],t=-1,r=u.length;++t<r;){var i=u.key(t);i.substring(0,n.length)===n&&e.push(i)}e.forEach(function(e){u.removeItem(e)})})},t.exports=s}).call(this,e(64),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{31:31,64:64}],56:[function(e,t,n){(function(t){"use strict";function r(e){this._store=new d(e),this._queue=new f}var i="ArrayBuffer:",o=new RegExp("^"+i),s="Uint8Array:",a=new RegExp("^"+s),u="Buff:",c=new RegExp("^"+u),l=e(58),d=e(55),f=e(57),h=e(11);r.prototype.sequentialize=function(e,t){this._queue.add(t,e)},r.prototype.init=function(e){var t=this;t.sequentialize(e,function(e){t._store.getKeys(function(n,r){return n?e(n):(t._keys=r,e())})})},r.prototype.keys=function(e){var t=this;t.sequentialize(e,function(e){t._store.getKeys(function(t,n){e(null,n.slice())})})},r.prototype.setItem=function(e,n,r){var i=this;i.sequentialize(r,function(r){t.isBuffer(n)&&(n=u+h.encode(n));var o=l.sortedIndexOf(i._keys,e);i._keys[o]!==e&&i._keys.splice(o,0,e),i._store.put(e,n,r)})},r.prototype.getItem=function(e,t){var n=this;n.sequentialize(t,function(t){n._store.get(e,function(e,n){return e?t(e):"undefined"==typeof n||null===n?t(new Error("NotFound")):("undefined"!=typeof n&&(c.test(n)?n=h.decode(n.substring(u.length)):o.test(n)?(n=n.substring(i.length),n=new ArrayBuffer(atob(n).split("").map(function(e){return e.charCodeAt(0)}))):a.test(n)&&(n=n.substring(s.length),n=new Uint8Array(atob(n).split("").map(function(e){return e.charCodeAt(0)})))),void t(null,n))})})},r.prototype.removeItem=function(e,t){var n=this;n.sequentialize(t,function(t){var r=l.sortedIndexOf(n._keys,e);n._keys[r]===e?(n._keys.splice(r,1),n._store.remove(e,function(e){return e?t(e):void t()})):t()})},r.prototype.length=function(e){var t=this;t.sequentialize(e,function(e){e(null,t._keys.length)})},n.LocalStorage=r}).call(this,{isBuffer:e(36)})},{11:11,36:36,55:55,57:57,58:58}],57:[function(e,t,n){(function(n,r){"use strict";function i(){this.queue=new s,this.running=!1}var o=e(4),s=e(94),a=r.setImmediate||n.nextTick;i.prototype.add=function(e,t){this.queue.push({fun:e,callback:t}),this.processNext()},i.prototype.processNext=function(){var e=this;if(!e.running&&e.queue.length){e.running=!0;var t=e.queue.shift();a(function(){t.fun(o(function(n){t.callback.apply(null,n),e.running=!1,e.processNext()}))})}},t.exports=i}).call(this,e(64),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{4:4,64:64,94:94}],58:[function(e,t,n){"use strict";n.sortedIndexOf=function(e,t){for(var n,r=0,i=e.length;r<i;)n=r+i>>>1,e[n]<t?r=n+1:i=n;return r}},{}],59:[function(e,t,n){!function(e){var r={},i={};r.length=0,r.getItem=function(e){return i[e]||null},r.setItem=function(e,t){"undefined"==typeof t?r.removeItem(e):(i.hasOwnProperty(e)||r.length++,i[e]=""+t)},r.removeItem=function(e){i.hasOwnProperty(e)&&(delete i[e],r.length--)},r.key=function(e){return Object.keys(i)[e]||null},r.clear=function(){i={},r.length=0},"object"==typeof n?t.exports=r:e.localStorageMemory=r}(this)},{}],60:[function(e,t,n){function r(e){return null===e}t.exports=r},{}],61:[function(e,t,n){(function(e){function t(e,t){return Object.hasOwnProperty.call(e,t)}function r(e){return void 0!==e&&""!==e}function t(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}function o(e){return e}n.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t[i]-n[i];if(o)return o}return t.length-n.length}return t<n?-1:t>n?1:0};var s=n.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||void 0},a=n.lowerBound=function(e){var t=s(e);return t&&e[t]};n.lowerBoundInclusive=function(e){return!t(e,"gt")},n.upperBoundInclusive=function(e){return!(t(e,"lt")||!e.minEx)};var u=n.lowerBoundExclusive=function(e){return!(!t(e,"gt")&&!e.minEx)},c=n.upperBoundExclusive=function(e){return!!t(e,"lt")},l=n.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||void 0},d=n.upperBound=function(e){var t=l(e);return t&&e[t]};n.toLtgt=function(e,r,i,s,a){r=r||{},i=i||o;var u=arguments.length>3,c=n.lowerBoundKey(e),l=n.upperBoundKey(e);return c?"gt"===c?r.gt=i(e.gt,!1):r.gte=i(e[c],!1):u&&(r.gte=i(s,!1)),l?"lt"===l?r.lt=i(e.lt,!0):r.lte=i(e[l],!0):u&&(r.lte=i(a,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),t(r,"max")&&delete r.max,t(r,"min")&&delete r.min,t(r,"start")&&delete r.start,t(r,"end")&&delete r.end,r},n.contains=function(e,t,i){i=i||n.compare;var o=a(e);if(r(o)){var s=i(t,o);if(s<0||0===s&&u(e))return!1}var l=d(e);if(r(l)){var s=i(t,l);if(s>0||0===s&&c(e))return!1}return!0},n.filter=function(e,t){return function(r){return n.contains(e,r,t)}}}).call(this,{isBuffer:e(36)})},{36:36}],62:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return s(e,l,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,d=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isNaN(e)===!1)return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],63:[function(e,t,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(this,e(64))},{64:64}],64:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?v=p.concat(v):m=-1,v.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=v.length;t;){for(p=v,v=[];++m<t;)p&&p[m].run();m=-1,t=v.length}p=null,g=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var d,f,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var p,v=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],65:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{25:25}],66:[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e(10);a.inherits=e(34);var u=e(68),c=e(70);a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e(64))},{10:10,34:34,64:64,68:68,70:70}],67:[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e(69),o=e(10);o.inherits=e(34),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{10:10,34:34,69:69}],68:[function(e,t,n){(function(n){function r(t,n){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(O||(O=e(86).StringDecoder),this.decoder=new O(t.encoding),this.encoding=t.encoding)}function i(e){return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void E.call(this)):new i(e)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&d(e),h(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=A)e=A;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return k.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?d(e):w(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick(function(){f(e)}):f(e))}function f(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&g(e)}}function g(e){function t(e,t,i){var o=e.write(n);!1===o&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):_(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(C.listenerCount(e,"data")>0&&y(e))):void(r.ranOut=!0)}function m(){this._readableState.ranOut&&(this._readableState.ranOut=!1,g(this))}function y(e,t){var r=e._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var i=t||!1,o=!1;e.readable=!0,e.pipe=E.prototype.pipe,e.on=e.addListener=E.prototype.on,e.on("readable",function(){o=!0;for(var t;!i&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){i=!0,this.emit("pause")},e.resume=function(){i=!1,o?n.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function b(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):k.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new k(e);for(var u=0,c=0,l=r.length;c<l&&u<e;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=i;var S=e(71),k=e(9).Buffer;i.ReadableState=r;var C=e(26).EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var E=e(74),T=e(10);T.inherits=e(34);var O;T.inherits(i,E),i.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new k(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){O||(O=e(86).StringDecoder),this._readableState.decoder=new O(t),this._readableState.encoding=t};var A=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d(this),null;if(e=u(e,t),0===e&&t.ended)return n=null,t.length>0&&t.decoder&&(n=b(e,t),t.length-=n.length),0===t.length&&w(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=u(r,t)),n=e>0?b(e,t):null,null===n&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&w(this),n},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){e===l&&o()}function i(){e.end()}function o(){e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("drain",p),e.removeListener("error",s),e.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),e._writableState&&!e._writableState.needDrain||p()}function s(t){c(),e.removeListener("error",s),0===C.listenerCount(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",u),c()}function u(){e.removeListener("close",a),c()}function c(){l.unpipe(e)}var l=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1;var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,h=f?i:o;d.endEmitted?n.nextTick(h):l.once("end",h),e.on("unpipe",r);var p=v(l);return e.on("drain",p),e._events&&e._events.error?S(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",a),e.once("finish",u),e.emit("pipe",l),d.flowing||(this.on("readable",m),d.flowing=!0,n.nextTick(function(){g(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",m),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",m),t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=E.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||y(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){y(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},i._fromList=b}).call(this,e(64))},{10:10,26:26,34:34,64:64,71:71,74:74,86:86,9:9}],69:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e);var t=(this._transformState=new r(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e(66),u=e(10);u.inherits=e(34),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{10:10,34:34,66:66}],70:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=e.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var n=e(66);return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void x.call(this)):new o(t);
}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!w.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new w(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),w.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing?t.buffer.push(new r(n,i,o)):l(e,t,s,n,i,o),a}function l(e,t,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1}function d(e,t,r,i,o){r?n.nextTick(function(){o(i)}):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(f(r),t)d(e,r,i,t,o);else{var s=m(e,r);s||r.bufferProcessing||!r.buffer.length||g(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||v(e,t),r(),n&&y(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,o=r.encoding,s=r.callback,a=t.objectMode?1:i.length;if(l(e,t,a,i,o,s),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function m(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){var n=m(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function b(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var w=e(9).Buffer;o.WritableState=i;var _=e(10);_.inherits=e(34);var x=e(74);_.inherits(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),w.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(i=c(this,r,e,t,n)),i},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),r.ending||r.finished||b(this,r,n)}}).call(this,e(64))},{10:10,34:34,64:64,66:66,74:74,9:9}],71:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],72:[function(e,t,n){var r=e(74);n=t.exports=e(68),n.Stream=r,n.Readable=n,n.Writable=e(70),n.Duplex=e(66),n.Transform=e(69),n.PassThrough=e(67)},{66:66,67:67,68:68,69:69,70:70,74:74}],73:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(e){r=self}r.SparkMD5=e()}}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n+=(r&i|~r&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[2]+606105819|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[6]-1473231341|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[10]-42063|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+t[13]-40341101|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+t[14]-1502002290|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&o|i&~o)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[11]+643717713|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[15]-660478335|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[3]-187363961|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+t[7]+1735328473|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^o)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[11]+1839030562|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[7]-155497632|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[3]-722521979|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+t[12]-421815835|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+t[15]+530742520|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var r,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)o[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(t(l,o),r=0;r<16;r+=1)o[r]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,t(l,o),l}function o(e){var n,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)o[n>>2]|=e[n]<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(l,o),n=0;n<16;n+=1)o[n]=0;return s=8*c,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,t(l,o),l}function s(e){var t,n="";for(t=0;t<4;t+=1)n+=v[e>>8*t+4&15]+v[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function f(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=function(e,t){return e+t&4294967295},v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(i("hello"))&&(p=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,u=this.byteLength,c=t(n,u),l=u;return r!==e&&(l=t(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,c,i),s.set(a),o)}}(),h.prototype.append=function(e){return this.appendBinary(u(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,i=this._buff.length;for(r=64;r<=i;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=f(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,i,o,s=n;if(e[s>>2]|=128<<(s%4<<3),s>55)for(t(this._hash,e),s=0;s<16;s+=1)e[s]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(u(e),t)},h.hashBinary=function(e,t){var n=i(e),r=a(n);return t?f(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,i=d(this._buff.buffer,e,!0),o=i.length;for(this._length+=e.byteLength,n=64;n<=o;n+=64)t(this._hash,r(i.subarray(n-64,n)));return this._buff=n-64<o?new Uint8Array(i.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=f(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=o(new Uint8Array(e)),r=a(n);return t?f(r):r},h})},{}],74:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e(26).EventEmitter,o=e(34);o(r,i),r.Readable=e(83),r.Writable=e(85),r.Duplex=e(75),r.Transform=e(84),r.PassThrough=e(82),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),e.on("error",a),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{26:26,34:34,75:75,82:82,83:83,84:84,85:85}],75:[function(e,t,n){t.exports=e(76)},{76:76}],76:[function(e,t,n){"use strict";function r(e){return this instanceof r?(c.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var a=e(63),u=e(10);u.inherits=e(34);var c=e(78),l=e(80);u.inherits(r,c);for(var d=s(l.prototype),f=0;f<d.length;f++){var h=d[f];r.prototype[h]||(r.prototype[h]=l.prototype[h])}},{10:10,34:34,63:63,78:78,80:80}],77:[function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e(79),o=e(10);o.inherits=e(34),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{10:10,34:34,79:79}],78:[function(e,t,n){(function(n){"use strict";function r(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function i(t,n){A=A||e(76),t=t||{},this.objectMode=!!t.objectMode,n instanceof A&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(q||(q=e(86).StringDecoder),this.decoder=new q(t.encoding),this.encoding=t.encoding)}function o(t){return A=A||e(76),this instanceof o?(this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void j.call(this)):new o(t)}function s(e,t,n,r,i){var o=l(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,d(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var u=new Error("stream.unshift() after end event");e.emit("error",u)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&f(e))),p(e,t)}else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function u(e){return e>=H?e=H:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function c(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=u(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e,t){var n=null;return P.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,f(e)}}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?D(h,e):h(e))}function h(e){N("emit readable"),e.emit("readable"),w(e)}function p(e,t){t.readingMore||(t.readingMore=!0,D(v,e,t))}function v(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,w(e))}}function m(e){N("readable nexttick read 0"),e.read(0)}function y(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D(b,e,t))}function b(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;for(N("flow",t.flowing);t.flowing&&null!==e.read(););}function _(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=x(e,t.buffer,t.decoder),n}function x(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?S(e,t):k(e,t),r}function S(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(i+=s===o.length?o:o.slice(0,e),e-=s,0===e){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function k(e,t){var n=I.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),e-=s,0===e){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,D(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function T(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=o;var A,D=e(63),R=e(40);o.ReadableState=i;var j,M=(e(26).EventEmitter,function(e,t){return e.listeners(t).length});!function(){try{j=e("stream")}catch(e){}finally{j||(j=e(26).EventEmitter)}}();var P=e(9).Buffer,I=e(8),L=e(10);L.inherits=e(34);var F=e(6),N=void 0;N=F&&F.debuglog?F.debuglog("stream"):function(){};var q,B=e(81);L.inherits(o,j),o.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=I.from(e,t),t="")),s(this,n,e,t,!1)},o.prototype.unshift=function(e){var t=this._readableState;return s(this,t,e,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(t){return q||(q=e(86).StringDecoder),this._readableState.decoder=new q(t),this._readableState.encoding=t,this};var H=8388608;o.prototype.read=function(e){N("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):f(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&C(this),null;var r=t.needReadable;N("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,N("length less than watermark",r)),t.ended||t.reading?(r=!1,N("reading or ended",r)):r&&(N("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c(n,t)));var i;return i=e>0?_(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&C(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function i(e){N("onunpipe"),e===f&&s()}function o(){N("onend"),e.end()}function s(){N("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",m),e.removeListener("error",u),e.removeListener("unpipe",i),f.removeListener("end",o),f.removeListener("end",s),f.removeListener("data",a),y=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function a(t){N("ondata"),b=!1;var n=e.write(t);!1!==n||b||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&O(h.pipes,e)!==-1)&&!y&&(N("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,b=!0),f.pause())}function u(t){N("onerror",t),d(),e.removeListener("error",u),0===M(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),d()}function l(){N("onfinish"),e.removeListener("close",c),d()}function d(){N("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,N("pipe count=%d opts=%j",h.pipesCount,t);var p=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,v=p?o:s;h.endEmitted?D(v):f.once("end",v),e.on("unpipe",i);var m=g(f);e.on("drain",m);var y=!1,b=!1;return f.on("data",a),r(e,"error",u),e.once("close",c),e.once("finish",l),e.emit("pipe",f),h.flowing||(N("pipe resume"),f.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=O(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=j.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&f(this,r):D(m,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,y(this,e)),this},o.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(N("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(N("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return T(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){N("wrapped _read",t),n&&(n=!1,e.resume())},r},o._fromList=_}).call(this,e(64))},{10:10,26:26,34:34,40:40,6:6,63:63,64:64,76:76,8:8,81:81,86:86,9:9}],79:[function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e(76),u=e(10);u.inherits=e(34),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{10:10,34:34,76:76}],80:[function(e,t,n){(function(n){"use strict";function r(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(t,n){S=S||e(76),t=t||{},this.objectMode=!!t.objectMode,n instanceof S&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}function s(t){return S=S||e(76),R.call(s,this)||this instanceof S?(this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void T.call(this)):new s(t)}function a(e,t){var n=new Error("write after end");e.emit("error",n),k(t,n)}function u(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):A.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),k(r,o),i=!1),i}function c(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=D.from(t,n)),t}function l(e,t,n,r,o){n=c(t,n,r),A.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,s,n,r,o);return a}function d(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function f(e,t,n,r,i){--t.pendingcb,n?k(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(h(n),t)f(e,n,r,t,i);else{var o=y(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||m(e,n),r?C(v,e,n,o,i):v(e,n,o,i)}}function v(e,t,n,r){n||g(e,t),t.pendingcb--,r(),w(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new x(t)}else{for(;n;){var a=n.chunk,u=n.encoding,c=n.callback,l=t.objectMode?1:a.length;if(d(e,t,!1,l,a,u,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function w(e,t){var n=y(t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function _(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?k(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function x(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=s;var S,k=e(63),C=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:k;s.WritableState=o;var E=e(10);E.inherits=e(34);var T,O={deprecate:e(96)};!function(){try{T=e("stream")}catch(e){}finally{T||(T=e(26).EventEmitter)}}();var A=e(9).Buffer,D=e(8);E.inherits(s,T),o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var R;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!R.call(this,e)||e&&e._writableState instanceof o}})):R=function(e){return e instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(e,t,n){var i=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),A.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?a(this,n):u(this,i,e,n)&&(i.pendingcb++,o=l(this,i,e,t,n)),o},s.prototype.cork=function(){var e=this._writableState;e.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||m(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},s.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)}}).call(this,e(64))},{10:10,26:26,34:34,63:63,64:64,76:76,8:8,9:9,96:96}],81:[function(e,t,n){"use strict";function r(){this.head=null,this.tail=null,this.length=0}var i=(e(9).Buffer,e(8));t.exports=r,r.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},r.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),
r+=n.data.length,n=n.next;return t}},{8:8,9:9}],82:[function(e,t,n){t.exports=e(77)},{77:77}],83:[function(e,t,n){(function(r){var i=function(){try{return e("stream")}catch(e){}}();n=t.exports=e(78),n.Stream=i||n,n.Readable=n,n.Writable=e(80),n.Duplex=e(76),n.Transform=e(79),n.PassThrough=e(77),!r.browser&&"disable"===r.env.READABLE_STREAM&&i&&(t.exports=i)}).call(this,e(64))},{64:64,76:76,77:77,78:78,79:79,80:80}],84:[function(e,t,n){t.exports=e(79)},{79:79}],85:[function(e,t,n){t.exports=e(80)},{80:80}],86:[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e(9).Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{9:9}],87:[function(e,t,n){arguments[4][76][0].apply(n,arguments)},{10:10,34:34,63:63,76:76,88:88,90:90}],88:[function(e,t,n){(function(n){"use strict";function r(t,n){P=P||e(87),t=t||{},this.objectMode=!!t.objectMode,n instanceof P&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(M||(M=e(86).StringDecoder),this.decoder=new M(t.encoding),this.encoding=t.encoding)}function i(t){return P=P||e(87),this instanceof i?(this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void O.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var u;!t.decoder||i||r||(n=t.decoder.write(n),u=!t.objectMode&&0===n.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e))),h(e,t)}else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return T.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(j("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?C(f,e):f(e))}function f(e){j("emit readable"),e.emit("readable"),b(e)}function h(e,t){t.readingMore||(t.readingMore=!0,C(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(j("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;j("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&A(e,"data")&&(t.flowing=!0,b(e))}}function g(e){j("readable nexttick read 0"),e.read(0)}function m(e,t){t.resumeScheduled||(t.resumeScheduled=!0,C(y,e,t))}function y(e,t){t.reading||(j("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(j("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function w(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):1===r.length?r[0]:T.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new T(e);for(var u=0,c=0,l=r.length;c<l&&u<e;c++){var a=r[0],d=Math.min(e-u,a.length);o?n+=a.slice(0,d):a.copy(n,u,0,d),d<a.length?r[0]=a.slice(d):r.shift(),u+=d}}return n}function _(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,C(x,t,e))}function x(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function S(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function k(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=i;var C=e(63),E=e(40),T=e(9).Buffer;i.ReadableState=r;var O,A=(e(26),function(e,t){return e.listeners(t).length});!function(){try{O=e("stream")}catch(e){}finally{O||(O=e(26).EventEmitter)}}();var T=e(9).Buffer,D=e(10);D.inherits=e(34);var R=e(6),j=void 0;j=R&&R.debuglog?R.debuglog("stream"):function(){};var M;D.inherits(i,O);var P,P;i.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new T(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(t){return M||(M=e(86).StringDecoder),this._readableState.decoder=new M(t),this._readableState.encoding=t,this};var I=8388608;i.prototype.read=function(e){j("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return j("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?_(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&_(this),null;var r=t.needReadable;j("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,j("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,j("reading or ended",r)),r&&(j("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?w(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&_(this),null!==i&&this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){j("onunpipe"),e===d&&o()}function i(){j("onend"),e.end()}function o(){j("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",a),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",s),m=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){j("ondata");var n=e.write(t);!1===n&&(1!==f.pipesCount||f.pipes[0]!==e||1!==d.listenerCount("data")||m||(j("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function a(t){j("onerror",t),l(),e.removeListener("error",a),0===A(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){j("onfinish"),e.removeListener("close",u),l()}function l(){j("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,j("pipe count=%d opts=%j",f.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:o;f.endEmitted?C(p):d.once("end",p),e.on("unpipe",r);var g=v(d);e.on("drain",g);var m=!1;return d.on("data",s),e._events&&e._events.error?E(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",d),f.flowing||(j("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=k(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=O.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this,r):C(g,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(j("resume"),e.flowing=!0,m(this,e)),this},i.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(j("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(j("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return S(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){j("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=w}).call(this,e(64))},{10:10,26:26,34:34,40:40,6:6,63:63,64:64,86:86,87:87,9:9}],89:[function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e(87),u=e(10);u.inherits=e(34),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{10:10,34:34,87:87}],90:[function(e,t,n){(function(n){"use strict";function r(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(t,n){A=A||e(87),t=t||{},this.objectMode=!!t.objectMode,n instanceof A&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this),this.corkedRequestsFree.next=new x(this)}function s(t){return A=A||e(87),this instanceof s||this instanceof A?(this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void T.call(this)):new s(t)}function a(e,t){var n=new Error("write after end");e.emit("error",n),S(t,n)}function u(e,t,n,r){var i=!0;if(!C.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),S(r,o),i=!1}return i}function c(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new C(t,n)),t}function l(e,t,n,r,o){n=c(t,n,r),C.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,s,n,r,o);return a}function d(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function f(e,t,n,r,i){--t.pendingcb,n?S(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(h(n),t)f(e,n,r,t,i);else{var o=y(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||m(e,n),r?k(v,e,n,o,i):v(e,n,o,i)}}function v(e,t,n,r){n||g(e,t),t.pendingcb--,r(),w(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var a=n.chunk,u=n.encoding,c=n.callback,l=t.objectMode?1:a.length;if(d(e,t,!1,l,a,u,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function w(e,t){var n=y(t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function _(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?S(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function x(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=s;var S=e(63),k=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:S,C=e(9).Buffer;s.WritableState=o;var E=e(10);E.inherits=e(34);var T,O={deprecate:e(96)};!function(){try{T=e("stream")}catch(e){}finally{T||(T=e(26).EventEmitter)}}();var C=e(9).Buffer;E.inherits(s,T);var A;o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var A;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,n){var i=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),C.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?a(this,n):u(this,i,e,n)&&(i.pendingcb++,o=l(this,i,e,t,n)),o},s.prototype.cork=function(){var e=this._writableState;e.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||m(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(e,t,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)}}).call(this,e(64))},{10:10,26:26,34:34,63:63,64:64,87:87,9:9,96:96}],91:[function(e,t,n){arguments[4][84][0].apply(n,arguments)},{84:84,89:89}],92:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],93:[function(e,t,n){(function(n){function r(e){s.call(this,e),this._destroyed=!1}function i(e,t,n){n(null,e)}function o(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=i),"function"!=typeof r&&(r=null),e(t,n,r)}}var s=e(91),a=e(99).inherits,u=e(92);a(r,s),r.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick(function(){e&&t.emit("error",e),t.emit("close")})}},t.exports=o(function(e,t,n){var i=new r(e);return i._transform=t,n&&(i._flush=n),i}),t.exports.ctor=o(function(e,t,n){function i(t){return this instanceof i?(this.options=u(e,t),void r.call(this,this.options)):new i(t)}return a(i,r),i.prototype._transform=t,n&&(i.prototype._flush=n),i}),t.exports.obj=o(function(e,t,n){var i=new r(u({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i})}).call(this,e(64))},{64:64,91:91,92:92,99:99}],94:[function(e,t,n){"use strict";function r(){this.length=0}r.prototype.push=function(e){var t={item:e};this.last?this.last=this.last.next=t:this.last=this.first=t,this.length++},r.prototype.shift=function(){var e=this.first;if(e)return this.first=e.next,--this.length||(this.last=void 0),e.item},r.prototype.slice=function(e,t){e="undefined"==typeof e?0:e,t="undefined"==typeof t?1/0:t;for(var n=[],r=0,i=this.first;i&&!(--t<0);i=i.next)++r>e&&n.push(i.item);return n},t.exports=r},{}],95:[function(e,t,n){!function(){"use strict";var n=Object.prototype.toString,r=e(60),i=e(100),o="[object Null]",s="[object Undefined]";t.exports=function(e){return r(e)?o:i(e)?s:n.call(e)}}()},{100:100,60:60}],96:[function(e,t,n){(function(e){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],97:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{34:34}],98:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],99:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(t)?r.showHidden=t:t&&n._extend(r,t),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),v=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),C(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(E(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return l(t)}var m="",y=!1,w=["{","}"];if(p(t)&&(y=!0,w=["[","]"]),E(t)){var _=t.name?": "+t.name:"";m=" [Function"+_+"]"}if(x(t)&&(m=" "+RegExp.prototype.toString.call(t)),k(t)&&(m=" "+Date.prototype.toUTCString.call(t)),C(t)&&(m=" "+l(t)),0===s.length&&(!y||0==t.length))return w[0]+m+w[1];if(r<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=y?d(e,t,r,v,s):s.map(function(n){return f(e,t,r,v,n,y)}),e.seen.pop(),h(S,m,w)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)R(t,String(s))?o.push(f(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}function f(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=g(n)?u(e,c.value,null):u(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return S(e)&&"[object RegExp]"===O(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===O(e)}function C(e){return S(e)&&("[object Error]"===O(e)||e instanceof Error)}function E(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function O(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function D(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var j=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(j,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])s+=g(a)||!S(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var M,P={};n.debuglog=function(e){if(_(M)&&(M=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(M)){var r=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else P[e]=function(){};return P[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=v,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=_,n.isRegExp=x,n.isObject=S,n.isDate=k,n.isError=C,n.isFunction=E,n.isPrimitive=T,n.isBuffer=e(98);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",D(),n.format.apply(n,arguments))},n.inherits=e(97),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e(64),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{64:64,97:97,98:98}],100:[function(e,t,n){"use strict";function r(e){return void 0===e}t.exports=r},{}],101:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var s=t.pop();i[s]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,s,a,u,c,l,d,f,h="";n=t.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",h+=i,o)h+=o;else if("object"!=typeof r)h+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),s=u.length-1;s>=0;s--)l=u[s],d=r[l],f=s>0?",":"",f+=JSON.stringify(l)+":",t.push({obj:d,prefix:f});t.push({val:"{"})}return h},n.parse=function(e){for(var t,n,i,o,s,a,u,c,l,d=[],f=[],h=0;;)if(t=e[h++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,d,f);break;case"t":h+=3,r(!0,d,f);break;case"f":h+=4,r(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}n+=i}r(parseFloat(n),d,f);break;case'"':for(o="",s=void 0,a=0;;){if(u=e[h++],'"'===u&&("\\"!==s||a%2!==1))break;o+=u,s=u,"\\"===s?a++:a=0}r(JSON.parse('"'+o+'"'),d,f);break;case"[":c={element:[],index:d.length},d.push(c.element),f.push(c);break;case"{":l={element:{},index:d.length},d.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,f)}}},{}],102:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}t.exports=r},{}],103:[function(e,t,n){(function(t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function r(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function o(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function s(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Qe.call(n)==Xe}function a(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=a(e[n]);return t}if(e instanceof Date)return e.toISOString();if(r(e))return o(e);if(!s(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var u=a(e[n]);"undefined"!=typeof u&&(t[n]=u)}return t}function u(e){return"$"+e}function c(e){return e.substring(1)}function l(){this._store={}}function d(e){if(this._store=new l,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function f(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}function h(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function p(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local;
}function v(){return et}function g(e){p()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):v()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function m(){Ie.EventEmitter.call(this),this._listeners={},g(this)}function y(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function b(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function w(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=b.prototype,new n(t)}function _(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return w(ft,r)}}function x(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&_(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function S(){}function k(e){var t;if(e?"string"!=typeof e?t=w(st):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=w(ut)):t=w(at),t)throw t}function C(e){return 0|Math.random()*e}function E(e,t){t=t||mt.length;var n="",r=-1;if(e){for(;++r<e;)n+=mt[C(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=mt[3&C(16)|8];break;default:n+=mt[C(16)]}return n}function T(e){return"function"==typeof e}function O(e){return T(e.prefix)?e.prefix():e}function A(e){var t={};for(var n in e)t[n]=e[n];return t}function D(e,t,n){function r(e,r,i,o){return t.encode([e,n.encodeKey(r,i,o)])}function i(e,t){return t&&t.options&&(e.keyEncoding=e.keyEncoding||t.options.keyEncoding,e.valueEncoding=e.valueEncoding||t.options.valueEncoding),e}return e.open(function(){}),{apply:function(t,o,s){o=o||{};for(var a=[],u=-1,c=t.length;++u<c;){var l=t[u];i(l,l.prefix),l.prefix=O(l.prefix),a.push({key:r(l.prefix,l.key,o,l),value:"del"!==l.type&&n.encodeValue(l.value,o,l),type:l.type})}e.db.batch(a,o,s)},get:function(t,i,o,s){return o.asBuffer=n.valueAsBuffer(o),e.db.get(r(i,t,o),o,function(e,t){e?s(e):s(null,n.decodeValue(t,o))})},createDecoder:function(e){return function(r,i){return{key:n.decodeKey(t.decode(r)[1],e),value:n.decodeValue(i,e)}}},isClosed:function(){return e.isClosed()},close:function(t){return e.close(t)},iterator:function(i){function o(e){return r(u,e,a,{})}function s(e){return{next:function(t){return e.next(t)},end:function(t){e.end(t)}}}var a=A(i||{}),u=i.prefix||[];return Be.toLtgt(i,a,o,t.lowerBound,t.upperBound),a.prefix=null,a.keyAsBuffer=a.valueAsBuffer=!1,"number"!=typeof a.limit&&(a.limit=-1),a.keyAsBuffer=t.buffer,a.valueAsBuffer=n.valueAsBuffer(a),s(e.db.iterator(a))}}}function R(){Error.call(this)}function j(e,t){return this instanceof j?(xt.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._waiting=!1,this._options=e,void(this._makeData=t)):new j(e,t)}function M(e){return _t(D(e,St,kt),[],j,e.options)}function P(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function I(e){if(!/^\d+\-./.test(e))return w(ht);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function L(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function F(e,t){var n,r,i,o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=E()),r=E(32,16).toLowerCase(),e._rev){if(i=I(e._rev),i.error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(e._revisions&&(e._rev_tree=L(e._revisions,o),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(i=I(e._rev),i.error)return i;n=i.prefix,r=i.id,e._rev_tree=[{pos:n,ids:[r,o,[]]}]}k(e._id),e._rev=n+"-"+r;var s={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u="_"===a[0];if(u&&!Ct[a]){var c=w(dt,a);throw c.message=dt.message+": "+a,c}u&&!Et[a]?s.metadata[a.slice(1)]=e[a]:s.data[a]=e[a]}return s}function N(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],u=i.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});else{var d=!!s[1].deleted,f=s[0];t&&!(r!==d?r:n!==u?n<u:t<f)||(t=f,n=u,r=d)}}return n+"-"+t}function q(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=t(0===s.length,i,o[0],n.ctx,o[1]),u=0,c=s.length;u<c;u++)r.push({pos:i+1,ids:s[u],ctx:a})}function B(e,t){return e.pos-t.pos}function H(e){var t=[];q(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(B).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function V(e){for(var t=N(e),n=H(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev===t||s.opts.deleted||r.push(s.rev)}return r}function z(e){var t=[];return q(e.rev_tree,function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")}),t}function U(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:i+1-l.length,ids:l});for(var d=0,f=u.length;d<f;d++)r.push({pos:i+1,ids:u[d],history:l})}return n.reverse()}function W(e,t){return e.pos-t.pos}function Y(e,t,n){for(var r,i=0,o=e.length;i<o;)r=i+o>>>1,n(e[r],t)<0?i=r+1:o=r;return i}function $(e,t,n){var r=Y(e,t,n);e.splice(r,0,t)}function G(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function K(e,t){return e[0]<t[0]?-1:1}function Q(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===s[2][a][0]&&(n.push({tree1:o[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",$(o[2],s[2][a],K))}else r="new_leaf",o[2][0]=s[2][a]}return{conflicts:r,tree:e}}function X(e,t,n){var r,i=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,u=e.length;a<u;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=Q(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,s=!0;else if(n!==!0){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,f=d.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var g=v.ids[2],m=0,y=g.length;m<y;m++)p.push({ids:g[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===d.ids[0]&&h.push(v)}var b=h[0];b?(r=Q(b.ids,d.ids),b.parent[2][b.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(t),i.sort(W),{tree:i,conflicts:o||"internal_node"}}function J(e,t){for(var n,r,i=U(e),o=0,s=i.length;o<s;o++){var a,u=i[o],c=u.ids;if(c.length>t){n||(n={});var l=c.length-t;a={pos:u.pos+l,ids:G(c,l)};for(var d=0;d<l;d++){var f=u.pos+d+"-"+c[d].id;n[f]=!0}}else a={pos:u.pos,ids:G(c,0)};r=r?X(r,a,!0).tree:[a]}return n&&q(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function Z(e,t,n){var r=X(e,t),i=J(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function ee(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)r.push({pos:n.pos+1,ids:a[u]})}return!1}function te(e){return e.ids}function ne(e,t){t||(t=N(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(te);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function re(e){return/^_local/.test(e)}function ie(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:i,opts:a}),c)for(var d=0,f=l.length;d<f;d++){var h=l[d],p=h.pos+"-"+h.id;if(p===e)return i+"-"+s}for(var v=0,g=u.length;v<g;v++)r.push({pos:i+1,ids:u[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function oe(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function se(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function ae(e,t){return oe([se(e)],{type:t})}function ue(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function ce(e,t){if("undefined"==typeof FileReader)return t(ue((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(ue(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function le(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function de(e){return Ot(e)}function fe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function he(e,t,n,r,i){(n>0||r<t.size)&&(t=fe(t,n,r)),le(t,function(t){e.append(t),i()})}function pe(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function ve(e,t){function n(){At(i)}function r(){var e=l.end(!0),n=de(e);t(n),l.destroy()}function i(){var t=c*a,i=t+a;c++,c<u?d(l,e,t,i,n):d(l,e,t,i,r)}var o="string"==typeof e,s=o?e.length:e.size,a=Math.min(Dt,s),u=Math.ceil(s/a),c=0,l=o?new Ye:new Ye.ArrayBuffer,d=o?pe:he;i()}function ge(e,t,n,r,i,o,s,a){if(ee(t.rev_tree,n.metadata.rev))return r[i]=n,o();var u=t.winningRev||N(t),c="deleted"in t?t.deleted:ne(t,u),l="deleted"in n.metadata?n.metadata.deleted:ne(n.metadata),d=/^1-/.test(n.metadata.rev);if(c&&!l&&a&&d){var f=n.data;f._rev=u,f._id=n.metadata.id,n=F(f,a)}var h=Z(t.rev_tree,n.metadata.rev_tree[0],e),p=a&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts);if(p){var v=w(ot);return r[i]=v,o()}var g=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m,y=N(n.metadata),b=ne(n.metadata,y),_=c===b?0:c<b?-1:1;m=g===y?b:ne(n.metadata,g),s(n,y,b,m,!0,_,i,o)}function me(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function ye(e,t,n,r,i,o,s,a,u){function c(e,t,n){var r=N(e.metadata),i=ne(e.metadata,r);if("was_delete"in a&&i)return o[t]=w(it,"deleted"),n();var u=d&&me(e);if(u){var c=w(ot);return o[t]=c,n()}var l=i?0:1;s(e,r,i,i,!1,l,t,n)}function l(){++h===p&&u&&u()}e=e||1e3;var d=a.new_edits,f=new Ze,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&re(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:i},function(e,n){o[t]=e||n,l()})}var s=e.metadata.id;f.has(s)?(p--,f.get(s).push([e,t])):f.set(s,[[e,t]])}),f.forEach(function(t,n){function i(){++u<t.length?a():l()}function a(){var a=t[u],l=a[0],f=a[1];if(r.has(n))ge(e,r.get(n),l,o,f,i,s,d);else{var h=Z([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,f,i)}}var u=0;a()})}function be(e){try{return JSON.parse(e)}catch(t){return $e.parse(e)}}function we(e){try{return JSON.stringify(e)}catch(t){return $e.stringify(e)}}function _e(e,t){var n=new Uint8Array(e);return oe([n],{type:t})}function xe(e,t){ce(e,t)}function Se(e){return oe([""],{type:e})}function ke(e,t){var n=t.prefix()[0],r=e._cache,i=r.get(n);return i||(i=new Ze,r.set(n,i)),i}function Ce(){this._batch=[],this._cache=new Ze}function Ee(e){return"winningRev"in e?e.winningRev:N(e)}function Te(e,t){return"deleted"in e?e.deleted:ne(e,t)}function Oe(e,t,n){var r=e.content_type;return new Ke(function(i,o){t.binaryStore.get(e.digest,function(t,s){var a;if(t){if("NotFoundError"!==t.name)return o(t);a=n.binary?ae("",r):""}else a=n.binary?_e(s,r):s.toString("base64");delete e.stub,delete e.length,e.data=a,i()})})}function Ae(e,t,n){var r=[];return e.forEach(function(e){if(e.doc&&e.doc._attachments){var t=Object.keys(e.doc._attachments);t.forEach(function(t){var n=e.doc._attachments[t];"data"in n||r.push(n)})}}),Ke.all(r.map(function(e){return Oe(e,t,n)}))}function De(e,t){function n(){y.docStore=g.sublevel(Rt,{valueEncoding:Vt}),y.bySeqStore=g.sublevel(jt,{valueEncoding:"json"}),y.attachmentStore=g.sublevel(Mt,{valueEncoding:"json"}),y.binaryStore=g.sublevel(Pt,{valueEncoding:"binary"}),y.localStore=g.sublevel(It,{valueEncoding:"json"}),y.metaStore=g.sublevel(Lt,{valueEncoding:"json"}),"object"==typeof e.migrate?e.migrate.doMigrationTwo(g,y,r):r()}function r(){y.metaStore.get(Nt,function(e,n){"undefined"==typeof g._updateSeq&&(g._updateSeq=n||0),y.metaStore.get(qt,function(e,n){g._docCount=e?0:n,y.metaStore.get(Bt,function(e,n){v=e?E():n,y.metaStore.put(Bt,v,function(){Ne(function(){t(null,m)})})})})})}function i(e){return g.isClosed()?e(new Error("database is closed")):e(null,g._docCount)}function o(e,t){try{e.apply(null,t)}catch(e){t[t.length-1](e)}}function s(){var e=g._queue.peekFront();"read"===e.type?u(e):c(e)}function u(e){for(var t=[e],n=1,r=g._queue.get(n);"undefined"!=typeof r&&"read"===r.type;)t.push(r),n++,r=g._queue.get(n);var i=0;t.forEach(function(e){var n=e.args,r=n[n.length-1];n[n.length-1]=Me(function(e){r.apply(null,e),++i===t.length&&Ne(function(){t.forEach(function(){g._queue.shift()}),g._queue.length&&s()})}),o(e.fun,n)})}function c(e){var t=e.args,n=t[t.length-1];t[t.length-1]=Me(function(e){n.apply(null,e),Ne(function(){g._queue.shift(),g._queue.length&&s()})}),o(e.fun,t)}function l(e){return Me(function(t){g._queue.push({fun:e,args:t,type:"write"}),1===g._queue.length&&Ne(s)})}function d(e){return Me(function(t){g._queue.push({fun:e,args:t,type:"read"}),1===g._queue.length&&Ne(s)})}function f(e){return("0000000000000000"+e).slice(-16)}function h(e){return parseInt(e,10)}function p(e,t){k.destroy(e,t)}e=a(e);var v,g,m=this,y={},b=e.revs_limit,_=e.name;"undefined"==typeof e.createIfMissing&&(e.createIfMissing=!0);var S,k=e.db,C=gt(k);Ft.has(C)?S=Ft.get(C):(S=new Ze,Ft.set(C,S)),S.has(_)?(g=S.get(_),n()):S.set(_,M(qe(_,e,function(r){return r?(S.delete(_),t(r)):(g=S.get(_),g._docCount=-1,g._queue=new Ue,void("object"==typeof e.migrate?e.migrate.doMigrationOne(_,g,n):n()))}))),m.type=function(){return"leveldb"},m._id=function(e){e(null,v)},m._info=function(e){var t={doc_count:g._docCount,update_seq:g._updateSeq,backend_adapter:gt(k)};return Ne(function(){e(null,t)})},m._get=d(function(e,t,n){t=a(t),y.docStore.get(e,function(e,r){if(e||!r)return n(w(it,"missing"));var i;if(t.rev)i=t.latest?ie(t.rev,r):t.rev;else{i=Ee(r);var o=Te(r,i);if(o)return n(w(it,"deleted"))}var s=r.rev_map[i];y.bySeqStore.get(f(s),function(e,t){if(!t)return n(w(it));if("_id"in t&&t._id!==r.id)return n(new Error("wrong doc returned"));if(t._id=r.id,"_rev"in t){if(t._rev!==i)return n(new Error("wrong doc returned"))}else t._rev=i;return n(null,{doc:t,metadata:r})})})}),m._getAttachment=function(e,t,n,r,i){var o=n.digest,s=n.content_type;y.binaryStore.get(o,function(e,t){return e?"NotFoundError"!==e.name?i(e):i(null,r.binary?Se(s):""):void(r.binary?i(null,_e(t,s)):i(null,t.toString("base64")))})},m._bulkDocs=l(function(e,t,n){function r(e,t){k.get(y.attachmentStore,e,function(n){if(n){var r=w(pt,"unknown stub attachment with digest "+e);t(r)}else t()})}function i(e){var t=[];if(T.forEach(function(e){e&&e._attachments&&Object.keys(e._attachments).forEach(function(n){var r=e._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,i=0;t.forEach(function(o){r(o,function(r){r&&!n&&(n=r),++i===t.length&&e(n)})})}function o(e){function t(){if(++r===T.length)return e(n)}var n,r=0;T.forEach(function(e){return e._id&&re(e._id)?t():void k.get(y.docStore,e._id,function(r,i){r?"NotFoundError"!==r.name&&(n=r):x.set(e._id,i),t()})})}function s(e,t){var n=Ke.resolve();e.forEach(function(e,t){n=n.then(function(){return new Ke(function(n,r){m._doCompactionNoLock(t,e,{ctx:k},function(e){return e?r(e):void n()})})})}),n.then(function(){t()},t)}function a(e){var t=new Ze;x.forEach(function(e,n){t.set(n,z(e))}),s(t,e)}function u(){s(S,function(e){return e&&h(e),m.auto_compaction?a(h):void h()})}function c(e,t,r,i,o,s,a,u){function c(e){b++,m||(e?(m=e,u(m)):b===_.length&&g())}function h(e,t,n,r){return function(i){d(e,Ht+i,t,n,r)}}function p(e,t,n){return function(r){ve(r,h(e,t,r,n))}}function g(){var t=e.metadata.rev_map[e.metadata.rev];if(t)return u();t=++E,e.metadata.rev_map[e.metadata.rev]=e.metadata.seq=t;var n=f(t),r=[{key:n,value:e.data,prefix:y.bySeqStore,type:"put"},{key:e.metadata.id,value:e.metadata,prefix:y.docStore,type:"put"}];k.batch(r),v[a]={ok:!0,id:e.metadata.id,rev:e.metadata.rev},x.set(e.metadata.id,e.metadata),u()}C+=s;var m=null,b=0;e.metadata.winningRev=t,e.metadata.deleted=r,e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,i&&(e.data._deleted=!0),e.stemmedRevs.length&&S.set(e.metadata.id,e.stemmedRevs);for(var _=e.data._attachments?Object.keys(e.data._attachments):[],T=0;T<_.length;T++){var O=_[T],A=e.data._attachments[O];if(A.stub){var D=e.data._id,R=e.data._rev;l(D,R,A.digest,c)}else{var j;if("string"==typeof A.data){try{j=Tt(A.data)}catch(e){return void n(w(lt,"Attachment is not a valid base64 string"))}p(e,O,c)(j)}else xe(A.data,p(e,O,c))}}_.length||g()}function l(e,t,n,r){function i(){return new Ke(function(e,t){k.get(y.attachmentStore,n,function(n,r){return n&&"NotFoundError"!==n.name?t(n):void e(r)})})}function o(r){var i=[e,t].join("@"),o={};return r?r.refs&&(o.refs=r.refs,o.refs[i]=!0):(o.refs={},o.refs[i]=!0),new Ke(function(e){k.batch([{type:"put",prefix:y.attachmentStore,key:n,value:o}]),e(!r)})}var s=D[n]||Ke.resolve();D[n]=s.then(function(){return i().then(o).then(function(e){r(null,e)},r)})}function d(e,t,n,r,i){var o=e.data._attachments[n];delete o.data,o.digest=t,o.length=r.length;var s=e.metadata.id,a=e.metadata.rev;o.revpos=parseInt(a,10),l(s,a,t,function(e,n){return e?i(e):0===r.length?i(e):n?(k.batch([{type:"put",prefix:y.binaryStore,key:t,value:We(r,"binary")}]),void i()):i(e)})}function h(e){return e?Ne(function(){n(e)}):(k.batch([{prefix:y.metaStore,type:"put",key:Nt,value:E},{prefix:y.metaStore,type:"put",key:qt,value:g._docCount+C}]),void k.execute(g,function(e){return e?n(e):(g._docCount+=C,g._updateSeq=E,zt.notify(_),void Ne(function(){n(null,v)}))}))}var p=t.new_edits,v=new Array(e.docs.length),x=new Ze,S=new Ze,k=new Ce,C=0,E=g._updateSeq,T=e.docs,O=T.map(function(e){if(e._id&&re(e._id))return e;var t=F(e,p);return t.metadata&&!t.metadata.rev_map&&(t.metadata.rev_map={}),t}),A=O.filter(function(e){return e.error});if(A.length)return n(A[0]);var D={};return O.length?void i(function(e){return e?n(e):void o(function(e){return e?n(e):void ye(b,O,m,x,k,v,c,t,u)})}):n(null,[])}),m._allDocs=d(function(e,t){e=a(e),i(function(n,r){if(n)return t(n);var i={},o=e.skip||0;if(e.startkey&&(i.gte=e.startkey),e.endkey&&(i.lte=e.endkey),e.key&&(i.gte=i.lte=e.key),e.descending){i.reverse=!0;var s=i.lte;i.lte=i.gte,i.gte=s}var a;if("number"==typeof e.limit&&(a=e.limit),0===a||"start"in i&&"end"in i&&i.start>i.end)return t(null,{total_rows:r,offset:e.skip,rows:[]});var u=[],c=y.docStore.readStream(i),l=ze.obj(function(t,n,r){function i(t){var n={id:s.id,key:s.id,value:{rev:l}};if(e.include_docs){if(n.doc=t,n.doc._rev=n.value.rev,e.conflicts){var i=V(s);i.length&&(n.doc._conflicts=i)}for(var o in n.doc._attachments)n.doc._attachments.hasOwnProperty(o)&&(n.doc._attachments[o].stub=!0)}if(e.inclusive_end===!1&&s.id===e.endkey)return r();if(d){if("ok"!==e.deleted)return r();n.value.deleted=!0,n.doc=null}u.push(n),r()}var s=t.value,l=Ee(s),d=Te(s,l);if(d){if("ok"!==e.deleted)return void r()}else{if(o-- >0)return void r();if("number"==typeof a&&a--<=0)return c.unpipe(),c.destroy(),void r()}if(e.include_docs){var h=s.rev_map[l];y.bySeqStore.get(f(h),function(e,t){i(t)})}else i()},function(n){Ke.resolve().then(function(){if(e.include_docs&&e.attachments)return Ae(u,y,e)}).then(function(){t(null,{total_rows:r,offset:e.skip,rows:u})},t),n()}).on("unpipe",function(){l.end()});c.on("error",t),c.pipe(l)})}),m._changes=function(e){function t(){e.done=!0,l&&e.limit&&e.limit<o.length&&(o.length=e.limit),b.unpipe(w),b.destroy(),e.continuous||e.cancelled||(e.include_docs&&e.attachments?Ae(o,y,e).then(function(){e.complete(null,{results:o,last_seq:s})}):e.complete(null,{results:o,last_seq:s}))}if(e=a(e),e.continuous){var n=_+":"+E();return zt.addListener(_,n,m,e),zt.notify(_),{cancel:function(){zt.removeListener(_,n)}}}var r,i=e.descending,o=[],s=e.since||0,u=0,c={reverse:i};"limit"in e&&e.limit>0&&(r=e.limit),c.reverse||(c.start=f(e.since||0));var l,d=e.doc_ids&&new Je(e.doc_ids),p=x(e),v=new Ze;l="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var b=y.bySeqStore.readStream(c),w=ze.obj(function(n,a,c){function m(t){function n(n){var r=e.processChange(n,t,e);r.seq=t.seq;var i=p(r);return"object"==typeof i?e.complete(i):(i&&(u++,e.attachments&&e.include_docs?Ae([r],y,e).then(function(){e.onChange(r)}):e.onChange(r),l&&o.push(r)),void c())}var r=Ee(t);if(t.seq!==b)return c();if(s=b,r===w._rev)return n(w);var i=t.rev_map[r];y.bySeqStore.get(f(i),function(e,t){n(t)})}if(r&&u>=r)return t(),c();if(e.cancelled||e.done)return c();var b=h(n.key),w=n.value;if(b===e.since&&!i)return c();if(d&&!d.has(w._id))return c();var _;return(_=v.get(w._id))?m(_):void y.docStore.get(w._id,function(t,n){return e.cancelled||e.done||g.isClosed()||re(n.id)?c():(v.set(w._id,n),void m(n))})},function(t){return e.cancelled?t():(l&&e.limit&&e.limit<o.length&&(o.length=e.limit),void t())}).on("unpipe",function(){w.end(),t()});return b.pipe(w),{cancel:function(){e.cancelled=!0,t()}}},m._close=function(e){return g.isClosed()?e(w(ct)):void g.close(function(t){t?e(t):(S.delete(_),e())})},m._getRevisionTree=function(e,t){y.docStore.get(e,function(e,n){e?t(w(it)):t(null,n.rev_tree)})},m._doCompaction=l(function(e,t,n,r){m._doCompactionNoLock(e,t,n,r)}),m._doCompactionNoLock=function(e,t,n,r){if("function"==typeof n&&(r=n,n={}),!t.length)return r();var i=n.ctx||new Ce;i.get(y.docStore,e,function(o,s){function a(e){if(e&&(h=e),++v===t.length){if(h)return r(h);c()}}function u(e){return e?r(e):(i.batch(d),n.ctx?r():void i.execute(g,r))}function c(){function n(e){e&&(o=e),++s===r.length&&u(o)}var r=Object.keys(p);if(!r.length)return u();var o,s=0,a=new Ze;t.forEach(function(t){a.set(e+"@"+t,!0)}),r.forEach(function(e){i.get(y.attachmentStore,e,function(t,r){if(t)return"NotFoundError"===t.name?n():n(t);var i=Object.keys(r.refs||{}).filter(function(e){return!a.has(e)}),o={};i.forEach(function(e){o[e]=!0}),i.length?d.push({key:e,type:"put",value:{refs:o},prefix:y.attachmentStore}):d=d.concat([{key:e,type:"del",prefix:y.attachmentStore},{key:e,type:"del",prefix:y.binaryStore}]),n()})})}if(o)return r(o);var l=t.map(function(e){var t=s.rev_map[e];return delete s.rev_map[e],t});q(s.rev_tree,function(e,n,r,i,o){var s=n+"-"+r;t.indexOf(s)!==-1&&(o.status="missing")});var d=[];d.push({key:s.id,value:s,type:"put",prefix:y.docStore});var h,p={},v=0;l.forEach(function(e){d.push({key:f(e),type:"del",prefix:y.bySeqStore}),i.get(y.bySeqStore,f(e),function(e,t){if(e)return"NotFoundError"===e.name?a():a(e);var n=Object.keys(t._attachments||{});n.forEach(function(e){var n=t._attachments[e].digest;p[n]=!0}),a()})})})},m._getLocal=function(e,t){y.localStore.get(e,function(e,n){e?t(w(it)):t(null,n)})},m._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?m._putLocalNoLock(e,t,n):m._putLocalWithLock(e,t,n)},m._putLocalWithLock=l(function(e,t,n){m._putLocalNoLock(e,t,n)}),m._putLocalNoLock=function(e,t,n){delete e._revisions;var r=e._rev,i=e._id,o=t.ctx||new Ce;o.get(y.localStore,i,function(s,a){if(s&&r)return n(w(ot));if(a&&a._rev!==r)return n(w(ot));e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var u=[{type:"put",prefix:y.localStore,key:i,value:e}];o.batch(u);var c={ok:!0,id:e._id,rev:e._rev};return t.ctx?n(null,c):void o.execute(g,function(e){return e?n(e):void n(null,c)})})},m._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?m._removeLocalNoLock(e,t,n):m._removeLocalWithLock(e,t,n)},m._removeLocalWithLock=l(function(e,t,n){m._removeLocalNoLock(e,t,n)}),m._removeLocalNoLock=function(e,t,n){var r=t.ctx||new Ce;r.get(y.localStore,e._id,function(i,o){if(i)return n("NotFoundError"!==i.name?i:w(it));if(o._rev!==e._rev)return n(w(ot));r.batch([{prefix:y.localStore,type:"del",key:e._id}]);var s={ok:!0,id:e._id,rev:"0-0"};return t.ctx?n(null,s):void r.execute(g,function(e){return e?n(e):void n(null,s)})})},m._destroy=function(e,t){var n,r=gt(k);return Ft.has(r)?(n=Ft.get(r),void(n.has(_)?(zt.removeAllListeners(_),n.get(_).close(function(){n.delete(_),p(_,t)})):p(_,t))):p(_,t)}}function Re(e,t){var n=nt({db:Ge},e);De.call(this,n,t)}var je=n(e(53)),Me=n(e(4)),Pe=n(e(12)),Ie=e(26),Le=n(Ie),Fe=n(e(34)),Ne=n(e(33)),qe=n(e(47)),Be=n(e(61)),He=n(e(41)),Ve=n(e(72)),ze=e(93),Ue=n(e(22)),We=n(e(7)),Ye=n(e(73)),$e=n(e(101)),Ge=n(e(54)),Ke="function"==typeof Promise?Promise:je,Qe=Function.prototype.toString,Xe=Qe.call(Object);Pe("pouchdb:api");l.prototype.get=function(e){var t=u(e);return this._store[t]},l.prototype.set=function(e,t){var n=u(e);return this._store[n]=t,!0},l.prototype.has=function(e){var t=u(e);return t in this._store},l.prototype.delete=function(e){var t=u(e),n=t in this._store;return delete this._store[t],n},l.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n],o=this._store[i];i=c(i),e(o,i)}},Object.defineProperty(l.prototype,"size",{get:function(){return Object.keys(this._store).length}}),d.prototype.add=function(e){return this._store.set(e,!0)},d.prototype.has=function(e){return this._store.has(e)},d.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(d.prototype,"size",{get:function(){return this._store.size}});var Je,Ze;f()?(Je=Set,Ze=Map):(Je=d,Ze=l);var et;if(p())et=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),et=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){et=!1}Fe(m,Ie.EventEmitter),m.prototype.addListener=function(e,t,n,r){function i(){function e(){s=!1}if(o._listeners[t]){if(s)return void(s="waiting");s=!0;var a=h(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&Ne(i),s=!1}).on("error",e)}}if(!this._listeners[t]){var o=this,s=!1;this._listeners[t]=i,this.on(e,i)}},m.prototype.removeListener=function(e,t){t in this._listeners&&(Ie.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},m.prototype.notifyLocalWindows=function(e){p()?chrome.storage.local.set({dbName:e}):v()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},m.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var tt;tt="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var nt=tt;Fe(b,Error),b.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var rt,it=(new b(401,"unauthorized","Name or password is incorrect."),new b(400,"bad_request","Missing JSON list of 'docs'"),new b(404,"not_found","missing")),ot=new b(409,"conflict","Document update conflict"),st=new b(400,"bad_request","_id field must contain a string"),at=new b(412,"missing_id","_id is required for puts"),ut=new b(400,"bad_request","Only reserved document ids may start with underscore."),ct=new b(412,"precondition_failed","Database not open"),lt=(new b(500,"unknown_error","Database encountered an unknown error"),new b(500,"badarg","Some query argument is invalid")),dt=(new b(400,"invalid_request","Request was invalid"),new b(400,"query_parse_error","Some query parameter is invalid"),new b(500,"doc_validation","Bad special document member")),ft=new b(400,"bad_request","Something wrong with the request"),ht=(new b(400,"bad_request","Document must be a JSON object"),new b(404,"not_found","Database not found"),new b(500,"indexed_db_went_bad","unknown"),new b(500,"web_sql_went_bad","unknown"),new b(500,"levelDB_went_went_bad","unknown"),new b(403,"forbidden","Forbidden by design doc validate_doc_update function"),new b(400,"bad_request","Invalid rev format")),pt=(new b(412,"file_exists","The database could not be created, the file already exists."),new b(412,"missing_stub","A pre-existing attachment stub wasn't found")),vt=(new b(413,"invalid_url","Provided URL is invalid"),S.name);rt=vt?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var gt=rt,mt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Fe(R,Error),R.prototype.name="NotFoundError";var yt=Le.EventEmitter,bt="6.5.4",wt=new R,_t=function(e,t,n,r){function i(e){var t,n={};if(r)for(t in r)"undefined"!=typeof r[t]&&(n[t]=r[t]);if(e)for(t in e)"undefined"!=typeof e[t]&&(n[t]=e[t]);return n}var o=new yt;return o.sublevels={},o.options=r,o.version=bt,o.methods={},t=t||[],o.put=function(n,r,s,a){"function"==typeof s&&(a=s,s={}),e.apply([{key:n,value:r,prefix:t.slice(),type:"put"}],i(s),function(e){return e?a(e):(o.emit("put",n,r),void a(null))})},o.prefix=function(){return t.slice()},o.batch=function(n,r,s){"function"==typeof r&&(s=r,r={}),n=n.map(function(e){return{key:e.key,value:e.value,prefix:e.prefix||t,keyEncoding:e.keyEncoding,valueEncoding:e.valueEncoding,type:e.type}}),e.apply(n,i(r),function(e){return e?s(e):(o.emit("batch",n),void s(null))})},o.get=function(n,r,o){"function"==typeof r&&(o=r,r={}),e.get(n,t,i(r),function(e,t){e?o(wt):o(null,t)})},o.sublevel=function(r,s){return o.sublevels[r]=o.sublevels[r]||_t(e,t.concat(r),n,i(s))},o.readStream=o.createReadStream=function(r){r=i(r),r.prefix=t;var o,s=e.iterator(r);return o=n(r,e.createDecoder(r)),o.setIterator(s),o},o.close=function(t){e.close(t)},o.isOpen=e.isOpen,o.isClosed=e.isClosed,o},xt=Ve.Readable;Fe(j,xt),j.prototype.setIterator=function(e){return this._iterator=e,this._destroyed?e.end(function(){}):this._waiting?(this._waiting=!1,this._read()):this},j.prototype._read=function(){var e=this;if(!e._destroyed)return e._iterator?void e._iterator.next(function(t,n,r){return t||void 0===n&&void 0===r?(t||e._destroyed||e.push(null),e._cleanup(t)):(r=e._makeData(n,r),void(e._destroyed||e.push(r)))}):this._waiting=!0},j.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;e&&t.emit("error",e),t._iterator?t._iterator.end(function(){t._iterator=null,t.emit("close")}):t.emit("close")}},j.prototype.destroy=function(){this._cleanup()};var St={encode:function(e){return"ÿ"+e[0]+"ÿ"+e[1]},decode:function(e){var t=e.toString(),n=t.indexOf("ÿ",1);return[t.substring(1,n),t.substring(n+1)]},lowerBound:"\0",upperBound:"ÿ"},kt=new He,Ct=P(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Et=P(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Tt=function(e){return atob(e)},Ot=function(e){return btoa(e)},At=t.setImmediate||t.setTimeout,Dt=32768;Ce.prototype.get=function(e,t,n){
var r=ke(this,e),i=r.get(t);return i?Ne(function(){n(null,i)}):null===i?Ne(function(){n({name:"NotFoundError"})}):void e.get(t,function(e,i){return e?("NotFoundError"===e.name&&r.set(t,null),n(e)):(r.set(t,i),void n(null,i))})},Ce.prototype.batch=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=ke(this,r.prefix);"put"===r.type?i.set(r.key,r.value):i.set(r.key,null)}this._batch=this._batch.concat(e)},Ce.prototype.execute=function(e,t){for(var n=new Je,r=[],i=this._batch.length-1;i>=0;i--){var o=this._batch[i],s=o.prefix.prefix()[0]+"ÿ"+o.key;n.has(s)||(n.add(s),r.push(o))}e.batch(r,t)};var Rt="document-store",jt="by-sequence",Mt="attach-store",Pt="attach-binary-store",It="local-store",Lt="meta-store",Ft=new Ze,Nt="_local_last_update_seq",qt="_local_doc_count",Bt="_local_uuid",Ht="md5-",Vt={encode:we,decode:be,buffer:!1,type:"cheap-json"},zt=new m;Re.valid=function(){return"undefined"!=typeof localStorage},Re.use_prefix=!0;var Ut=function(e){e.adapter("localstorage",Re,!0)},Wt="undefined"!=typeof PouchDB?PouchDB:e("pouchdb");Wt?Ut(Wt):y("error",'localstorage adapter plugin error: Cannot find global "PouchDB" object! Did you remember to include pouchdb.js?')}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{101:101,12:12,22:22,26:26,33:33,34:34,4:4,41:41,47:47,53:53,54:54,61:61,7:7,72:72,73:73,93:93,pouchdb:"pouchdb"}]},{},[103]),function(e,t,n,r){e.site=e.fn.site=function(i){var o,s,a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1),f=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),h=f.namespace,p=f.error,v="module-"+h,g=e(n),m=g,y=this,b=m.data(v);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),b=o,m.data(v,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),console!==r&&console.log!==r||(o.verbose("Console not available, normalizing events"),o.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===r&&(o.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==r&&e.fn[t].settings!==r},enabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){o.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){o.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,i,s){i="string"==typeof i?"all"===i?f.modules:[i]:i||f.modules,s=s===r||s,e.each(i,function(r,i){var a,u=!o.moduleExists(i)||(e.fn[i].settings.namespace||!1);o.moduleExists(i)&&(o.verbose("Changing default setting",t,n,i),e.fn[i].settings[t]=n,s&&u&&(a=e(":data(module-"+u+")"),a.length>0&&(o.verbose("Modifying existing settings",a),a[i]("setting",t,n))))})},settings:function(t,n,i){n="string"==typeof n?[n]:n||f.modules,i=i===r||i,e.each(n,function(n,r){var s;o.moduleExists(r)&&(o.verbose("Changing default setting",t,r),e.extend(!0,e.fn[r].settings,t),i&&h&&(s=e(":data(module-"+h+")"),s.length>0&&(o.verbose("Modifying existing settings",s),s[r]("setting",t))))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||f.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||f.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||f.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||f.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(b.cache.console===r)return void o.error(p.console);o.debug("Restoring console function"),t.console=b.cache.console}else o.debug("Disabling console function"),b.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",m),m.removeData(v)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===r)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===r)return o[t];o[t]=n}},debug:function(){f.debug&&(f.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,f.name+":"),o.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,f.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;f.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Element:y,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(o.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var a,u,c,l=b;return n=n||d,i=y||i,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var s=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[s])&&n!=a)l=l[s];else{if(l[s]!==r)return u=l[s],!1;if(!e.isPlainObject(l[i])||n==a)return l[i]!==r?(u=l[i],!1):(o.error(p.method,t),!1);l=l[i]}})),e.isFunction(u)?c=u.apply(i,n):u!==r&&(c=u),e.isArray(s)?s.push(c):s!==r?s=[s,c]:c!==r&&(s=c),u}},l?(b===r&&o.initialize(),o.invoke(c)):(b!==r&&o.destroy(),o.initialize()),s!==r?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])}})}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l=arguments[1],d="string"==typeof c,f=[].slice.call(arguments,1);return o.each(function(){var h,p,v,g,m,y,b,w,_,x,S,k,C,E,T,O,A,D,R,j=e(this),M=this,P=[],I=!1;R={initialize:function(){R.get.settings(),d?(D===r&&R.instantiate(),R.invoke(c)):(D!==r&&D.invoke("destroy"),R.verbose("Initializing form validation",j,w),R.bindEvents(),R.set.defaults(),R.instantiate())},instantiate:function(){R.verbose("Storing instance of module",R),D=R,j.data(O,R)},destroy:function(){R.verbose("Destroying previous module",D),R.removeEvents(),j.removeData(O)},refresh:function(){R.verbose("Refreshing selector cache"),h=j.find(S.field),p=j.find(S.group),v=j.find(S.message),g=j.find(S.prompt),m=j.find(S.submit),y=j.find(S.clear),b=j.find(S.reset)},submit:function(){R.verbose("Submitting form",j),j.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+A,function(e){R[n](),e.preventDefault()})},bindEvents:function(){R.verbose("Attaching form events"),j.on("submit"+A,R.validate.form).on("blur"+A,S.field,R.event.field.blur).on("click"+A,S.submit,R.submit).on("click"+A,S.reset,R.reset).on("click"+A,S.clear,R.clear),w.keyboardShortcuts&&j.on("keydown"+A,S.field,R.event.field.keydown),h.each(function(){var t=e(this),n=t.prop("type"),r=R.get.changeEvent(n,t);e(this).on(r+A,R.event.field.change)})},clear:function(){h.each(function(){var t=e(this),n=t.parent(),r=t.closest(p),i=r.find(S.prompt),o=t.data(x.defaultValue)||"",s=n.is(S.uiCheckbox),a=n.is(S.uiDropdown),u=r.hasClass(k.error);u&&(R.verbose("Resetting error on field",r),r.removeClass(k.error),i.remove()),a?(R.verbose("Resetting dropdown value",n,o),n.dropdown("clear")):s?t.prop("checked",!1):(R.verbose("Resetting field value",t,o),t.val(""))})},reset:function(){h.each(function(){var t=e(this),n=t.parent(),i=t.closest(p),o=i.find(S.prompt),s=t.data(x.defaultValue),a=n.is(S.uiCheckbox),u=n.is(S.uiDropdown),c=i.hasClass(k.error);s!==r&&(c&&(R.verbose("Resetting error on field",i),i.removeClass(k.error),o.remove()),u?(R.verbose("Resetting dropdown value",n,s),n.dropdown("restore defaults")):a?(R.verbose("Resetting checkbox value",n,s),t.prop("checked",s)):(R.verbose("Resetting field value",t,s),t.val(s)))})},determine:{isValid:function(){var t=!0;return e.each(_,function(e,n){R.validate.field(n,e,!0)||(t=!1)}),t}},is:{bracketedRule:function(e){return e.type&&e.type.match(w.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):R.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(t){var n=!0;return t?(R.verbose("Checking if field is valid",t),R.validate.field(_[t],t,!1)):(R.verbose("Checking if form is valid"),e.each(_,function(e,t){R.is.valid(e)||(n=!1)}),n)}},removeEvents:function(){j.off(A),h.off(A),m.off(A),h.off(A)},event:{field:{keydown:function(t){var n=e(this),r=t.which,i=n.is(S.input),o=n.is(S.checkbox),s=n.closest(S.uiDropdown).length>0,a={enter:13,escape:27};r==a.escape&&(R.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||r!=a.enter||!i||s||o||(I||(n.one("keyup"+A,R.event.field.keyup),R.submit(),R.debug("Enter pressed on input submitting form")),I=!0)},keyup:function(){I=!1},blur:function(t){var n=e(this),r=n.closest(p),i=R.get.validation(n);r.hasClass(k.error)?(R.debug("Revalidating field",n,i),i&&R.validate.field(i)):"blur"!=w.on&&"change"!=w.on||i&&R.validate.field(i)},change:function(t){var n=e(this),r=n.closest(p),i=R.get.validation(n);i&&("change"==w.on||r.hasClass(k.error)&&w.revalidate)&&(clearTimeout(R.timer),R.timer=setTimeout(function(){R.debug("Revalidating field",n,R.get.validation(n)),R.validate.field(i)},w.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!R.is.bracketedRule(e))&&(e.value!==r?e.value:e.type.match(w.regExp.bracket)[1]+"")},ruleName:function(e){return R.is.bracketedRule(e)?e.type.replace(e.type.match(w.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":R.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==r?"input":n.createElement("input").onpropertychange!==r?"propertychange":"keyup"},prompt:function(e,t){var n,r,i,o=R.get.ruleName(e),s=R.get.ancillaryValue(e),a=e.prompt||w.prompt[o]||w.text.unspecifiedRule,u=a.search("{value}")!==-1,c=a.search("{name}")!==-1;return(c||u)&&(r=R.get.field(t.identifier)),u&&(a=a.replace("{value}",r.val())),c&&(n=r.closest(S.group).find("label").eq(0),i=1==n.length?n.text():r.prop("placeholder")||w.text.unspecifiedField,a=a.replace("{name}",i)),a=a.replace("{identifier}",t.identifier),a=a.replace("{ruleValue}",s),e.prompt||R.verbose("Using default validation prompt for type",a,o),a},settings:function(){if(e.isPlainObject(t)){var n,i=Object.keys(t),o=i.length>0&&(t[i[0]].identifier!==r&&t[i[0]].rules!==r);o?(w=e.extend(!0,{},e.fn.form.settings,l),_=e.extend({},e.fn.form.settings.defaults,t),R.error(w.error.oldSyntax,M),R.verbose("Extending settings from legacy parameters",_,w)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,r){"string"==typeof r&&(r=[r]),t.fields[n]={rules:[]},e.each(r,function(e,r){t.fields[n].rules.push({type:r})})})),w=e.extend(!0,{},e.fn.form.settings,t),_=e.extend({},e.fn.form.settings.defaults,w.fields),R.verbose("Extending settings",_,w))}else w=e.fn.form.settings,_=e.fn.form.settings.defaults,R.verbose("Using default form validation",_,w);T=w.namespace,x=w.metadata,S=w.selector,k=w.className,C=w.regExp,E=w.error,O="module-"+T,A="."+T,D=j.data(O),R.refresh()},field:function(t){return R.verbose("Finding field with identifier",t),t=R.escape.string(t),h.filter("#"+t).length>0?h.filter("#"+t):h.filter('[name="'+t+'"]').length>0?h.filter('[name="'+t+'"]'):h.filter('[name="'+t+'[]"]').length>0?h.filter('[name="'+t+'[]"]'):h.filter("[data-"+x.validate+'="'+t+'"]').length>0?h.filter("[data-"+x.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(R.get.field(t))}),n},validation:function(t){var n,r;return!!_&&(e.each(_,function(e,i){r=i.identifier||e,R.get.field(r)[0]==t[0]&&(i.identifier=r,n=i)}),n||!1)},value:function(e){var t,n=[];return n.push(e),t=R.get.values.call(M,n),t[e]},values:function(t){var n=e.isArray(t)?R.get.fields(t):h,r={};return n.each(function(t,n){var i=e(n),o=(i.prop("type"),i.prop("name")),s=i.val(),a=i.is(S.checkbox),u=i.is(S.radio),c=o.indexOf("[]")!==-1,l=!!a&&i.is(":checked");o&&(c?(o=o.replace("[]",""),r[o]||(r[o]=[]),a?l?r[o].push(s||!0):r[o].push(!1):r[o].push(s)):u?l&&(r[o]=s):a?l?r[o]=s||!0:r[o]=!1:r[o]=s)}),r}},has:{field:function(e){return R.verbose("Checking for existence of a field with identifier",e),e=R.escape.string(e),"string"!=typeof e&&R.error(E.identifier,e),h.filter("#"+e).length>0||(h.filter('[name="'+e+'"]').length>0||h.filter("[data-"+x.validate+'="'+e+'"]').length>0)}},escape:{string:function(e){return e=String(e),e.replace(C.escape,"\\$&")}},add:{prompt:function(t,n){var i=R.get.field(t),o=i.closest(p),s=o.children(S.prompt),a=0!==s.length;n="string"==typeof n?[n]:n,R.verbose("Adding field error state",t),o.addClass(k.error),w.inline&&(a||(s=w.templates.prompt(n),s.appendTo(o)),s.html(n[0]),a?R.verbose("Inline errors are disabled, no inline error added",t):w.transition&&e.fn.transition!==r&&j.transition("is supported")?(R.verbose("Displaying error with css transition",w.transition),s.transition(w.transition+" in",w.duration)):(R.verbose("Displaying error with fallback javascript animation"),s.fadeIn(w.duration)))},errors:function(e){R.debug("Adding form error messages",e),R.set.error(),v.html(w.templates.error(e))}},remove:{prompt:function(t){var n=R.get.field(t),i=n.closest(p),o=i.children(S.prompt);i.removeClass(k.error),w.inline&&o.is(":visible")&&(R.verbose("Removing prompt for field",t),w.transition&&e.fn.transition!==r&&j.transition("is supported")?o.transition(w.transition+" out",w.duration,function(){o.remove()}):o.fadeOut(w.duration,function(){o.remove()}))}},set:{success:function(){j.removeClass(k.error).addClass(k.success)},defaults:function(){h.each(function(){var t=e(this),n=t.filter(S.checkbox).length>0,r=n?t.is(":checked"):t.val();t.data(x.defaultValue,r)})},error:function(){j.removeClass(k.success).addClass(k.error)},value:function(e,t){var n={};return n[e]=t,R.set.values.call(M,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var r,i=R.get.field(t),o=i.parent(),s=e.isArray(n),a=o.is(S.uiCheckbox),u=o.is(S.uiDropdown),c=i.is(S.radio)&&a,l=i.length>0;l&&(s&&a?(R.verbose("Selecting multiple",n,i),o.checkbox("uncheck"),e.each(n,function(e,t){r=i.filter('[value="'+t+'"]'),o=r.parent(),r.length>0&&o.checkbox("check")})):c?(R.verbose("Selecting radio value",n,i),i.filter('[value="'+n+'"]').parent(S.uiCheckbox).checkbox("check")):a?(R.verbose("Setting checkbox value",n,o),n===!0?o.checkbox("check"):o.checkbox("uncheck")):u?(R.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(R.verbose("Setting field value",n,i),i.val(n)))})}},validate:{form:function(e,t){var n=R.get.values();if(I)return!1;if(P=[],R.determine.isValid()){if(R.debug("Form has no validation errors, submitting"),R.set.success(),t!==!0)return w.onSuccess.call(M,e,n)}else if(R.debug("Form has errors"),R.set.error(),w.inline||R.add.errors(P),j.data("moduleApi")!==r&&e.stopImmediatePropagation(),t!==!0)return w.onFailure.call(M,P,n)},field:function(t,n,i){i=i===r||i,"string"==typeof t&&(R.verbose("Validating field",t),n=t,t=_[t]);var o=t.identifier||n,s=R.get.field(o),a=!!t.depends&&R.get.field(t.depends),u=!0,c=[];return t.identifier||(R.debug("Using field name as identifier",o),t.identifier=o),s.prop("disabled")?(R.debug("Field is disabled. Skipping",o),u=!0):t.optional&&R.is.blank(s)?(R.debug("Field is optional and blank. Skipping",o),u=!0):t.depends&&R.is.empty(a)?(R.debug("Field depends on another value that is not present or empty. Skipping",a),u=!0):t.rules!==r&&e.each(t.rules,function(e,n){R.has.field(o)&&!R.validate.rule(t,n)&&(R.debug("Field is invalid",o,n.type),c.push(R.get.prompt(n,t)),u=!1)}),u?(i&&(R.remove.prompt(o,c),w.onValid.call(s)),!0):(i&&(P=P.concat(c),R.add.prompt(o,c),w.onInvalid.call(s,c)),!1)},rule:function(t,n){var i=R.get.field(t.identifier),o=(n.type,i.val()),s=R.get.ancillaryValue(n),a=R.get.ruleName(n),u=w.rules[a];return e.isFunction(u)?(o=o===r||""===o||null===o?"":e.trim(o+""),u.call(i,o,s)):void R.error(E.noRule,a)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===r)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,R,t);else{if(n===r)return R[t];R[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,w.name+":"),R.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),R.verbose.apply(console,arguments)))},error:function(){w.silent||(R.error=Function.prototype.bind.call(console.error,console,w.name+":"),R.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;w.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,500)},display:function(){var t=w.name+":",n=0;a=!1,clearTimeout(R.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=D;return n=n||f,o=M||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},R.initialize()}),i!==r?i:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===r||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var r,i=n.match(e.fn.form.settings.regExp.flags);return i&&(n=i.length>=2?i[1]:n,r=i.length>=3?i[2]:""),t.match(new RegExp(n,r))},integer:function(t,n){var i,o,s,a=e.fn.form.settings.regExp.integer;return n&&["",".."].indexOf(n)===-1&&(n.indexOf("..")==-1?a.test(n)&&(i=o=n-0):(s=n.split("..",2),a.test(s[0])&&(i=s[0]-0),a.test(s[1])&&(o=s[1]-0))),a.test(t)&&(i===r||t>=i)&&(o===r||t<=o)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))!==-1},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))!==-1},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))===-1},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))===-1},minLength:function(e,t){return e!==r&&e.length>=t},length:function(e,t){return e!==r&&e.length>=t},exactLength:function(e,t){return e!==r&&e.length==t},maxLength:function(e,t){return e!==r&&e.length<=t},match:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),i!==r&&t.toString()==i.toString()},different:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),i!==r&&t.toString()!==i.toString()},creditCard:function(t,n){var r,i,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},s={},a=!1,u="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(u&&(e.each(u,function(n,r){i=o[r],i&&(s={length:e.inArray(t.length,i.length)!==-1,pattern:t.search(i.pattern)!==-1},s.length&&s.pattern&&(a=!0))}),!a))return!1;if(r={number:e.inArray(t.length,o.unionPay.length)!==-1,pattern:t.search(o.unionPay.pattern)!==-1},r.number&&r.pattern)return!0;for(var c=t.length,l=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;c--;)f+=d[l][parseInt(t.charAt(c),10)],l^=1;return f%10===0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&e.search(",")===-1:e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?e.search(",")===-1:e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(n){var i,o=e(this),s=(new Date).getTime(),a=[],u=arguments[0],c="string"==typeof u,l=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(){var d,f,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),p=h.className,v=h.namespace,g=h.selector,m=h.error,y="."+v,b="module-"+v,w=o.selector||"",_=e(this),x=_.find(g.title),S=_.find(g.content),k=this,C=_.data(b);f={initialize:function(){f.debug("Initializing",_),f.bind.events(),h.observeChanges&&f.observeChanges(),f.instantiate()},instantiate:function(){C=f,_.data(b,f)},destroy:function(){f.debug("Destroying previous instance",_),_.off(y).removeData(b)},refresh:function(){x=_.find(g.title),S=_.find(g.content)},observeChanges:function(){"MutationObserver"in t&&(d=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),d.observe(k,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",d))},bind:{events:function(){f.debug("Binding delegated events"),_.on(h.on+y,g.trigger,f.event.click)}},event:{click:function(){f.toggle.call(this)}},toggle:function(t){var n=t!==r?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(S),o=i.hasClass(p.animating),s=i.hasClass(p.active),a=s&&!o,u=!s&&o;f.debug("Toggling visibility of content",n),a||u?h.collapsible?f.close.call(n):f.debug("Cannot close accordion content collapsing is disabled"):f.open.call(n)},open:function(t){var n=t!==r?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(S),o=i.hasClass(p.animating),s=i.hasClass(p.active),a=s||o;return a?void f.debug("Accordion already open, skipping",i):(f.debug("Opening accordion content",n),h.onOpening.call(i),h.exclusive&&f.closeOthers.call(n),n.addClass(p.active),i.stop(!0,!0).addClass(p.animating),h.animateChildren&&(e.fn.transition!==r&&_.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):i.children().stop(!0,!0).animate({opacity:1},h.duration,f.resetOpacity)),void i.slideDown(h.duration,h.easing,function(){i.removeClass(p.animating).addClass(p.active),f.reset.display.call(this),h.onOpen.call(this),h.onChange.call(this)}))},close:function(t){var n=t!==r?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(S),o=i.hasClass(p.animating),s=i.hasClass(p.active),a=!s&&o,u=s&&o;!s&&!a||u||(f.debug("Closing accordion content",i),h.onClosing.call(i),n.removeClass(p.active),i.stop(!0,!0).addClass(p.animating),h.animateChildren&&(e.fn.transition!==r&&_.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):i.children().stop(!0,!0).animate({opacity:0},h.duration,f.resetOpacity)),i.slideUp(h.duration,h.easing,function(){i.removeClass(p.animating).removeClass(p.active),f.reset.display.call(this),h.onClose.call(this),h.onChange.call(this)}))},closeOthers:function(t){var n,i,o,s=t!==r?x.eq(t):e(this).closest(g.title),a=s.parents(g.content).prev(g.title),u=s.closest(g.accordion),c=g.title+"."+p.active+":visible",l=g.content+"."+p.active+":visible";h.closeNested?(n=u.find(c).not(a),o=n.next(S)):(n=u.find(c).not(a),i=u.find(l).find(c).not(a),n=n.not(i),o=n.next(S)),n.length>0&&(f.debug("Exclusive enabled, closing other content",n),n.removeClass(p.active),o.removeClass(p.animating).stop(!0,!0),h.animateChildren&&(e.fn.transition!==r&&_.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):o.children().stop(!0,!0).animate({opacity:0},h.duration,f.resetOpacity)),o.slideUp(h.duration,h.easing,function(){e(this).removeClass(p.active),f.reset.display.call(this)}))},reset:{display:function(){f.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){f.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){return f.debug("Changing internal",t,n),n===r?f[t]:void(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n)},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)));
},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",w&&(t+=" '"+w+"'"),(console.group!==r||console.table!==r)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var s,a,u,c=C;return n=n||l,o=k||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(f.error(m.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},c?(C===r&&f.initialize(),f.invoke(u)):(C!==r&&C.invoke("destroy"),f.initialize())}),i!==r?i:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(i){var o,s=e(this),a=s.selector||"",u=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,f=[].slice.call(arguments,1);return s.each(function(){var s,h,p=e.extend(!0,{},e.fn.checkbox.settings,i),v=p.className,g=p.namespace,m=p.selector,y=p.error,b="."+g,w="module-"+g,_=e(this),x=e(this).children(m.label),S=e(this).children(m.input),k=S[0],C=!1,E=!1,T=_.data(w),O=this;h={initialize:function(){h.verbose("Initializing checkbox",p),h.create.label(),h.bind.events(),h.set.tabbable(),h.hide.input(),h.observeChanges(),h.instantiate(),h.setup()},instantiate:function(){h.verbose("Storing instance of module",h),T=h,_.data(w,h)},destroy:function(){h.verbose("Destroying module"),h.unbind.events(),h.show.input(),_.removeData(w)},fix:{reference:function(){_.is(m.input)&&(h.debug("Behavior called on <input> adjusting invoked element"),_=_.closest(m.checkbox),h.refresh())}},setup:function(){h.set.initialLoad(),h.is.indeterminate()?(h.debug("Initial value is indeterminate"),h.indeterminate()):h.is.checked()?(h.debug("Initial value is checked"),h.check()):(h.debug("Initial value is unchecked"),h.uncheck()),h.remove.initialLoad()},refresh:function(){x=_.children(m.label),S=_.children(m.input),k=S[0]},hide:{input:function(){h.verbose("Modifying <input> z-index to be unselectable"),S.addClass(v.hidden)}},show:{input:function(){h.verbose("Modifying <input> z-index to be selectable"),S.removeClass(v.hidden)}},observeChanges:function(){"MutationObserver"in t&&(s=new MutationObserver(function(e){h.debug("DOM tree modified, updating selector cache"),h.refresh()}),s.observe(O,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",s))},attachEvents:function(t,n){var r=e(t);n=e.isFunction(h[n])?h[n]:h.toggle,r.length>0?(h.debug("Attaching checkbox events to element",t,n),r.on("click"+b,n)):h.error(y.notFound)},event:{click:function(t){var n=e(t.target);return n.is(m.input)?void h.verbose("Using default check action on initialized checkbox"):n.is(m.link)?void h.debug("Clicking link inside checkbox, skipping toggle"):(h.toggle(),S.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(h.verbose("Escape key pressed blurring field"),S.blur(),E=!0):e.ctrlKey||t!=n.space&&t!=n.enter?E=!1:(h.verbose("Enter/space key pressed, toggling checkbox"),h.toggle(),E=!0)},keyup:function(e){E&&e.preventDefault()}},check:function(){h.should.allowCheck()&&(h.debug("Checking checkbox",S),h.set.checked(),h.should.ignoreCallbacks()||(p.onChecked.call(k),p.onChange.call(k)))},uncheck:function(){h.should.allowUncheck()&&(h.debug("Unchecking checkbox"),h.set.unchecked(),h.should.ignoreCallbacks()||(p.onUnchecked.call(k),p.onChange.call(k)))},indeterminate:function(){return h.should.allowIndeterminate()?void h.debug("Checkbox is already indeterminate"):(h.debug("Making checkbox indeterminate"),h.set.indeterminate(),void(h.should.ignoreCallbacks()||(p.onIndeterminate.call(k),p.onChange.call(k))))},determinate:function(){return h.should.allowDeterminate()?void h.debug("Checkbox is already determinate"):(h.debug("Making checkbox determinate"),h.set.determinate(),void(h.should.ignoreCallbacks()||(p.onDeterminate.call(k),p.onChange.call(k))))},enable:function(){return h.is.enabled()?void h.debug("Checkbox is already enabled"):(h.debug("Enabling checkbox"),h.set.enabled(),p.onEnable.call(k),void p.onEnabled.call(k))},disable:function(){return h.is.disabled()?void h.debug("Checkbox is already disabled"):(h.debug("Disabling checkbox"),h.set.disabled(),p.onDisable.call(k),void p.onDisabled.call(k))},get:{radios:function(){var t=h.get.name();return e('input[name="'+t+'"]').closest(m.checkbox)},otherRadios:function(){return h.get.radios().not(_)},name:function(){return S.attr("name")}},is:{initialLoad:function(){return C},radio:function(){return S.hasClass(v.radio)||"radio"==S.attr("type")},indeterminate:function(){return S.prop("indeterminate")!==r&&S.prop("indeterminate")},checked:function(){return S.prop("checked")!==r&&S.prop("checked")},disabled:function(){return S.prop("disabled")!==r&&S.prop("disabled")},enabled:function(){return!h.is.disabled()},determinate:function(){return!h.is.indeterminate()},unchecked:function(){return!h.is.checked()}},should:{allowCheck:function(){return h.is.determinate()&&h.is.checked()&&!h.should.forceCallbacks()?(h.debug("Should not allow check, checkbox is already checked"),!1):p.beforeChecked.apply(k)!==!1||(h.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return h.is.determinate()&&h.is.unchecked()&&!h.should.forceCallbacks()?(h.debug("Should not allow uncheck, checkbox is already unchecked"),!1):p.beforeUnchecked.apply(k)!==!1||(h.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return h.is.indeterminate()&&!h.should.forceCallbacks()?(h.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):p.beforeIndeterminate.apply(k)!==!1||(h.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return h.is.determinate()&&!h.should.forceCallbacks()?(h.debug("Should not allow determinate, checkbox is already determinate"),!1):p.beforeDeterminate.apply(k)!==!1||(h.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return h.is.initialLoad()&&p.fireOnInit},ignoreCallbacks:function(){return C&&!p.fireOnInit}},can:{change:function(){return!(_.hasClass(v.disabled)||_.hasClass(v.readOnly)||S.prop("disabled")||S.prop("readonly"))},uncheck:function(){return"boolean"==typeof p.uncheckable?p.uncheckable:!h.is.radio()}},set:{initialLoad:function(){C=!0},checked:function(){return h.verbose("Setting class to checked"),_.removeClass(v.indeterminate).addClass(v.checked),h.is.radio()&&h.uncheckOthers(),!h.is.indeterminate()&&h.is.checked()?void h.debug("Input is already checked, skipping input property change"):(h.verbose("Setting state to checked",k),S.prop("indeterminate",!1).prop("checked",!0),void h.trigger.change())},unchecked:function(){return h.verbose("Removing checked class"),_.removeClass(v.indeterminate).removeClass(v.checked),!h.is.indeterminate()&&h.is.unchecked()?void h.debug("Input is already unchecked"):(h.debug("Setting state to unchecked"),S.prop("indeterminate",!1).prop("checked",!1),void h.trigger.change())},indeterminate:function(){return h.verbose("Setting class to indeterminate"),_.addClass(v.indeterminate),h.is.indeterminate()?void h.debug("Input is already indeterminate, skipping input property change"):(h.debug("Setting state to indeterminate"),S.prop("indeterminate",!0),void h.trigger.change())},determinate:function(){return h.verbose("Removing indeterminate class"),_.removeClass(v.indeterminate),h.is.determinate()?void h.debug("Input is already determinate, skipping input property change"):(h.debug("Setting state to determinate"),void S.prop("indeterminate",!1))},disabled:function(){return h.verbose("Setting class to disabled"),_.addClass(v.disabled),h.is.disabled()?void h.debug("Input is already disabled, skipping input property change"):(h.debug("Setting state to disabled"),S.prop("disabled","disabled"),void h.trigger.change())},enabled:function(){return h.verbose("Removing disabled class"),_.removeClass(v.disabled),h.is.enabled()?void h.debug("Input is already enabled, skipping input property change"):(h.debug("Setting state to enabled"),S.prop("disabled",!1),void h.trigger.change())},tabbable:function(){h.verbose("Adding tabindex to checkbox"),S.attr("tabindex")===r&&S.attr("tabindex",0)}},remove:{initialLoad:function(){C=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=S[0];t&&(h.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){S.prevAll(m.label).length>0?(S.prev(m.label).detach().insertAfter(S),h.debug("Moving existing label",x)):h.has.label()||(x=e("<label>").insertAfter(S),h.debug("Creating label",x))}},has:{label:function(){return x.length>0}},bind:{events:function(){h.verbose("Attaching checkbox events"),_.on("click"+b,h.event.click).on("keydown"+b,m.input,h.event.keydown).on("keyup"+b,m.input,h.event.keyup)}},unbind:{events:function(){h.debug("Removing events"),_.off(b)}},uncheckOthers:function(){var e=h.get.otherRadios();h.debug("Unchecking other radios",e),e.removeClass(v.checked)},toggle:function(){return h.can.change()?void(h.is.indeterminate()||h.is.unchecked()?(h.debug("Currently unchecked"),h.check()):h.is.checked()&&h.can.uncheck()&&(h.debug("Currently checked"),h.uncheck())):void(h.is.radio()||h.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],n):p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];h[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",n=0;u=!1,clearTimeout(h.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var s,a,u,c=T;return n=n||f,i=O||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(h.error(y.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},d?(T===r&&h.initialize(),h.invoke(l)):(T!==r&&T.invoke("destroy"),h.initialize())}),o!==r?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var i,o=e(this),s=(new Date).getTime(),a=[],u=arguments[0],c="string"==typeof u,l=[].slice.call(arguments,1);return o.each(function(){var d,f,h,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),v=p.selector,g=p.namespace,m=p.className,y=p.error,b="."+g,w="module-"+g,_=o.selector||"",x="ontouchstart"in n.documentElement?"touchstart":"click",S=e(this),k=this,C=S.data(w);h={preinitialize:function(){h.is.dimmer()?(f=S.parent(),d=S):(f=S,d=h.has.dimmer()?p.dimmerName?f.find(v.dimmer).filter("."+p.dimmerName):f.find(v.dimmer):h.create(),h.set.variation())},initialize:function(){h.debug("Initializing dimmer",p),h.bind.events(),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),C=h,S.data(w,C)},destroy:function(){h.verbose("Destroying previous module",d),h.unbind.events(),h.remove.variation(),f.off(b)},bind:{events:function(){"hover"==p.on?f.on("mouseenter"+b,h.show).on("mouseleave"+b,h.hide):"click"==p.on&&f.on(x+b,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",f),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",d),f.on(x+b,v.dimmer,h.event.click))}},unbind:{events:function(){S.removeData(w),f.off(b)}},event:{click:function(t){h.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(v.content))&&(h.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);h.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(p.template.dimmer());return p.dimmerName&&(h.debug("Creating named dimmer",p.dimmerName),t.addClass(p.dimmerName)),t.appendTo(f),t},show:function(t){t=e.isFunction(t)?t:function(){},h.debug("Showing dimmer",d,p),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(t),p.onShow.call(k),p.onChange.call(k))},hide:function(t){t=e.isFunction(t)?t:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",d),h.animate.hide(t),p.onHide.call(k),p.onChange.call(k)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",d),h.is.dimmed()?h.hide():h.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==r&&d.transition("is supported")?("auto"!==p.opacity&&h.set.opacity(),d.transition({animation:p.transition+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),t()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==p.opacity&&(p.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),p.opacity,function(){d.removeAttr("style"),h.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==r&&d.transition("is supported")?(h.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.remove.dimmed()},onComplete:function(){h.remove.active(),t()}})):(h.verbose("Hiding dimmer with javascript"),h.remove.dimmed(),d.stop().fadeOut(h.get.duration(),function(){h.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?h.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return p.dimmerName?S.find(v.dimmer).filter("."+p.dimmerName).length>0:S.find(v.dimmer).length>0}},is:{active:function(){return d.hasClass(m.active)},animating:function(){return d.is(":animated")||d.hasClass(m.animating)},closable:function(){return"auto"==p.closable?"hover"!=p.on:p.closable},dimmer:function(){return S.hasClass(m.dimmer)},dimmable:function(){return S.hasClass(m.dimmable)},dimmed:function(){return f.hasClass(m.dimmed)},disabled:function(){return f.hasClass(m.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return f.is("body")},pageDimmer:function(){return d.hasClass(m.pageDimmer)}},can:{show:function(){return!d.hasClass(m.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),n=t.split(","),r=n&&3==n.length,i=n&&4==n.length;e=0===p.opacity?0:p.opacity||e,r||i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",h.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(m.active)},dimmable:function(){f.addClass(m.dimmable)},dimmed:function(){f.addClass(m.dimmed)},pageDimmer:function(){d.addClass(m.pageDimmer)},disabled:function(){d.addClass(m.disabled)},variation:function(e){e=e||p.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(m.active)},dimmed:function(){f.removeClass(m.dimmed)},disabled:function(){d.removeClass(m.disabled)},variation:function(e){e=e||p.variation,e&&d.removeClass(e)}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],n):p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];h[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",_&&(t+=" '"+_+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==r||console.table!==r)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var s,a,u,c=C;return n=n||l,o=k||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(h.error(y.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},h.preinitialize(),c?(C===r&&h.initialize(),h.invoke(u)):(C!==r&&C.invoke("destroy"),h.initialize())}),i!==r?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var o,s=e(this),a=e(n),u=s.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,p=[].slice.call(arguments,1);return s.each(function(v){var g,m,y,b,w,_,x,S,k=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),C=k.className,E=k.message,T=k.fields,O=k.keys,A=k.metadata,D=k.namespace,R=k.regExp,j=k.selector,M=k.error,P=k.templates,I="."+D,L="module-"+D,F=e(this),N=e(k.context),q=F.find(j.text),B=F.find(j.search),H=F.find(j.sizer),V=F.find(j.input),z=F.find(j.icon),U=F.prev().find(j.text).length>0?F.prev().find(j.text):F.prev(),W=F.children(j.menu),Y=W.find(j.item),$=!1,G=!1,K=!1,Q=this,X=F.data(L);S={initialize:function(){S.debug("Initializing dropdown",k),S.is.alreadySetup()?S.setup.reference():(S.setup.layout(),S.refreshData(),S.save.defaults(),S.restore.selected(),S.create.id(),S.bind.events(),S.observeChanges(),S.instantiate())},instantiate:function(){S.verbose("Storing instance of dropdown",S),X=S,F.data(L,S)},destroy:function(){S.verbose("Destroying previous dropdown",F),S.remove.tabbable(),F.off(I).removeData(L),W.off(I),a.off(b),S.disconnect.menuObserver(),S.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(_=new MutationObserver(S.event.select.mutation),x=new MutationObserver(S.event.menu.mutation),S.debug("Setting up mutation observer",_,x),S.observe.select(),S.observe.menu())},disconnect:{menuObserver:function(){x&&x.disconnect()},selectObserver:function(){_&&_.disconnect()}},observe:{select:function(){S.has.input()&&_.observe(V[0],{childList:!0,subtree:!0})},menu:function(){S.has.menu()&&x.observe(W[0],{childList:!0,subtree:!0})}},create:{id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),b="."+w,S.verbose("Creating unique id for element",w)},userChoice:function(t){var n,i,o;return!!(t=t||S.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,s){S.get.item(s)===!1&&(o=k.templates.addition(S.add.variables(E.addResult,s)),i=e("<div />").html(o).attr("data-"+A.value,s).attr("data-"+A.text,s).addClass(C.addition).addClass(C.item),k.hideAdditions&&i.addClass(C.hidden),n=n===r?i:n.add(i),S.verbose("Creating user choices for value",s,i))}),n)},userLabels:function(t){var n=S.get.userValues();n&&(S.debug("Adding user labels",n),e.each(n,function(e,t){S.verbose("Adding custom user value"),S.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(C.menu).appendTo(F)},sizer:function(){H=e("<span />").addClass(C.sizer).insertAfter(B)}},search:function(e){e=e!==r?e:S.get.query(),S.verbose("Searching for query",e),S.has.minCharacters(e)?S.filter(e):S.hide()},select:{firstUnfiltered:function(){S.verbose("Selecting first non-filtered element"),S.remove.selectedItem(),Y.not(j.unselectable).not(j.addition+j.hidden).eq(0).addClass(C.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(j.item).not(j.unselectable).eq(0),n=e.prevAll(j.item).not(j.unselectable).eq(0),r=t.length>0;r?(S.verbose("Moving selection to",t),t.addClass(C.selected)):(S.verbose("Moving selection to",n),n.addClass(C.selected))}},setup:{api:function(){var e={debug:k.debug,urlData:{value:S.get.value(),query:S.get.query()},on:!1};S.verbose("First request, initializing API"),F.api(e)},layout:function(){F.is("select")&&(S.setup.select(),S.setup.returnedObject()),S.has.menu()||S.create.menu(),S.is.search()&&!S.has.search()&&(S.verbose("Adding search input"),B=e("<input />").addClass(C.search).prop("autocomplete","off").insertBefore(q)),S.is.multiple()&&S.is.searchSelection()&&!S.has.sizer()&&S.create.sizer(),k.allowTab&&S.set.tabbable()},select:function(){var t=S.get.selectValues();S.debug("Dropdown initialized on a select",t),F.is("select")&&(V=F),V.parent(j.dropdown).length>0?(S.debug("UI dropdown already exists. Creating dropdown menu only"),F=V.closest(j.dropdown),S.has.menu()||S.create.menu(),W=F.children(j.menu),S.setup.menu(t)):(S.debug("Creating entire dropdown from select"),F=e("<div />").attr("class",V.attr("class")).addClass(C.selection).addClass(C.dropdown).html(P.dropdown(t)).insertBefore(V),V.hasClass(C.multiple)&&V.prop("multiple")===!1&&(S.error(M.missingMultiple),V.prop("multiple",!0)),V.is("[multiple]")&&S.set.multiple(),V.prop("disabled")&&(S.debug("Disabling dropdown"),F.addClass(C.disabled)),V.removeAttr("class").detach().prependTo(F)),S.refresh()},menu:function(e){W.html(P.menu(e,T)),Y=W.find(j.item)},reference:function(){S.debug("Dropdown behavior was called on select, replacing with closest dropdown"),F=F.parent(j.dropdown),S.refresh(),S.setup.returnedObject(),h&&(X=S,S.invoke(f))},returnedObject:function(){var e=s.slice(0,v),t=s.slice(v+1);s=e.add(F).add(t)}},refresh:function(){S.refreshSelectors(),S.refreshData()},refreshItems:function(){Y=W.find(j.item)},refreshSelectors:function(){S.verbose("Refreshing selector cache"),q=F.find(j.text),B=F.find(j.search),V=F.find(j.input),z=F.find(j.icon),U=F.prev().find(j.text).length>0?F.prev().find(j.text):F.prev(),W=F.children(j.menu),Y=W.find(j.item)},refreshData:function(){S.verbose("Refreshing cached metadata"),Y.removeData(A.text).removeData(A.value)},clearData:function(){S.verbose("Clearing metadata"),Y.removeData(A.text).removeData(A.value),F.removeData(A.defaultText).removeData(A.defaultValue).removeData(A.placeholderText)},toggle:function(){S.verbose("Toggling menu visibility"),S.is.active()?S.hide():S.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!S.can.show()&&S.is.remote()&&(S.debug("No API results retrieved, searching before show"),S.queryRemote(S.get.query(),S.show)),S.can.show()&&!S.is.active()){if(S.debug("Showing dropdown"),!S.has.message()||S.has.maxSelections()||S.has.allResultsFiltered()||S.remove.message(),S.is.allFiltered())return!0;k.onShow.call(Q)!==!1&&S.animate.show(function(){S.can.click()&&S.bind.intent(),S.has.menuSearch()&&S.focusSearch(),S.set.visible(),t.call(Q)})}},hide:function(t){t=e.isFunction(t)?t:function(){},S.is.active()&&(S.debug("Hiding dropdown"),k.onHide.call(Q)!==!1&&S.animate.hide(function(){S.remove.visible(),t.call(Q)}))},hideOthers:function(){S.verbose("Finding other dropdowns to hide"),s.not(F).has(j.menu+"."+C.visible).dropdown("hide")},hideMenu:function(){S.verbose("Hiding menu  instantaneously"),S.remove.active(),S.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(j.item).find(j.menu);S.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&S.bind.touchEvents(),S.bind.keyboardEvents(),S.bind.inputEvents(),S.bind.mouseEvents()},touchEvents:function(){S.debug("Touch device detected binding additional touch events"),S.is.searchSelection()||S.is.single()&&F.on("touchstart"+I,S.event.test.toggle),W.on("touchstart"+I,j.item,S.event.item.mouseenter)},keyboardEvents:function(){S.verbose("Binding keyboard events"),F.on("keydown"+I,S.event.keydown),S.has.search()&&F.on(S.get.inputEvent()+I,j.search,S.event.input),S.is.multiple()&&a.on("keydown"+b,S.event.document.keydown)},inputEvents:function(){S.verbose("Binding input change events"),F.on("change"+I,j.input,S.event.change)},mouseEvents:function(){S.verbose("Binding mouse events"),S.is.multiple()&&F.on("click"+I,j.label,S.event.label.click).on("click"+I,j.remove,S.event.remove.click),S.is.searchSelection()?(F.on("mousedown"+I,S.event.mousedown).on("mouseup"+I,S.event.mouseup).on("mousedown"+I,j.menu,S.event.menu.mousedown).on("mouseup"+I,j.menu,S.event.menu.mouseup).on("click"+I,j.icon,S.event.icon.click).on("focus"+I,j.search,S.event.search.focus).on("click"+I,j.search,S.event.search.focus).on("blur"+I,j.search,S.event.search.blur).on("click"+I,j.text,S.event.text.focus),S.is.multiple()&&F.on("click"+I,S.event.click)):("click"==k.on?F.on("click"+I,j.icon,S.event.icon.click).on("click"+I,S.event.test.toggle):"hover"==k.on?F.on("mouseenter"+I,S.delay.show).on("mouseleave"+I,S.delay.hide):F.on(k.on+I,S.toggle),F.on("mousedown"+I,S.event.mousedown).on("mouseup"+I,S.event.mouseup).on("focus"+I,S.event.focus),S.has.menuSearch()?F.on("blur"+I,j.search,S.event.search.blur):F.on("blur"+I,S.event.blur)),W.on("mouseenter"+I,j.item,S.event.item.mouseenter).on("mouseleave"+I,j.item,S.event.item.mouseleave).on("click"+I,j.item,S.event.item.click)},intent:function(){S.verbose("Binding hide intent event to document"),c&&a.on("touchstart"+b,S.event.test.touch).on("touchmove"+b,S.event.test.touch),a.on("click"+b,S.event.test.hide)}},unbind:{intent:function(){S.verbose("Removing hide intent event from document"),c&&a.off("touchstart"+b).off("touchmove"+b),a.off("click"+b)}},filter:function(e){var t=e!==r?e:S.get.query(),n=function(){S.is.multiple()&&S.filterActive(),S.select.firstUnfiltered(),S.has.allResultsFiltered()?k.onNoResults.call(Q,t)?k.allowAdditions?k.hideAdditions&&(S.verbose("User addition with no menu, setting empty style"),S.set.empty(),S.hideMenu()):(S.verbose("All items filtered, showing message",t),S.add.message(E.noResults)):(S.verbose("All items filtered, hiding dropdown",t),S.hideMenu()):(S.remove.empty(),S.remove.message()),k.allowAdditions&&S.add.userSuggestion(e),S.is.searchSelection()&&S.can.show()&&S.is.focusedOnSearch()&&S.show()};k.useLabels&&S.has.maxSelections()||(k.apiSettings?S.can.useAPI()?S.queryRemote(t,function(){k.filterRemoteData&&S.filterItems(t),n()}):S.error(M.noAPI):(S.filterItems(t),n()))},queryRemote:function(t,n){var r={errorDuration:!1,cache:"local",throttle:k.throttle,urlData:{query:t},onError:function(){S.add.message(E.serverError),n()},onFailure:function(){S.add.message(E.serverError),n()},onSuccess:function(e){S.remove.message(),S.setup.menu({values:e[T.remoteValues]}),n()}};F.api("get request")||S.setup.api(),r=e.extend(!0,{},r,k.apiSettings),F.api("setting",r).api("query")},filterItems:function(t){var n=t!==r?t:S.get.query(),i=null,o=S.escape.string(n),s=new RegExp("^"+o,"igm");S.has.query()&&(i=[],S.verbose("Searching for matching values",n),Y.each(function(){var t,r,o=e(this);if("both"==k.match||"text"==k.match){if(t=String(S.get.choiceText(o,!1)),t.search(s)!==-1)return i.push(this),!0;if("exact"===k.fullTextSearch&&S.exactSearch(n,t))return i.push(this),!0;if(k.fullTextSearch===!0&&S.fuzzySearch(n,t))return i.push(this),!0;
}if("both"==k.match||"value"==k.match){if(r=String(S.get.choiceValue(o,t)),r.search(s)!==-1)return i.push(this),!0;if("exact"===k.fullTextSearch&&S.exactSearch(n,r))return i.push(this),!0;if(k.fullTextSearch===!0&&S.fuzzySearch(n,r))return i.push(this),!0}})),S.debug("Showing only matched items",n),S.remove.filteredItem(),i&&Y.not(i).addClass(C.filtered)},fuzzySearch:function(e,t){var n=t.length,r=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),r>n)return!1;if(r===n)return e===t;e:for(var i=0,o=0;i<r;i++){for(var s=e.charCodeAt(i);o<n;)if(t.charCodeAt(o++)===s)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){k.useLabels&&Y.filter("."+C.active).addClass(C.filtered)},focusSearch:function(e){S.has.search()&&!S.is.focusedOnSearch()&&(e?(F.off("focus"+I,j.search),B.focus(),F.on("focus"+I,j.search,S.event.search.focus)):B.focus())},forceSelection:function(){var e=Y.not(C.filtered).filter("."+C.selected).eq(0),t=Y.not(C.filtered).filter("."+C.active).eq(0),n=e.length>0?e:t,r=n.length>0;return r&&!S.is.multiple()?(S.debug("Forcing partial selection to selected item",n),void S.event.item.click.call(n,{},!0)):void(k.allowAdditions?(S.set.selected(S.get.query()),S.remove.searchTerm()):S.remove.searchTerm())},event:{change:function(){K||(S.debug("Input changed, updating selection"),S.set.selected())},focus:function(){k.showOnFocus&&!$&&S.is.hidden()&&!m&&S.show()},blur:function(e){m=n.activeElement===this,$||m||(S.remove.activeLabel(),S.hide())},mousedown:function(){S.is.searchSelection()?y=!0:$=!0},mouseup:function(){S.is.searchSelection()?y=!1:$=!1},click:function(t){var n=e(t.target);n.is(F)&&(S.is.focusedOnSearch()?S.show():S.focusSearch())},search:{focus:function(){$=!0,S.is.multiple()&&S.remove.activeLabel(),k.showOnFocus&&S.search()},blur:function(e){m=n.activeElement===this,y||G||m||(k.forceSelection&&S.forceSelection(),S.hide()),y=!1}},icon:{click:function(e){S.toggle()}},text:{focus:function(e){$=!0,S.focusSearch()}},input:function(e){(S.is.multiple()||S.is.searchSelection())&&S.set.filtered(),clearTimeout(S.timer),S.timer=setTimeout(S.search,k.delay.search)},label:{click:function(t){var n=e(this),r=F.find(j.label),i=r.filter("."+C.active),o=n.nextAll("."+C.active),s=n.prevAll("."+C.active),a=o.length>0?n.nextUntil(o).add(i).add(n):n.prevUntil(s).add(i).add(n);t.shiftKey?(i.removeClass(C.active),a.addClass(C.active)):t.ctrlKey?n.toggleClass(C.active):(i.removeClass(C.active),n.addClass(C.active)),k.onLabelSelect.apply(this,r.filter("."+C.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(C.active)?S.remove.activeLabels():S.remove.activeLabels(t)}},test:{toggle:function(e){var t=S.is.multiple()?S.show:S.toggle;S.is.bubbledLabelClick(e)||S.is.bubbledIconClick(e)||S.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){S.determine.eventOnElement(e,function(){"touchstart"==e.type?S.timer=setTimeout(function(){S.hide()},k.delay.touch):"touchmove"==e.type&&clearTimeout(S.timer)}),e.stopPropagation()},hide:function(e){S.determine.eventInModule(e,S.hide)}},select:{mutation:function(e){S.debug("<select> modified, recreating menu"),S.setup.select()}},menu:{mutation:function(t){var n=t[0],r=e(n.addedNodes?n.addedNodes[0]:!1),i=e(n.removedNodes?n.removedNodes[0]:!1),o=r.add(i),s=o.is(j.addition)||o.closest(j.addition).length>0,a=o.is(j.message)||o.closest(j.message).length>0;s||a?(S.debug("Updating item selector cache"),S.refreshItems()):(S.debug("Menu modified, updating selector cache"),S.refresh())},mousedown:function(){G=!0},mouseup:function(){G=!1}},item:{mouseenter:function(t){var n=e(t.target),r=e(this),i=r.children(j.menu),o=r.siblings(j.item).children(j.menu),s=i.length>0,a=i.find(n).length>0;!a&&s&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Showing sub-menu",i),e.each(o,function(){S.animate.hide(!1,e(this))}),S.animate.show(!1,i)},k.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(j.menu);n.length>0&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Hiding sub-menu",n),S.animate.hide(!1,n)},k.delay.hide))},click:function(t,n){var r=e(this),i=e(t?t.target:""),o=r.find(j.menu),s=S.get.choiceText(r),a=S.get.choiceValue(r,s),u=o.length>0,c=o.find(i).length>0;c||u&&!k.allowCategorySelection||(S.is.searchSelection()&&(k.allowAdditions&&S.remove.userAddition(),S.remove.searchTerm(),S.is.focusedOnSearch()||1==n||S.focusSearch(!0)),k.useLabels||(S.remove.filteredItem(),S.set.scrollPosition(r)),S.determine.selectAction.call(this,s,a))}},document:{keydown:function(e){var t=e.which,n=S.is.inObject(t,O);if(n){var r=F.find(j.label),i=r.filter("."+C.active),o=(i.data(A.value),r.index(i)),s=r.length,a=i.length>0,u=i.length>1,c=0===o,l=o+1==s,d=S.is.searchSelection(),f=S.is.focusedOnSearch(),h=S.is.focused(),p=f&&0===S.get.caretPosition();if(d&&!a&&!f)return;t==O.leftArrow?!h&&!p||a?a&&(e.shiftKey?S.verbose("Adding previous label to selection"):(S.verbose("Selecting previous label"),r.removeClass(C.active)),c&&!u?i.addClass(C.active):i.prev(j.siblingLabel).addClass(C.active).end(),e.preventDefault()):(S.verbose("Selecting previous label"),r.last().addClass(C.active)):t==O.rightArrow?(h&&!a&&r.first().addClass(C.active),a&&(e.shiftKey?S.verbose("Adding next label to selection"):(S.verbose("Selecting next label"),r.removeClass(C.active)),l?d?f?r.removeClass(C.active):S.focusSearch():u?i.next(j.siblingLabel).addClass(C.active):i.addClass(C.active):i.next(j.siblingLabel).addClass(C.active),e.preventDefault())):t==O.deleteKey||t==O.backspace?a?(S.verbose("Removing active labels"),l&&d&&!f&&S.focusSearch(),i.last().next(j.siblingLabel).addClass(C.active),S.remove.activeLabels(i),e.preventDefault()):p&&!a&&t==O.backspace&&(S.verbose("Removing last label on input backspace"),i=r.last().addClass(C.active),S.remove.activeLabels(i)):i.removeClass(C.active)}}},keydown:function(e){var t=e.which,n=S.is.inObject(t,O);if(n){var r,i,o=Y.not(j.unselectable).filter("."+C.selected).eq(0),s=W.children("."+C.active).eq(0),a=o.length>0?o:s,u=a.length>0?a.siblings(":not(."+C.filtered+")").addBack():W.children(":not(."+C.filtered+")"),c=a.children(j.menu),l=a.closest(j.menu),d=l.hasClass(C.visible)||l.hasClass(C.animating)||l.parent(j.menu).length>0,f=c.length>0,h=a.length>0,p=a.not(j.unselectable).length>0,v=t==O.delimiter&&k.allowAdditions&&S.is.multiple(),g=k.allowAdditions&&k.hideAdditions&&(t==O.enter||v)&&p;if(g&&(S.verbose("Selecting item from keyboard shortcut",a),S.event.item.click.call(a,e),S.is.searchSelection()&&S.remove.searchTerm()),S.is.visible()){if((t==O.enter||v)&&(t==O.enter&&h&&f&&!k.allowCategorySelection?(S.verbose("Pressed enter on unselectable category, opening sub menu"),t=O.rightArrow):p&&(S.verbose("Selecting item from keyboard shortcut",a),S.event.item.click.call(a,e),S.is.searchSelection()&&S.remove.searchTerm()),e.preventDefault()),h&&(t==O.leftArrow&&(i=l[0]!==W[0],i&&(S.verbose("Left key pressed, closing sub-menu"),S.animate.hide(!1,l),a.removeClass(C.selected),l.closest(j.item).addClass(C.selected),e.preventDefault())),t==O.rightArrow&&f&&(S.verbose("Right key pressed, opening sub-menu"),S.animate.show(!1,c),a.removeClass(C.selected),c.find(j.item).eq(0).addClass(C.selected),e.preventDefault())),t==O.upArrow){if(r=h&&d?a.prevAll(j.item+":not("+j.unselectable+")").eq(0):Y.eq(0),u.index(r)<0)return S.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();S.verbose("Up key pressed, changing active item"),a.removeClass(C.selected),r.addClass(C.selected),S.set.scrollPosition(r),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(r),e.preventDefault()}if(t==O.downArrow){if(r=h&&d?r=a.nextAll(j.item+":not("+j.unselectable+")").eq(0):Y.eq(0),0===r.length)return S.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();S.verbose("Down key pressed, changing active item"),Y.removeClass(C.selected),r.addClass(C.selected),S.set.scrollPosition(r),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(r),e.preventDefault()}t==O.pageUp&&(S.scrollPage("up"),e.preventDefault()),t==O.pageDown&&(S.scrollPage("down"),e.preventDefault()),t==O.escape&&(S.verbose("Escape key pressed, closing dropdown"),S.hide())}else v&&e.preventDefault(),t!=O.downArrow||S.is.visible()||(S.verbose("Down key pressed, showing dropdown"),S.select.firstUnfiltered(),S.show(),e.preventDefault())}else S.has.search()||S.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=V[0];t&&(S.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){S.verbose("Determining action",k.action),e.isFunction(S.action[k.action])?(S.verbose("Triggering preset action",k.action,t,n),S.action[k.action].call(Q,t,n,this)):e.isFunction(k.action)?(S.verbose("Triggering user action",k.action,t,n),k.action.call(Q,t,n,this)):S.error(M.action,k.action)},eventInModule:function(t,r){var i=e(t.target),o=i.closest(n.documentElement).length>0,s=i.closest(F).length>0;return r=e.isFunction(r)?r:function(){},o&&!s?(S.verbose("Triggering event",r),r(),!0):(S.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,r){var i=e(t.target),o=i.closest(j.siblingLabel),s=n.body.contains(t.target),a=0===F.find(o).length,u=0===i.closest(W).length;return r=e.isFunction(r)?r:function(){},s&&a&&u?(S.verbose("Triggering event",r),r(),!0):(S.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=n!==r?n:t,S.can.activate(e(i))){if(S.set.selected(n,e(i)),S.is.multiple()&&!S.is.allFiltered())return;S.hideAndClear()}},select:function(t,n,i){if(n=n!==r?n:t,S.can.activate(e(i))){if(S.set.value(n,e(i)),S.is.multiple()&&!S.is.allFiltered())return;S.hideAndClear()}},combo:function(t,n,i){n=n!==r?n:t,S.set.selected(n,e(i)),S.hideAndClear()},hide:function(e,t,n){S.set.value(t,e),S.hideAndClear()}},get:{id:function(){return w},defaultText:function(){return F.data(A.defaultText)},defaultValue:function(){return F.data(A.defaultValue)},placeholderText:function(){return F.data(A.placeholderText)||""},text:function(){return q.text()},query:function(){return e.trim(B.val())},searchWidth:function(e){return e=e!==r?e:B.val(),H.text(e),Math.ceil(H.width()+1)},selectionCount:function(){var t,n=S.get.values();return t=S.is.multiple()?e.isArray(n)?n.length:0:""!==S.get.value()?1:0},transition:function(e){return"auto"==k.transition?S.is.upward(e)?"slide up":"slide down":k.transition},userValues:function(){var t=S.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return S.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,r){return e.inArray(n,t)===r})},caretPosition:function(){var e,t,r=B.get(0);return"selectionStart"in r?r.selectionStart:n.selection?(r.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-r.value.length),e.text.length-t):void 0},value:function(){var t=V.length>0?V.val():F.data(A.value),n=e.isArray(t)&&1===t.length&&""===t[0];return t===r||n?"":t},values:function(){var e=S.get.value();return""===e?"":!S.has.selectInput()&&S.is.multiple()?"string"==typeof e?e.split(k.delimiter):"":e},remoteValues:function(){var t=S.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var r=S.read.remoteData(t);S.verbose("Restoring value from session data",r,t),r&&(n||(n={}),n[t]=r)})),n},choiceText:function(t,n){if(n=n!==r?n:k.preserveHTML,t)return t.find(j.menu).length>0&&(S.verbose("Retrieving text of element with sub-menu"),t=t.clone(),t.find(j.menu).remove(),t.find(j.menuIcon).remove()),t.data(A.text)!==r?t.data(A.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||S.get.choiceText(t),!!t&&(t.data(A.value)!==r?String(t.data(A.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=B[0];return!!e&&(e.oninput!==r?"input":e.onpropertychange!==r?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],F.find("option").each(function(){var n=e(this),i=n.html(),o=n.attr("disabled"),s=n.attr("value")!==r?n.attr("value"):i;"auto"===k.placeholder&&""===s?t.placeholder=i:t.values.push({name:i,value:s,disabled:o})}),k.placeholder&&"auto"!==k.placeholder&&(S.debug("Setting placeholder value to",k.placeholder),t.placeholder=k.placeholder),k.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),S.debug("Retrieved and sorted values from select",t)):S.debug("Retrieved values from select",t),t},activeItem:function(){return Y.filter("."+C.active)},selectedItem:function(){var e=Y.not(j.unselectable).filter("."+C.selected);return e.length>0?e:Y.eq(0)},itemWithAdditions:function(e){var t=S.get.item(e),n=S.create.userChoice(e),r=n&&n.length>0;return r&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,o,s=!1;return t=t!==r?t:S.get.values()!==r?S.get.values():S.get.text(),i=o?t.length>0:t!==r&&null!==t,o=S.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),i&&Y.each(function(){var i=e(this),a=S.get.choiceText(i),u=S.get.choiceValue(i,a);if(null!==u&&u!==r)if(o)e.inArray(String(u),t)===-1&&e.inArray(a,t)===-1||(s=s?s.add(i):i);else if(n){if(S.verbose("Ambiguous dropdown value using strict type check",i,t),u===t||a===t)return s=i,!0}else if(String(u)==String(t)||a==t)return S.verbose("Found select item by value",u,t),s=i,!0}),s}},check:{maxSelections:function(e){return!k.maxSelections||(e=e!==r?e:S.get.selectionCount(),e>=k.maxSelections?(S.debug("Maximum selection count reached"),k.useLabels&&(Y.addClass(C.filtered),S.add.message(E.maxSelections)),!0):(S.verbose("No longer at maximum selection count"),S.remove.message(),S.remove.filteredItem(),S.is.searchSelection()&&S.filterItems(),!1))}},restore:{defaults:function(){S.clear(),S.restore.defaultText(),S.restore.defaultValue()},defaultText:function(){var e=S.get.defaultText(),t=S.get.placeholderText;e===t?(S.debug("Restoring default placeholder text",e),S.set.placeholderText(e)):(S.debug("Restoring default text",e),S.set.text(e))},placeholderText:function(){S.set.placeholderText()},defaultValue:function(){var e=S.get.defaultValue();e!==r&&(S.debug("Restoring default value",e),""!==e?(S.set.value(e),S.set.selected()):(S.remove.activeItem(),S.remove.selectedItem()))},labels:function(){k.allowAdditions&&(k.useLabels||(S.error(M.labels),k.useLabels=!0),S.debug("Restoring selected values"),S.create.userLabels()),S.check.maxSelections()},selected:function(){S.restore.values(),S.is.multiple()?(S.debug("Restoring previously selected values and labels"),S.restore.labels()):S.debug("Restoring previously selected values")},values:function(){S.set.initialLoad(),k.apiSettings&&k.saveRemoteData&&S.get.remoteValues()?S.restore.remoteValues():S.set.selected(),S.remove.initialLoad()},remoteValues:function(){var t=S.get.remoteValues();S.debug("Recreating selected from session data",t),t&&(S.is.single()?e.each(t,function(e,t){S.set.text(t)}):e.each(t,function(e,t){S.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===r?void S.error(M.noStorage):(n=sessionStorage.getItem(e),n!==r&&n)}},save:{defaults:function(){S.save.defaultText(),S.save.placeholderText(),S.save.defaultValue()},defaultValue:function(){var e=S.get.value();S.verbose("Saving default value as",e),F.data(A.defaultValue,e)},defaultText:function(){var e=S.get.text();S.verbose("Saving default text as",e),F.data(A.defaultText,e)},placeholderText:function(){var e;k.placeholder!==!1&&q.hasClass(C.placeholder)&&(e=S.get.text(),S.verbose("Saving placeholder text as",e),F.data(A.placeholderText,e))},remoteData:function(e,n){return t.Storage===r?void S.error(M.noStorage):(S.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){S.is.multiple()&&k.useLabels?S.remove.labels():(S.remove.activeItem(),S.remove.selectedItem()),S.set.placeholderText(),S.clearValue()},clearValue:function(){S.set.value("")},scrollPage:function(e,t){var n,r,i,o=t||S.get.selectedItem(),s=o.closest(j.menu),a=s.outerHeight(),u=s.scrollTop(),c=Y.eq(0).outerHeight(),l=Math.floor(a/c),d=(s.prop("scrollHeight"),"up"==e?u-c*l:u+c*l),f=Y.not(j.unselectable);i="up"==e?f.index(o)-l:f.index(o)+l,n="up"==e?i>=0:i<f.length,r=n?f.eq(i):"up"==e?f.first():f.last(),r.length>0&&(S.debug("Scrolling page",e,r),o.removeClass(C.selected),r.addClass(C.selected),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(r),s.scrollTop(d))},set:{filtered:function(){var e=S.is.multiple(),t=S.is.searchSelection(),n=e&&t,r=t?S.get.query():"",i="string"==typeof r&&r.length>0,o=S.get.searchWidth(),s=""!==r;e&&i&&(S.verbose("Adjusting input width",o,k.glyphWidth),B.css("width",o)),i||n&&s?(S.verbose("Hiding placeholder text"),q.addClass(C.filtered)):(!e||n&&!s)&&(S.verbose("Showing placeholder text"),q.removeClass(C.filtered))},empty:function(){F.addClass(C.empty)},loading:function(){F.addClass(C.loading)},placeholderText:function(e){e=e||S.get.placeholderText(),S.debug("Setting placeholder text",e),S.set.text(e),q.addClass(C.placeholder)},tabbable:function(){S.is.searchSelection()?(S.debug("Added tabindex to searchable dropdown"),B.val("").attr("tabindex",0),W.attr("tabindex",-1)):(S.debug("Added tabindex to dropdown"),F.attr("tabindex")===r&&(F.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){S.verbose("Setting initial load"),g=!0},activeItem:function(e){k.allowAdditions&&e.filter(j.addition).length>0?e.addClass(C.filtered):e.addClass(C.active)},partialSearch:function(e){var t=S.get.query().length;B.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,o,s,a,u,c,l,d,f=5;e=e||S.get.selectedItem(),n=e.closest(j.menu),i=e&&e.length>0,t=t!==r&&t,e&&n.length>0&&i&&(s=e.position().top,n.addClass(C.loading),u=n.scrollTop(),a=n.offset().top,s=e.offset().top,o=u-a+s,t||(c=n.height(),d=u+c<o+f,l=o-f<u),S.debug("Scrolling to active item",o),(t||l||d)&&n.scrollTop(o),n.removeClass(C.loading))},text:function(e){"select"!==k.action&&("combo"==k.action?(S.debug("Changing combo button text",e,U),k.preserveHTML?U.html(e):U.text(e)):(e!==S.get.placeholderText()&&q.removeClass(C.placeholder),S.debug("Changing text",e,q),q.removeClass(C.filtered),k.preserveHTML?q.html(e):q.text(e)))},selectedItem:function(e){var t=S.get.choiceValue(e),n=S.get.choiceText(e,!1),r=S.get.choiceText(e,!0);S.debug("Setting user selection to item",e),S.remove.activeItem(),S.set.partialSearch(n),S.set.activeItem(e),S.set.selected(t,e),S.set.text(r)},selectedLetter:function(t){var n,r=Y.filter("."+C.selected),i=r.length>0&&S.has.firstLetter(r,t),o=!1;i&&(n=r.nextAll(Y).eq(0),S.has.firstLetter(n,t)&&(o=n)),o||Y.each(function(){if(S.has.firstLetter(e(this),t))return o=e(this),!1}),o&&(S.verbose("Scrolling to next value with letter",t),S.set.scrollPosition(o),r.removeClass(C.selected),o.addClass(C.selected),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(o))},direction:function(e){"auto"==k.direction?S.is.onScreen(e)?S.remove.upward(e):S.set.upward(e):"upward"==k.direction&&S.set.upward(e)},upward:function(e){var t=e||F;t.addClass(C.upward)},value:function(e,t,n){var i=S.escape.value(e),o=V.length>0,s=(!S.has.value(e),S.get.values()),a=e!==r?String(e):e;if(o){if(!k.allowReselection&&a==s&&(S.verbose("Skipping value update already same value",e,s),!S.is.initialLoad()))return;S.is.single()&&S.has.selectInput()&&S.can.extendSelect()&&(S.debug("Adding user option",e),S.add.optionValue(e)),S.debug("Updating input value",i,s),K=!0,V.val(i),k.fireOnInit===!1&&S.is.initialLoad()?S.debug("Input native change event ignored on initial load"):S.trigger.change(),K=!1}else S.verbose("Storing value in metadata",i,V),i!==s&&F.data(A.value,a);k.fireOnInit===!1&&S.is.initialLoad()?S.verbose("No callback on initial load",k.onChange):k.onChange.call(Q,e,t,n)},active:function(){F.addClass(C.active)},multiple:function(){F.addClass(C.multiple)},visible:function(){F.addClass(C.visible)},exactly:function(e,t){S.debug("Setting selected to exact values"),S.clear(),S.set.selected(e,t)},selected:function(t,n){var r=S.is.multiple();n=k.allowAdditions?n||S.get.itemWithAdditions(t):n||S.get.item(t),n&&(S.debug("Setting selected menu item to",n),S.is.multiple()&&S.remove.searchWidth(),S.is.single()?(S.remove.activeItem(),S.remove.selectedItem()):k.useLabels&&S.remove.selectedItem(),n.each(function(){var t=e(this),i=S.get.choiceText(t),o=S.get.choiceValue(t,i),s=t.hasClass(C.filtered),a=t.hasClass(C.active),u=t.hasClass(C.addition),c=r&&1==n.length;r?!a||u?(k.apiSettings&&k.saveRemoteData&&S.save.remoteData(i,o),k.useLabels?(S.add.value(o,i,t),S.add.label(o,i,c),S.set.activeItem(t),S.filterActive(),S.select.nextAvailable(n)):(S.add.value(o,i,t),S.set.text(S.add.variables(E.count)),S.set.activeItem(t))):s||(S.debug("Selected active value, removing label"),S.remove.selected(o)):(k.apiSettings&&k.saveRemoteData&&S.save.remoteData(i,o),S.set.text(i),S.set.value(o,i,t),t.addClass(C.active).addClass(C.selected))}))}},add:{label:function(t,n,r){var i,o=S.is.searchSelection()?B:q,s=S.escape.value(t);return i=e("<a />").addClass(C.label).attr("data-"+A.value,s).html(P.label(s,n)),i=k.onLabelCreate.call(i,s,n),S.has.label(t)?void S.debug("Label already exists, skipping",s):(k.label.variation&&i.addClass(k.label.variation),void(r===!0?(S.debug("Animating in label",i),i.addClass(C.hidden).insertBefore(o).transition(k.label.transition,k.label.duration)):(S.debug("Adding selection label",i),i.insertBefore(o))))},message:function(t){var n=W.children(j.message),r=k.templates.message(S.add.variables(t));n.length>0?n.html(r):n=e("<div/>").html(r).addClass(C.message).appendTo(W)},optionValue:function(t){var n=S.escape.value(t),r=V.find('option[value="'+S.escape.string(n)+'"]'),i=r.length>0;i||(S.disconnect.selectObserver(),S.is.single()&&(S.verbose("Removing previous user addition"),V.find("option."+C.addition).remove()),e("<option/>").prop("value",n).addClass(C.addition).html(t).appendTo(V),S.verbose("Adding user addition as an <option>",t),S.observe.select())},userSuggestion:function(e){var t,n=W.children(j.addition),r=S.get.item(e),i=r&&r.not(j.addition).length,o=n.length>0;if(!k.useLabels||!S.has.maxSelections()){if(""===e||i)return void n.remove();o?(n.data(A.value,e).data(A.text,e).attr("data-"+A.value,e).attr("data-"+A.text,e).removeClass(C.filtered),k.hideAdditions||(t=k.templates.addition(S.add.variables(E.addResult,e)),n.html(t)),S.verbose("Replacing user suggestion with new value",n)):(n=S.create.userChoice(e),n.prependTo(W),S.verbose("Adding item choice to menu corresponding with user choice addition",n)),k.hideAdditions&&!S.is.allFiltered()||n.addClass(C.selected).siblings().removeClass(C.selected),S.refreshItems()}},variables:function(e,t){var n,r,i=e.search("{count}")!==-1,o=e.search("{maxCount}")!==-1,s=e.search("{term}")!==-1;return S.verbose("Adding templated variables to message",e),i&&(n=S.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=S.get.selectionCount(),e=e.replace("{maxCount}",k.maxSelections)),s&&(r=t||S.get.query(),e=e.replace("{term}",r)),e},value:function(t,n,r){var i,o=S.get.values();return""===t?void S.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(i=o.concat([t]),i=S.get.uniqueArray(i)):i=[t],S.has.selectInput()?S.can.extendSelect()&&(S.debug("Adding value to select",t,i,V),S.add.optionValue(t)):(i=i.join(k.delimiter),S.debug("Setting hidden input to delimited value",i,V)),k.fireOnInit===!1&&S.is.initialLoad()?S.verbose("Skipping onadd callback on initial load",k.onAdd):k.onAdd.call(Q,t,n,r),S.set.value(i,t,n,r),void S.check.maxSelections())}},remove:{active:function(){F.removeClass(C.active)},activeLabel:function(){F.find(j.label).removeClass(C.active)},empty:function(){F.removeClass(C.empty)},loading:function(){F.removeClass(C.loading)},initialLoad:function(){g=!1},upward:function(e){var t=e||F;t.removeClass(C.upward)},visible:function(){F.removeClass(C.visible)},activeItem:function(){Y.removeClass(C.active)},filteredItem:function(){k.useLabels&&S.has.maxSelections()||(k.useLabels&&S.is.multiple()?Y.not("."+C.active).removeClass(C.filtered):Y.removeClass(C.filtered),S.remove.empty())},optionValue:function(e){var t=S.escape.value(e),n=V.find('option[value="'+S.escape.string(t)+'"]'),r=n.length>0;r&&n.hasClass(C.addition)&&(_&&(_.disconnect(),S.verbose("Temporarily disconnecting mutation observer")),n.remove(),S.verbose("Removing user addition as an <option>",t),_&&_.observe(V[0],{childList:!0,subtree:!0}))},message:function(){W.children(j.message).remove()},searchWidth:function(){B.css("width","")},searchTerm:function(){S.verbose("Cleared search term"),B.val(""),S.set.filtered()},userAddition:function(){Y.filter(j.addition).remove()},selected:function(t,n){return!!(n=k.allowAdditions?n||S.get.itemWithAdditions(t):n||S.get.item(t))&&void n.each(function(){var t=e(this),n=S.get.choiceText(t),r=S.get.choiceValue(t,n);S.is.multiple()?k.useLabels?(S.remove.value(r,n,t),S.remove.label(r)):(S.remove.value(r,n,t),0===S.get.selectionCount()?S.set.placeholderText():S.set.text(S.add.variables(E.count))):S.remove.value(r,n,t),t.removeClass(C.filtered).removeClass(C.active),k.useLabels&&t.removeClass(C.selected)})},selectedItem:function(){Y.removeClass(C.selected)},value:function(e,t,n){var r,i=S.get.values();S.has.selectInput()?(S.verbose("Input is <select> removing selected option",e),r=S.remove.arrayValue(e,i),S.remove.optionValue(e)):(S.verbose("Removing from delimited values",e),r=S.remove.arrayValue(e,i),r=r.join(k.delimiter)),k.fireOnInit===!1&&S.is.initialLoad()?S.verbose("No callback on initial load",k.onRemove):k.onRemove.call(Q,e,t,n),S.set.value(r,t,n),S.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),S.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=F.find(j.label),r=n.filter("[data-"+A.value+'="'+S.escape.string(e)+'"]');S.verbose("Removing label",r),r.remove()},activeLabels:function(e){e=e||F.find(j.label).filter("."+C.active),S.verbose("Removing active label selections",e),S.remove.labels(e)},labels:function(t){t=t||F.find(j.label),S.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(A.value),i=n!==r?String(n):n,o=S.is.userValue(i);return k.onLabelRemove.call(t,n)===!1?void S.debug("Label remove callback cancelled removal"):(S.remove.message(),void(o?(S.remove.value(i),S.remove.label(i)):S.remove.selected(i)))})},tabbable:function(){S.is.searchSelection()?(S.debug("Searchable dropdown initialized"),B.removeAttr("tabindex"),W.removeAttr("tabindex")):(S.debug("Simple selection dropdown initialized"),F.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{menuSearch:function(){return S.has.search()&&B.closest(W).length>0},search:function(){return B.length>0},sizer:function(){return H.length>0},selectInput:function(){return V.is("select")},minCharacters:function(e){return!k.minCharacters||(e=e!==r?String(e):String(S.get.query()),e.length>=k.minCharacters)},firstLetter:function(e,t){var n,r;return!(!e||0===e.length||"string"!=typeof t)&&(n=S.get.choiceText(e,!1),t=t.toLowerCase(),r=String(n).charAt(0).toLowerCase(),t==r)},input:function(){return V.length>0},items:function(){return Y.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(j.message).length},label:function(e){var t=S.escape.value(e),n=F.find(j.label);return n.filter("[data-"+A.value+'="'+S.escape.string(t)+'"]').length>0},maxSelections:function(){return k.maxSelections&&S.get.selectionCount()>=k.maxSelections},allResultsFiltered:function(){var e=Y.not(j.addition);return e.filter(j.unselectable).length===e.length},userSuggestion:function(){return W.children(j.addition).length>0},query:function(){return""!==S.get.query()},value:function(t){var n=S.get.values(),r=e.isArray(n)?n&&e.inArray(t,n)!==-1:n==t;return!!r}},is:{active:function(){return F.hasClass(C.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&F.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(z).length>0},alreadySetup:function(){return F.is("select")&&F.parent(j.dropdown).length>0&&0===F.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},disabled:function(){return F.hasClass(C.disabled)},focused:function(){return n.activeElement===F[0]},focusedOnSearch:function(){return n.activeElement===B[0]},allFiltered:function(){return(S.is.multiple()||S.has.search())&&!(0==k.hideAdditions&&S.has.userSuggestion())&&!S.has.message()&&S.has.allResultsFiltered()},hidden:function(e){return!S.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||W,r=!0,i={};return n.addClass(C.loading),t={context:{scrollTop:N.scrollTop(),height:N.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},i={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},i.below?(S.verbose("Dropdown can fit in context downward",i),r=!0):i.below||i.above?(S.verbose("Dropdown cannot fit below, opening upward",i),r=!1):(S.verbose("Dropdown cannot fit in either direction, favoring downward",i),r=!0),n.removeClass(C.loading),r},inObject:function(t,n){var r=!1;return e.each(n,function(e,n){if(n==t)return r=!0,!0}),r},multiple:function(){return F.hasClass(C.multiple)},remote:function(){return k.apiSettings&&S.can.useAPI()},single:function(){return!S.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,r){if(r.target&&e(r.target).is("select"))return n=!0,!0}),n},search:function(){return F.hasClass(C.search)},searchSelection:function(){return S.has.search()&&1===B.parent(j.dropdown).length},selection:function(){return F.hasClass(C.selection)},userValue:function(t){return e.inArray(t,S.get.userValues())!==-1},upward:function(e){var t=e||F;return t.hasClass(C.upward)},visible:function(e){return e?e.hasClass(C.visible):W.hasClass(C.visible)}},can:{activate:function(e){return!!k.useLabels||(!S.has.maxSelections()||!(!S.has.maxSelections()||!e.hasClass(C.active)))},click:function(){return c||"click"==k.on},extendSelect:function(){return k.allowAdditions||k.apiSettings},show:function(){return!S.is.disabled()&&(S.has.items()||S.has.message())},useAPI:function(){return e.fn.api!==r}},animate:{show:function(t,n){var i,o=n||W,s=n?function(){}:function(){S.hideSubMenus(),S.hideOthers(),S.set.active()};t=e.isFunction(t)?t:function(){},S.verbose("Doing menu show animation",o),S.set.direction(n),i=S.get.transition(n),S.is.selection()&&S.set.scrollPosition(S.get.selectedItem(),!0),(S.is.hidden(o)||S.is.animating(o))&&("none"==i?(s(),o.transition("show"),t.call(Q)):e.fn.transition!==r&&F.transition("is supported")?o.transition({animation:i+" in",debug:k.debug,verbose:k.verbose,duration:k.duration,queue:!0,onStart:s,onComplete:function(){t.call(Q)}}):S.error(M.noTransition,i))},hide:function(t,n){var i=n||W,o=(n?.9*k.duration:k.duration,n?function(){}:function(){S.can.click()&&S.unbind.intent(),S.remove.active()}),s=S.get.transition(n);t=e.isFunction(t)?t:function(){},(S.is.visible(i)||S.is.animating(i))&&(S.verbose("Doing menu hide animation",i),"none"==s?(o(),i.transition("hide"),t.call(Q)):e.fn.transition!==r&&F.transition("is supported")?i.transition({animation:s+" out",duration:k.duration,debug:k.debug,verbose:k.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==k.direction&&S.remove.upward(n),t.call(Q)}}):S.error(M.transition))}},hideAndClear:function(){S.remove.searchTerm(),S.has.maxSelections()||(S.has.search()?S.hide(function(){S.remove.filteredItem()}):S.hide())},delay:{show:function(){S.verbose("Delaying show event to ensure user intent"),clearTimeout(S.timer),S.timer=setTimeout(S.show,k.delay.show)},hide:function(){S.verbose("Delaying hide event to ensure user intent"),clearTimeout(S.timer),
S.timer=setTimeout(S.hide,k.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),r="string"==typeof t,i=!r&&!n,o=r&&t.search(R.quote)!==-1,s=[];return i||!o?t:(S.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){s.push(t.replace(R.quote,"&quot;"))}),s):t.replace(R.quote,"&quot;"))},string:function(e){return e=String(e),e.replace(R.escape,"\\$&")}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===r)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],n):k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===r)return S[t];S[t]=n}},debug:function(){!k.silent&&k.debug&&(k.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,k.name+":"),S.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),S.verbose.apply(console,arguments)))},error:function(){k.silent||(S.error=Function.prototype.bind.call(console.error,console,k.name+":"),S.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;k.performance&&(t=(new Date).getTime(),r=l||t,n=t-r,l=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Q,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=k.name+":",n=0;l=!1,clearTimeout(S.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==r||console.table!==r)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var s,a,u,c=X;return n=n||p,i=Q||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(S.error(M.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},h?(X===r&&S.initialize(),S.invoke(f)):(X!==r&&X.invoke("destroy"),S.initialize())}),o!==r?o:s},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,r=(t.values||{},"");return r+='<i class="dropdown icon"></i>',r+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',r+='<div class="menu">',e.each(t.values,function(e,t){r+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),r+="</div>"},menu:function(t,n){var r=t[n.values]||{},i="";return e.each(r,function(e,t){var r=t[n.text]?'data-text="'+t[n.text]+'"':"",o=t[n.disabled]?"disabled ":"";i+='<div class="'+o+'item" data-value="'+t[n.value]+'"'+r+">",i+=t[n.name],i+="</div>"}),i},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(n){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var f,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),p=h.selector,v=h.className,g=h.sources,m=h.error,y=h.metadata,b=h.namespace,w=h.templates,_="."+b,x="module-"+b,S=(e(t),e(this)),k=S.find(p.placeholder),C=S.find(p.icon),E=S.find(p.embed),T=this,O=S.data(x);f={initialize:function(){f.debug("Initializing embed"),f.determine.autoplay(),f.create(),f.bind.events(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),O=f,S.data(x,f)},destroy:function(){f.verbose("Destroying previous instance of embed"),f.reset(),S.removeData(x).off(_)},refresh:function(){f.verbose("Refreshing selector cache"),k=S.find(p.placeholder),C=S.find(p.icon),E=S.find(p.embed)},bind:{events:function(){f.has.placeholder()&&(f.debug("Adding placeholder events"),S.on("click"+_,p.placeholder,f.createAndShow).on("click"+_,p.icon,f.createAndShow))}},create:function(){var e=f.get.placeholder();e?f.createPlaceholder():f.createAndShow()},createPlaceholder:function(e){var t=f.get.icon(),n=f.get.url();f.generate.embed(n);e=e||f.get.placeholder(),S.html(w.placeholder(e,t)),f.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){f.refresh(),t=t||f.get.url(),E=e("<div/>").addClass(v.embed).html(f.generate.embed(t)).appendTo(S),h.onCreate.call(T,t),f.debug("Creating embed object",E)},changeEmbed:function(e){E.html(f.generate.embed(e))},createAndShow:function(){f.createEmbed(),f.show()},change:function(e,t,n){f.debug("Changing video to ",e,t,n),S.data(y.source,e).data(y.id,t),n?S.data(y.url,n):S.removeData(y.url),f.has.embed()?f.changeEmbed():f.create()},reset:function(){f.debug("Clearing embed and showing placeholder"),f.remove.active(),f.remove.embed(),f.showPlaceholder(),h.onReset.call(T)},show:function(){f.debug("Showing embed"),f.set.active(),h.onDisplay.call(T)},hide:function(){f.debug("Hiding embed"),f.showPlaceholder()},showPlaceholder:function(){f.debug("Showing placeholder image"),f.remove.active(),h.onPlaceholderDisplay.call(T)},get:{id:function(){return h.id||S.data(y.id)},placeholder:function(){return h.placeholder||S.data(y.placeholder)},icon:function(){return h.icon?h.icon:S.data(y.icon)!==r?S.data(y.icon):f.determine.icon()},source:function(e){return h.source?h.source:S.data(y.source)!==r?S.data(y.source):f.determine.source()},type:function(){var e=f.get.source();return g[e]!==r&&g[e].type},url:function(){return h.url?h.url:S.data(y.url)!==r?S.data(y.url):f.determine.url()}},determine:{autoplay:function(){f.should.autoplay()&&(h.autoplay=!0)},source:function(t){var n=!1;return t=t||f.get.url(),t&&e.each(g,function(e,r){if(t.search(r.domain)!==-1)return n=e,!1}),n},icon:function(){var e=f.get.source();return g[e]!==r&&g[e].icon},url:function(){var e,t=h.id||S.data(y.id),n=h.source||S.data(y.source);return e=g[n]!==r&&g[n].url.replace("{id}",t),e&&S.data(y.url,e),e}},set:{active:function(){S.addClass(v.active)}},remove:{active:function(){S.removeClass(v.active)},embed:function(){E.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){f.debug("Generating embed html");var t,n,r=f.get.source();return e=f.get.url(e),e?(n=f.generate.parameters(r),t=w.iframe(e,n)):f.error(m.noURL,S),t},parameters:function(t,n){var i=g[t]&&g[t].parameters!==r?g[t].parameters(h):{};return n=n||h.parameters,n&&(i=e.extend({},i,n)),i=h.onEmbed(i),f.encode.parameters(i)}},has:{embed:function(){return E.length>0},placeholder:function(){return h.placeholder||S.data(y.placeholder)}},should:{autoplay:function(){return"auto"===h.autoplay?h.placeholder||S.data(y.placeholder)!==r:h.autoplay}},is:{video:function(){return"video"==f.get.type()}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===r)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(f.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=O;return n=n||d,o=T||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(f.error(m.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},l?(O===r&&f.initialize(),f.invoke(c)):(O!==r&&O.invoke("destroy"),f.initialize())}),i!==r?i:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||r,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||r,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var n=e;return t&&(n+="?"+t),'<iframe src="'+n+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(i){var o,s=e(this),a=e(t),u=e(n),c=e("body"),l=s.selector||"",d=(new Date).getTime(),f=[],h=arguments[0],p="string"==typeof h,v=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,m,y,b,w,_,x,S,k,C=e.isPlainObject(i)?e.extend(!0,{},e.fn.modal.settings,i):e.extend({},e.fn.modal.settings),E=C.selector,T=C.className,O=C.namespace,A=C.error,D="."+O,R="module-"+O,j=e(this),M=e(C.context),P=j.find(E.close),I=this,L=j.data(R);k={initialize:function(){k.verbose("Initializing dimmer",M),k.create.id(),k.create.dimmer(),k.refreshModals(),k.bind.events(),C.observeChanges&&k.observeChanges(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of modal"),L=k,j.data(R,L)},create:{dimmer:function(){var t={debug:C.debug,dimmerName:"modals",duration:{show:C.duration,hide:C.duration}},n=e.extend(!0,t,C.dimmerSettings);return C.inverted&&(n.variation=n.variation!==r?n.variation+" inverted":"inverted"),e.fn.dimmer===r?void k.error(A.dimmer):(k.debug("Creating dimmer with settings",n),b=M.dimmer(n),C.detachable?(k.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",j)):k.set.undetached(),C.blurring&&b.addClass(T.blurring),void(w=b.dimmer("get dimmer")))},id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),_="."+x,k.verbose("Creating unique id for element",x)}},destroy:function(){k.verbose("Destroying previous modal"),j.removeData(R).off(D),a.off(_),w.off(_),P.off(D),M.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(S=new MutationObserver(function(e){k.debug("DOM tree modified, refreshing"),k.refresh()}),S.observe(I,{childList:!0,subtree:!0}),k.debug("Setting up mutation observer",S))},refresh:function(){k.remove.scrolling(),k.cacheSizes(),k.set.screenHeight(),k.set.type(),k.set.position()},refreshModals:function(){m=j.siblings(E.modal),s=m.add(j)},attachEvents:function(t,n){var r=e(t);n=e.isFunction(k[n])?k[n]:k.toggle,r.length>0?(k.debug("Attaching modal events to element",t,n),r.off(D).on("click"+D,n)):k.error(A.notFound,t)},bind:{events:function(){k.verbose("Attaching events"),j.on("click"+D,E.close,k.event.close).on("click"+D,E.approve,k.event.approve).on("click"+D,E.deny,k.event.deny),a.on("resize"+_,k.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return C.onApprove.call(I,e(this))===!1?void k.verbose("Approve callback returned false cancelling hide"):void k.hide()},deny:function(){return C.onDeny.call(I,e(this))===!1?void k.verbose("Deny callback returned false cancelling hide"):void k.hide()},close:function(){k.hide()},click:function(t){var r=e(t.target),i=r.closest(E.modal).length>0,o=e.contains(n.documentElement,t.target);!i&&o&&(k.debug("Dimmer clicked, hiding all modals"),k.is.active()&&(k.remove.clickaway(),C.allowMultiple?k.hide():k.hideAll()))},debounce:function(e,t){clearTimeout(k.timer),k.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(C.closable?(k.debug("Escape key pressed hiding modal"),k.hide()):k.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){b.dimmer("is active")&&g(k.refresh)}},toggle:function(){k.is.active()||k.is.animating()?k.hide():k.show()},show:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},k.refreshModals(),k.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},k.is.animating()||!k.is.active()?(k.showDimmer(),k.cacheSizes(),k.set.position(),k.set.screenHeight(),k.set.type(),k.set.clickaway(),!C.allowMultiple&&k.others.active()?k.hideOthers(k.showModal):(C.onShow.call(I),C.transition&&e.fn.transition!==r&&j.transition("is supported")?(k.debug("Showing modal with css animations"),j.transition({debug:C.debug,animation:C.transition+" in",queue:C.queue,duration:C.duration,useFailSafe:!0,onComplete:function(){C.onVisible.apply(I),C.keyboardShortcuts&&k.add.keyboardShortcuts(),k.save.focus(),k.set.active(),C.autofocus&&k.set.autofocus(),t()}})):k.error(A.noTransition))):k.debug("Modal is already visible")},hideModal:function(t,n){return t=e.isFunction(t)?t:function(){},k.debug("Hiding modal"),C.onHide.call(I,e(this))===!1?void k.verbose("Hide callback returned false cancelling hide"):void((k.is.animating()||k.is.active())&&(C.transition&&e.fn.transition!==r&&j.transition("is supported")?(k.remove.active(),j.transition({debug:C.debug,animation:C.transition+" out",queue:C.queue,duration:C.duration,useFailSafe:!0,onStart:function(){k.others.active()||n||k.hideDimmer(),C.keyboardShortcuts&&k.remove.keyboardShortcuts()},onComplete:function(){C.onHidden.call(I),k.restore.focus(),t()}})):k.error(A.noTransition)))},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(k.debug("Showing dimmer"),b.dimmer("show")):k.debug("Dimmer already visible")},hideDimmer:function(){return b.dimmer("is animating")||b.dimmer("is active")?void b.dimmer("hide",function(){k.remove.clickaway(),k.remove.screenHeight()}):void k.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=s.filter("."+T.active+", ."+T.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(k.debug("Hiding all visible modals"),k.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=m.filter("."+T.active+", ."+T.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(k.debug("Hiding other modals",m),n.modal("hide modal",t,!0))},others:{active:function(){return m.filter("."+T.active).length>0},animating:function(){return m.filter("."+T.animating).length>0}},add:{keyboardShortcuts:function(){k.verbose("Adding keyboard shortcuts"),u.on("keyup"+D,k.event.keyboard)}},save:{focus:function(){y=e(n.activeElement).blur()}},restore:{focus:function(){y&&y.length>0&&y.focus()}},remove:{active:function(){j.removeClass(T.active)},clickaway:function(){C.closable&&w.off("click"+_)},bodyStyle:function(){""===c.attr("style")&&(k.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){k.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){k.verbose("Removing keyboard shortcuts"),u.off("keyup"+D)},scrolling:function(){b.removeClass(T.scrolling),j.removeClass(T.scrolling)}},cacheSizes:function(){var i=j.outerHeight();k.cache!==r&&0===i||(k.cache={pageHeight:e(n).outerHeight(),height:i+C.offset,contextHeight:"body"==C.context?e(t).height():b.height()}),k.debug("Caching modal and container sizes",k.cache)},can:{fit:function(){return k.cache.height+2*C.padding<k.cache.contextHeight}},is:{active:function(){return j.hasClass(T.active)},animating:function(){return j.transition("is supported")?j.transition("is animating"):j.is(":visible")},scrolling:function(){return b.hasClass(T.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=j.find("[tabindex], :input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){C.closable&&w.on("click"+_,k.event.click)},screenHeight:function(){k.can.fit()?c.css("height",""):(k.debug("Modal is taller than page content, resizing page height"),c.css("height",k.cache.height+2*C.padding))},active:function(){j.addClass(T.active)},scrolling:function(){b.addClass(T.scrolling),j.addClass(T.scrolling)},type:function(){k.can.fit()?(k.verbose("Modal fits on screen"),k.others.active()||k.others.animating()||k.remove.scrolling()):(k.verbose("Modal cannot fit on screen setting to scrolling"),k.set.scrolling())},position:function(){k.verbose("Centering modal on page",k.cache),k.can.fit()?j.css({top:"",marginTop:-(k.cache.height/2)}):j.css({marginTop:"",top:u.scrollTop()})},undetached:function(){b.addClass(T.undetached)}},setting:function(t,n){if(k.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,C,t);else{if(n===r)return C[t];e.isPlainObject(C[t])?e.extend(!0,C[t],n):C[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===r)return k[t];k[t]=n}},debug:function(){!C.silent&&C.debug&&(C.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,C.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!C.silent&&C.verbose&&C.debug&&(C.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),k.verbose.apply(console,arguments)))},error:function(){C.silent||(k.error=Function.prototype.bind.call(console.error,console,C.name+":"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;C.performance&&(t=(new Date).getTime(),r=d||t,n=t-r,d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=C.name+":",n=0;d=!1,clearTimeout(k.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==r||console.table!==r)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,i){var s,a,u,c=L;return n=n||v,i=I||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},p?(L===r&&k.initialize(),k.invoke(h)):(L!==r&&L.invoke("destroy"),k.initialize())}),o!==r?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(n){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),h=(f.className,f.selector),p=f.error,v=f.namespace,g="."+v,m=v+"-module",y=e(this),b=(y.find(h.close),e(f.context?f.context:"body")),w=this,_=y.data(m);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};o={initialize:function(){o.verbose("Initializing element"),y.on("click"+g,h.close,o.dismiss).data(m,o),f.detachable&&y.parent()[0]!==b[0]&&y.detach().prependTo(b),f.displayTime>0&&setTimeout(o.hide,f.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),y.removeData(m).off(g)},show:function(){o.should.show()&&!y.is(":visible")&&(o.debug("Showing nag",f.animation.show),"fade"==f.animation.show?y.fadeIn(f.duration,f.easing):y.slideDown(f.duration,f.easing))},hide:function(){o.debug("Showing nag",f.animation.hide),"fade"==f.animation.show?y.fadeIn(f.duration,f.easing):y.slideUp(f.duration,f.easing)},onHide:function(){o.debug("Removing nag",f.animation.hide),y.remove(),f.onHide&&f.onHide()},dismiss:function(e){f.storageMethod&&o.storage.set(f.key,f.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return f.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(f.key)!=f.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(f.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(f.key)),!1)}},get:{storageOptions:function(){var e={};return f.expires&&(e.expires=f.expires),f.domain&&(e.domain=f.domain),f.path&&(e.path=f.path),e}},clear:function(){o.storage.remove(f.key)},storage:{set:function(n,i){var s=o.get.storageOptions();if("localstorage"==f.storageMethod&&t.localStorage!==r)t.localStorage.setItem(n,i),o.debug("Value stored using local storage",n,i);else if("sessionstorage"==f.storageMethod&&t.sessionStorage!==r)t.sessionStorage.setItem(n,i),o.debug("Value stored using session storage",n,i);else{if(e.cookie===r)return void o.error(p.noCookieStorage);e.cookie(n,i,s),o.debug("Value stored using cookie",n,i,s)}},get:function(n,i){var s;return"localstorage"==f.storageMethod&&t.localStorage!==r?s=t.localStorage.getItem(n):"sessionstorage"==f.storageMethod&&t.sessionStorage!==r?s=t.sessionStorage.getItem(n):e.cookie!==r?s=e.cookie(n):o.error(p.noCookieStorage),"undefined"!=s&&"null"!=s&&s!==r&&null!==s||(s=r),s},remove:function(n){var i=o.get.storageOptions();"localstorage"==f.storageMethod&&t.localStorage!==r?t.localStorage.removeItem(n):"sessionstorage"==f.storageMethod&&t.sessionStorage!==r?t.sessionStorage.removeItem(n):e.cookie!==r?e.removeCookie(n,i):o.error(p.noStorage)}},setting:function(t,n){if(o.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===r)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===r)return o[t];o[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,f.name+":"),o.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),o.verbose.apply(console,arguments)))},error:function(){f.silent||(o.error=Function.prototype.bind.call(console.error,console,f.name+":"),o.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;f.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(o.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,s){var a,u,c,l=_;return n=n||d,s=w||s,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var s=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[s])&&n!=a)l=l[s];else{if(l[s]!==r)return u=l[s],!1;if(!e.isPlainObject(l[i])||n==a)return l[i]!==r?(u=l[i],!1):(o.error(p.method,t),!1);l=l[i]}})),e.isFunction(u)?c=u.apply(s,n):u!==r&&(c=u),e.isArray(i)?i.push(c):i!==r?i=[i,c]:c!==r&&(i=c),u}},l?(_===r&&o.initialize(),o.invoke(c)):(_!==r&&_.invoke("destroy"),o.initialize())}),i!==r?i:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.popup=function(i){var o,s=e(this),a=e(n),u=e(t),c=e("body"),l=s.selector||"",d=!0,f=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,g=[].slice.call(arguments,1);return s.each(function(){var s,m,y,b,w,_,x=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),S=x.selector,k=x.className,C=x.error,E=x.metadata,T=x.namespace,O="."+x.namespace,A="module-"+T,D=e(this),R=e(x.context),j=e(x.scrollContext),M=e(x.boundary),P=x.target?e(x.target):D,I=0,L=!1,F=!1,N=this,q=D.data(A);_={initialize:function(){_.debug("Initializing",D),_.createID(),_.bind.events(),!_.exists()&&x.preserve&&_.create(),x.observeChanges&&_.observeChanges(),_.instantiate()},instantiate:function(){_.verbose("Storing instance",_),q=_,D.data(A,q)},observeChanges:function(){"MutationObserver"in t&&(y=new MutationObserver(_.event.documentChanged),y.observe(n,{childList:!0,subtree:!0}),_.debug("Setting up mutation observer",y))},refresh:function(){x.popup?s=e(x.popup).eq(0):x.inline&&(s=P.nextAll(S.popup).eq(0),x.popup=s),x.popup?(s.addClass(k.loading),m=_.get.offsetParent(),s.removeClass(k.loading),x.movePopup&&_.has.popup()&&_.get.offsetParent(s)[0]!==m[0]&&(_.debug("Moving popup to the same offset parent as activating element"),
s.detach().appendTo(m))):m=x.inline?_.get.offsetParent(P):_.has.popup()?_.get.offsetParent(s):c,m.is("html")&&m[0]!==c[0]&&(_.debug("Setting page as offset parent"),m=c),_.get.variation()&&_.set.variation()},reposition:function(){_.refresh(),_.set.position()},destroy:function(){_.debug("Destroying previous module"),y&&y.disconnect(),s&&!x.preserve&&_.removePopup(),clearTimeout(_.hideTimer),clearTimeout(_.showTimer),_.unbind.close(),_.unbind.events(),D.removeData(A)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(_.hideTimer),F||(_.showTimer=setTimeout(_.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(_.showTimer),_.hideTimer=setTimeout(_.hide,t)},touchstart:function(e){F=!0,_.show()},resize:function(){_.is.visible()&&_.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==N||e(t).find(N).length>0)&&(_.debug("Element removed from DOM, tearing down events"),_.destroy())})})},hideGracefully:function(t){var r=e(t.target),i=e.contains(n.documentElement,t.target),o=r.closest(S.popup).length>0;t&&!o&&i?(_.debug("Click occurred outside popup hiding popup"),_.hide()):_.debug("Click was inside popup, keeping popup open")}},create:function(){var t=_.get.html(),n=_.get.title(),r=_.get.content();t||r||n?(_.debug("Creating pop-up html"),t||(t=x.templates.popup({title:n,content:r})),s=e("<div/>").addClass(k.popup).data(E.activator,D).html(t),x.inline?(_.verbose("Inserting popup element inline",s),s.insertAfter(D)):(_.verbose("Appending popup element to body",s),s.appendTo(R)),_.refresh(),_.set.variation(),x.hoverable&&_.bind.popup(),x.onCreate.call(s,N)):0!==P.next(S.popup).length?(_.verbose("Pre-existing popup found"),x.inline=!0,x.popup=P.next(S.popup).data(E.activator,D),_.refresh(),x.hoverable&&_.bind.popup()):x.popup?(e(x.popup).data(E.activator,D),_.verbose("Used popup specified in settings"),_.refresh(),x.hoverable&&_.bind.popup()):_.debug("No content specified skipping display",N)},createID:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),b="."+w,_.verbose("Creating unique id for element",w)},toggle:function(){_.debug("Toggling pop-up"),_.is.hidden()?(_.debug("Popup is hidden, showing pop-up"),_.unbind.close(),_.show()):(_.debug("Popup is visible, hiding pop-up"),_.hide())},show:function(e){if(e=e||function(){},_.debug("Showing pop-up",x.transition),_.is.hidden()&&(!_.is.active()||!_.is.dropdown())){if(_.exists()||_.create(),x.onShow.call(s,N)===!1)return void _.debug("onShow callback returned false, cancelling popup animation");x.preserve||x.popup||_.refresh(),s&&_.set.position()&&(_.save.conditions(),x.exclusive&&_.hideAll(),_.animate.show(e))}},hide:function(e){if(e=e||function(){},_.is.visible()||_.is.animating()){if(x.onHide.call(s,N)===!1)return void _.debug("onHide callback returned false, cancelling popup animation");_.remove.visible(),_.unbind.close(),_.restore.conditions(),_.animate.hide(e)}},hideAll:function(){e(S.popup).filter("."+k.visible).each(function(){e(this).data(E.activator).popup("hide")})},exists:function(){return!!s&&(x.inline||x.popup?_.has.popup():s.closest(R).length>=1)},removePopup:function(){_.has.popup()&&!x.popup&&(_.debug("Removing popup",s),s.remove(),s=r,x.onRemove.call(s,N))},save:{conditions:function(){_.cache={title:D.attr("title")},_.cache.title&&D.removeAttr("title"),_.verbose("Saving original attributes",_.cache.title)}},restore:{conditions:function(){return _.cache&&_.cache.title&&(D.attr("title",_.cache.title),_.verbose("Restoring original attributes",_.cache.title)),!0}},supports:{svg:function(){return typeof SVGGraphicsElement===r}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&e.fn.transition!==r&&D.transition("is supported")?(_.set.visible(),s.transition({animation:x.transition+" in",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){_.bind.close(),t.call(s,N),x.onVisible.call(s,N)}})):_.error(C.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},_.debug("Hiding pop-up"),x.onHide.call(s,N)===!1?void _.debug("onHide callback returned false, cancelling popup animation"):void(x.transition&&e.fn.transition!==r&&D.transition("is supported")?s.transition({animation:x.transition+" out",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){_.reset(),t.call(s,N),x.onHidden.call(s,N)}}):_.error(C.noTransition))}},change:{content:function(e){s.html(e)}},get:{html:function(){return D.removeData(E.html),D.data(E.html)||x.html},title:function(){return D.removeData(E.title),D.data(E.title)||x.title},content:function(){return D.removeData(E.content),D.data(E.content)||D.attr("title")||x.content},variation:function(){return D.removeData(E.variation),D.data(E.variation)||x.variation},popup:function(){return s},popupOffset:function(){return s.offset()},calculations:function(){var e,n=P[0],r=M[0]==t,i=x.inline||x.popup&&x.movePopup?P.position():P.offset(),o=r?{top:0,left:0}:M.offset(),a={},c=r?{top:u.scrollTop(),left:u.scrollLeft()}:{top:0,left:0};return a={target:{element:P[0],width:P.outerWidth(),height:P.outerHeight(),top:i.top,left:i.left,margin:{}},popup:{width:s.outerWidth(),height:s.outerHeight()},parent:{width:m.outerWidth(),height:m.outerHeight()},screen:{top:o.top,left:o.left,scroll:{top:c.top,left:c.left},width:M.width(),height:M.height()}},x.setFluidWidth&&_.is.fluid()&&(a.container={width:s.parent().outerWidth()},a.popup.width=a.container.width),a.target.margin.top=x.inline?parseInt(t.getComputedStyle(n).getPropertyValue("margin-top"),10):0,a.target.margin.left=x.inline?_.is.rtl()?parseInt(t.getComputedStyle(n).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(n).getPropertyValue("margin-left"),10):0,e=a.screen,a.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},a},id:function(){return w},startEvent:function(){return"hover"==x.on?"mouseenter":"focus"==x.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==x.on?"mouseleave":"focus"==x.on&&"blur"},distanceFromBoundary:function(e,t){var n,r,i={};return t=t||_.get.calculations(),n=t.popup,r=t.boundary,e&&(i={top:e.top-r.top,left:e.left-r.left,right:r.right-(e.left+n.width),bottom:r.bottom-(e.top+n.height)},_.verbose("Distance from boundaries determined",e,i)),i},offsetParent:function(t){var n=t!==r?t[0]:D[0],i=n.parentNode,o=e(i);if(i)for(var s="none"===o.css("transform"),a="static"===o.css("position"),u=o.is("html");i&&!u&&a&&s;)i=i.parentNode,o=e(i),s="none"===o.css("transform"),a="static"===o.css("position"),u=o.is("html");return o&&o.length>0?o:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],r=t[1],i={top:"bottom",bottom:"top",left:"right",right:"left"},o={left:"center",center:"right",right:"left"},s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},a="top"==n||"bottom"==n,u=!1,c=!1,l=!1;return L||(_.verbose("All available positions available"),L=_.get.positions()),_.debug("Recording last position tried",e),L[e]=!0,"opposite"===x.prefer&&(l=[i[n],r],l=l.join(" "),u=L[l]===!0,_.debug("Trying opposite strategy",l)),"adjacent"===x.prefer&&a&&(l=[n,o[r]],l=l.join(" "),c=L[l]===!0,_.debug("Trying adjacent strategy",l)),(c||u)&&(_.debug("Using backup position",l),l=s[e]),l}},set:{position:function(e,t){if(0===P.length||0===s.length)return void _.error(C.notFound);var n,i,o,a,u,c,l,d;if(t=t||_.get.calculations(),e=e||D.data(E.position)||x.position,n=D.data(E.offset)||x.offset,i=x.distanceAway,o=t.target,a=t.popup,u=t.parent,0===o.width&&0===o.height&&!_.is.svg(o.element))return _.debug("Popup target is hidden, no action taken"),!1;switch(x.inline&&(_.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(n+=o.margin.top,i+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(n+=o.margin.left,i-=o.margin.top):(n+=o.margin.left,i+=o.margin.top)),_.debug("Determining popup position from calculations",e,t),_.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),_.debug("RTL: Popup position updated",e)),I==x.maxSearchDepth&&"string"==typeof x.lastResort&&(e=x.lastResort),e){case"top left":c={top:"auto",bottom:u.height-o.top+i,left:o.left+n,right:"auto"};break;case"top center":c={bottom:u.height-o.top+i,left:o.left+o.width/2-a.width/2+n,top:"auto",right:"auto"};break;case"top right":c={bottom:u.height-o.top+i,right:u.width-o.left-o.width-n,top:"auto",left:"auto"};break;case"left center":c={top:o.top+o.height/2-a.height/2+n,right:u.width-o.left+i,left:"auto",bottom:"auto"};break;case"right center":c={top:o.top+o.height/2-a.height/2+n,left:o.left+o.width+i,bottom:"auto",right:"auto"};break;case"bottom left":c={top:o.top+o.height+i,left:o.left+n,bottom:"auto",right:"auto"};break;case"bottom center":c={top:o.top+o.height+i,left:o.left+o.width/2-a.width/2+n,bottom:"auto",right:"auto"};break;case"bottom right":c={top:o.top+o.height+i,right:u.width-o.left-o.width-n,left:"auto",bottom:"auto"}}if(c===r&&_.error(C.invalidPosition,e),_.debug("Calculated popup positioning values",c),s.css(c).removeClass(k.position).addClass(e).addClass(k.loading),l=_.get.popupOffset(),d=_.get.distanceFromBoundary(l,t),_.is.offstage(d,e)){if(_.debug("Position is outside viewport",e),I<x.maxSearchDepth)return I++,e=_.get.nextPosition(e),_.debug("Trying new position",e),!!s&&_.set.position(e,t);if(!x.lastResort)return _.debug("Popup could not find a position to display",s),_.error(C.cannotPlace,N),_.remove.attempts(),_.remove.loading(),_.reset(),x.onUnplaceable.call(s,N),!1;_.debug("No position found, showing with last position")}return _.debug("Position is on stage",e),_.remove.attempts(),_.remove.loading(),x.setFluidWidth&&_.is.fluid()&&_.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||_.get.calculations(),_.debug("Automatically setting element width to parent width",e.parent.width),s.css("width",e.container.width)},variation:function(e){e=e||_.get.variation(),e&&_.has.popup()&&(_.verbose("Adding variation to popup",e),s.addClass(e))},visible:function(){D.addClass(k.visible)}},remove:{loading:function(){s.removeClass(k.loading)},variation:function(e){e=e||_.get.variation(),e&&(_.verbose("Removing variation",e),s.removeClass(e))},visible:function(){D.removeClass(k.visible)},attempts:function(){_.verbose("Resetting all searched positions"),I=0,L=!1}},bind:{events:function(){_.debug("Binding popup events to module"),"click"==x.on&&D.on("click"+O,_.toggle),"hover"==x.on&&d&&D.on("touchstart"+O,_.event.touchstart),_.get.startEvent()&&D.on(_.get.startEvent()+O,_.event.start).on(_.get.endEvent()+O,_.event.end),x.target&&_.debug("Target set to element",P),u.on("resize"+b,_.event.resize)},popup:function(){_.verbose("Allowing hover events on popup to prevent closing"),s&&_.has.popup()&&s.on("mouseenter"+O,_.event.start).on("mouseleave"+O,_.event.end)},close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&j.one(_.get.scrollEvent()+b,_.event.hideGracefully),"hover"==x.on&&F&&(_.verbose("Binding popup close event to document"),a.on("touchstart"+b,function(e){_.verbose("Touched away from popup"),_.event.hideGracefully.call(N,e)})),"click"==x.on&&x.closable&&(_.verbose("Binding popup close event to document"),a.on("click"+b,function(e){_.verbose("Clicked away from popup"),_.event.hideGracefully.call(N,e)}))}},unbind:{events:function(){u.off(b),D.off(O)},close:function(){a.off(b),j.off(b)}},has:{popup:function(){return s&&s.length>0}},is:{offstage:function(t,n){var r=[];return e.each(t,function(e,t){t<-x.jitter&&(_.debug("Position exceeds allowable distance from edge",e,t,n),r.push(e))}),r.length>0},svg:function(e){return _.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return D.hasClass(k.active)},animating:function(){return s!==r&&s.hasClass(k.animating)},fluid:function(){return s!==r&&s.hasClass(k.fluid)},visible:function(){return s!==r&&s.hasClass(k.visible)},dropdown:function(){return D.hasClass(k.dropdown)},hidden:function(){return!_.is.visible()},rtl:function(){return"rtl"==D.css("direction")}},reset:function(){_.remove.visible(),x.preserve?e.fn.transition!==r&&s.transition("remove transition"):_.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===r)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===r)return _[t];_[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,x.name+":"),_.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),_.verbose.apply(console,arguments)))},error:function(){x.silent||(_.error=Function.prototype.bind.call(console.error,console,x.name+":"),_.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;x.performance&&(t=(new Date).getTime(),r=f||t,n=t-r,f=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=x.name+":",n=0;f=!1,clearTimeout(_.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,i){var s,a,u,c=q;return n=n||g,i=N||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},v?(q===r&&_.initialize(),_.invoke(p)):(q!==r&&q.invoke("destroy"),_.initialize())}),o!==r?o:this},e.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:t,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:t,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=function(e){return r[e]};return n.test(e)?e.replace(t,i):e},popup:function(t){var n="",i=e.fn.popup.settings.templates.escape;return typeof t!==r&&(typeof t.title!==r&&t.title&&(t.title=i(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==r&&t.content&&(t.content=i(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.fn.progress=function(t){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,f,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),p=h.className,v=h.metadata,g=h.namespace,m=h.selector,y=h.error,b="."+g,w="module-"+g,_=e(this),x=e(this).find(m.bar),S=e(this).find(m.progress),k=e(this).find(m.label),C=this,E=_.data(w),T=!1;f={initialize:function(){f.debug("Initializing progress bar",h),f.set.duration(),f.set.transitionEvent(),f.read.metadata(),f.read.settings(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of progress",f),E=f,_.data(w,f)},destroy:function(){f.verbose("Destroying previous progress for",_),clearInterval(E.interval),f.remove.state(),_.removeData(w),E=r},reset:function(){f.remove.nextValue(),f.update.progress(0)},complete:function(){(f.percent===r||f.percent<100)&&(f.remove.progressPoll(),f.set.percent(100))},read:{metadata:function(){var e={percent:_.data(v.percent),total:_.data(v.total),value:_.data(v.value)};e.percent&&(f.debug("Current percent value set from metadata",e.percent),f.set.percent(e.percent)),e.total&&(f.debug("Total value set from metadata",e.total),f.set.total(e.total)),e.value&&(f.debug("Current value set from metadata",e.value),f.set.value(e.value),f.set.progress(e.value))},settings:function(){h.total!==!1&&(f.debug("Current total set in settings",h.total),f.set.total(h.total)),h.value!==!1&&(f.debug("Current value set in settings",h.value),f.set.value(h.value),f.set.progress(f.value)),h.percent!==!1&&(f.debug("Current percent set in settings",h.percent),f.set.percent(h.percent))}},bind:{transitionEnd:function(e){var t=f.get.transitionEnd();x.one(t+b,function(t){clearTimeout(f.failSafeTimer),e.call(this,t)}),f.failSafeTimer=setTimeout(function(){x.triggerHandler(t)},h.duration+h.failSafeDelay),f.verbose("Adding fail safe timer",f.timer)}},increment:function(e){var t,n,r;f.has.total()?(n=f.get.value(),e=e||1,r=n+e):(n=f.get.percent(),e=e||f.get.randomValue(),r=n+e,t=100,f.debug("Incrementing percentage by",n,r)),r=f.get.normalizedValue(r),f.set.progress(r)},decrement:function(e){var t,n,r=f.get.total();r?(t=f.get.value(),e=e||1,n=t-e,f.debug("Decrementing value by",e,t)):(t=f.get.percent(),e=e||f.get.randomValue(),n=t-e,f.debug("Decrementing percentage by",e,t)),n=f.get.normalizedValue(n),f.set.progress(n)},has:{progressPoll:function(){return f.progressPoll},total:function(){return f.get.total()!==!1}},get:{text:function(e){var t=f.value||0,n=f.total||0,r=T?f.get.displayPercent():f.percent||0,i=f.total>0?n-t:100-r;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",i).replace("{percent}",r),f.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return f.debug("Value cannot decrement below 0"),0;if(f.has.total()){if(e>f.total)return f.debug("Value cannot increment above total",f.total),f.total}else if(e>100)return f.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==h.updateInterval?h.duration:h.updateInterval},randomValue:function(){return f.debug("Generating random increment percentage"),Math.floor(Math.random()*h.random.max+h.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==r)return i[e]},displayPercent:function(){var e=x.width(),t=_.width(),n=parseInt(x.css("min-width"),10),r=e>n?e/t*100:f.percent;return h.precision>0?Math.round(r*(10*h.precision))/(10*h.precision):Math.round(r)},percent:function(){return f.percent||0},value:function(){return f.nextValue||f.value||0},total:function(){return f.total||!1}},create:{progressPoll:function(){f.progressPoll=setTimeout(function(){f.update.toNextValue(),f.remove.progressPoll()},f.get.updateInterval())}},is:{complete:function(){return f.is.success()||f.is.warning()||f.is.error()},success:function(){return _.hasClass(p.success)},warning:function(){return _.hasClass(p.warning)},error:function(){return _.hasClass(p.error)},active:function(){return _.hasClass(p.active)},visible:function(){return _.is(":visible")}},remove:{progressPoll:function(){f.verbose("Removing progress poll timer"),f.progressPoll&&(clearTimeout(f.progressPoll),delete f.progressPoll)},nextValue:function(){f.verbose("Removing progress value stored for next update"),delete f.nextValue},state:function(){f.verbose("Removing stored state"),delete f.total,delete f.percent,delete f.value},active:function(){f.verbose("Removing active state"),_.removeClass(p.active)},success:function(){f.verbose("Removing success state"),_.removeClass(p.success)},warning:function(){f.verbose("Removing warning state"),_.removeClass(p.warning)},error:function(){f.verbose("Removing error state"),_.removeClass(p.error)}},set:{barWidth:function(e){e>100?f.error(y.tooHigh,e):e<0?f.error(y.tooLow,e):(x.css("width",e+"%"),_.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||h.duration,e="number"==typeof e?e+"ms":e,f.verbose("Setting progress bar transition duration",e),x.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=h.precision>0?Math.round(e*(10*h.precision))/(10*h.precision):Math.round(e),f.percent=e,f.has.total()||(f.value=h.precision>0?Math.round(e/100*f.total*(10*h.precision))/(10*h.precision):Math.round(e/100*f.total*10)/10,h.limitValues&&(f.value=f.value>100?100:f.value<0?0:f.value)),f.set.barWidth(e),f.set.labelInterval(),f.set.labels(),h.onChange.call(C,e,f.value,f.total)},labelInterval:function(){var t=function(){f.verbose("Bar finished animating, removing continuous label updates"),clearInterval(f.interval),T=!1,f.set.labels()};clearInterval(f.interval),f.bind.transitionEnd(t),T=!0,f.interval=setInterval(function(){var t=e.contains(n.documentElement,C);t||(clearInterval(f.interval),T=!1),f.set.labels()},h.framerate)},labels:function(){f.verbose("Setting both bar progress and outer label text"),f.set.barLabel(),f.set.state()},label:function(e){e=e||"",e&&(e=f.get.text(e),f.verbose("Setting label to text",e),k.text(e))},state:function(e){e=e!==r?e:f.percent,100===e?h.autoSuccess&&!(f.is.warning()||f.is.error()||f.is.success())?(f.set.success(),f.debug("Automatically triggering success at 100%")):(f.verbose("Reached 100% removing active state"),f.remove.active(),f.remove.progressPoll()):e>0?(f.verbose("Adjusting active progress bar label",e),f.set.active()):(f.remove.active(),f.set.label(h.text.active))},barLabel:function(e){e!==r?S.text(f.get.text(e)):"ratio"==h.label&&f.total?(f.verbose("Adding ratio to bar label"),S.text(f.get.text(h.text.ratio))):"percent"==h.label&&(f.verbose("Adding percentage to bar label"),S.text(f.get.text(h.text.percent)))},active:function(e){e=e||h.text.active,f.debug("Setting active state"),h.showActivity&&!f.is.active()&&_.addClass(p.active),f.remove.warning(),f.remove.error(),f.remove.success(),e=h.onLabelUpdate("active",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){h.onActive.call(C,f.value,f.total)})},success:function(e){e=e||h.text.success||h.text.active,f.debug("Setting success state"),_.addClass(p.success),f.remove.active(),f.remove.warning(),f.remove.error(),f.complete(),h.text.success?(e=h.onLabelUpdate("success",e,f.value,f.total),f.set.label(e)):(e=h.onLabelUpdate("active",e,f.value,f.total),f.set.label(e)),f.bind.transitionEnd(function(){h.onSuccess.call(C,f.total)})},warning:function(e){e=e||h.text.warning,f.debug("Setting warning state"),_.addClass(p.warning),f.remove.active(),f.remove.success(),f.remove.error(),f.complete(),e=h.onLabelUpdate("warning",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){h.onWarning.call(C,f.value,f.total)})},error:function(e){e=e||h.text.error,f.debug("Setting error state"),_.addClass(p.error),f.remove.active(),f.remove.success(),f.remove.warning(),f.complete(),e=h.onLabelUpdate("error",e,f.value,f.total),e&&f.set.label(e),f.bind.transitionEnd(function(){h.onError.call(C,f.value,f.total)})},transitionEvent:function(){o=f.get.transitionEnd()},total:function(e){f.total=e},value:function(e){f.value=e},progress:function(e){f.has.progressPoll()?(f.debug("Updated within interval, setting next update to use new value",e),f.set.nextValue(e)):(f.debug("First update in progress update interval, immediately updating",e),f.update.progress(e),f.create.progressPoll())},nextValue:function(e){f.nextValue=e}},update:{toNextValue:function(){var e=f.nextValue;e&&(f.debug("Update interval complete using last updated value",e),f.update.progress(e),f.remove.nextValue())},progress:function(e){var t;e=f.get.numericValue(e),e===!1&&f.error(y.nonNumeric,e),e=f.get.normalizedValue(e),f.has.total()?(f.set.value(e),t=e/f.total*100,f.debug("Calculating percent complete from total",t),f.set.percent(t)):(t=e,f.debug("Setting value to exact percentage value",t),f.set.percent(t))}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===r)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(f.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=E;return n=n||d,o=C||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(f.error(y.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},l?(E===r&&f.initialize(),f.invoke(c)):(E!==r&&E.invoke("destroy"),f.initialize())}),i!==r?i:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,r){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.rating=function(t){var n,i=e(this),o=i.selector||"",s=(new Date).getTime(),a=[],u=arguments[0],c="string"==typeof u,l=[].slice.call(arguments,1);return i.each(function(){var d,f,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),p=h.namespace,v=h.className,g=h.metadata,m=h.selector,y=(h.error,"."+p),b="module-"+p,w=this,_=e(this).data(b),x=e(this),S=x.find(m.icon);f={initialize:function(){f.verbose("Initializing rating module",h),0===S.length&&f.setup.layout(),h.interactive?f.enable():f.disable(),f.set.initialLoad(),f.set.rating(f.get.initialRating()),f.remove.initialLoad(),f.instantiate()},instantiate:function(){f.verbose("Instantiating module",h),_=f,x.data(b,f)},destroy:function(){f.verbose("Destroying previous instance",_),f.remove.events(),x.removeData(b)},refresh:function(){S=x.find(m.icon)},setup:{layout:function(){var t=f.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);f.debug("Generating icon html dynamically"),x.html(n),f.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(v.selected),x.addClass(v.selected),t.addClass(v.selected).prevAll().addClass(v.selected)},mouseleave:function(){x.removeClass(v.selected),S.removeClass(v.selected)},click:function(){var t=e(this),n=f.get.rating(),r=S.index(t)+1,i="auto"==h.clearable?1===S.length:h.clearable;i&&n==r?f.clearRating():f.set.rating(r)}},clearRating:function(){f.debug("Clearing current rating"),f.set.rating(0)},bind:{events:function(){f.verbose("Binding events"),x.on("mouseenter"+y,m.icon,f.event.mouseenter).on("mouseleave"+y,m.icon,f.event.mouseleave).on("click"+y,m.icon,f.event.click)}},remove:{events:function(){f.verbose("Removing events"),x.off(y)},initialLoad:function(){d=!1}},enable:function(){f.debug("Setting rating to interactive mode"),f.bind.events(),x.removeClass(v.disabled)},disable:function(){f.debug("Setting rating to read-only mode"),f.remove.events(),x.addClass(v.disabled)},is:{initialLoad:function(){return d}},get:{initialRating:function(){return x.data(g.rating)!==r?(x.removeData(g.rating),x.data(g.rating)):h.initialRating},maxRating:function(){return x.data(g.maxRating)!==r?(x.removeData(g.maxRating),x.data(g.maxRating)):h.maxRating},rating:function(){var e=S.filter("."+v.active).length;return f.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=S.eq(t);x.removeClass(v.selected),S.removeClass(v.selected).removeClass(v.active),e>0&&(f.verbose("Setting current rating to",e),n.prevAll().addBack().addClass(v.active)),f.is.initialLoad()||h.onRate.call(w,e)},initialLoad:function(){d=!0}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===r)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),
f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),i.length>1&&(t+=" ("+i.length+")"),(console.group!==r||console.table!==r)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var s,a,u,c=_;return i=i||l,o=w||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,i):a!==r&&(u=a),e.isArray(n)?n.push(u):n!==r?n=[n,u]:u!==r&&(n=u),a}},c?(_===r&&f.initialize(),f.invoke(u)):(_!==r&&_.invoke("destroy"),f.initialize())}),n!==r?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";t<=e;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(i){var o,s=e(this),a=s.selector||"",u=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,f=[].slice.call(arguments,1);return e(this).each(function(){var h,p=e.isPlainObject(i)?e.extend(!0,{},e.fn.search.settings,i):e.extend({},e.fn.search.settings),v=p.className,g=p.metadata,m=p.regExp,y=p.fields,b=p.selector,w=p.error,_=p.namespace,x="."+_,S=_+"-module",k=e(this),C=k.find(b.prompt),E=k.find(b.searchButton),T=k.find(b.results),O=k.find(b.result),A=k.find(b.category),D=this,R=k.data(S),j=!1,M=!1;h={initialize:function(){h.verbose("Initializing module"),h.determine.searchFields(),h.bind.events(),h.set.type(),h.create.results(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),R=h,k.data(S,h)},destroy:function(){h.verbose("Destroying instance"),k.off(x).removeData(S)},refresh:function(){h.debug("Refreshing selector cache"),C=k.find(b.prompt),E=k.find(b.searchButton),A=k.find(b.category),T=k.find(b.results),O=k.find(b.result)},refreshResults:function(){T=k.find(b.results),O=k.find(b.result)},bind:{events:function(){h.verbose("Binding events to search"),p.automatic&&(k.on(h.get.inputEvent()+x,b.prompt,h.event.input),C.attr("autocomplete","off")),k.on("focus"+x,b.prompt,h.event.focus).on("blur"+x,b.prompt,h.event.blur).on("keydown"+x,b.prompt,h.handleKeyboard).on("click"+x,b.searchButton,h.query).on("mousedown"+x,b.results,h.event.result.mousedown).on("mouseup"+x,b.results,h.event.result.mouseup).on("click"+x,b.result,h.event.result.click)}},determine:{searchFields:function(){i&&i.searchFields!==r&&(p.searchFields=i.searchFields)}},event:{input:function(){clearTimeout(h.timer),h.timer=setTimeout(h.query,p.searchDelay)},focus:function(){h.set.focus(),p.searchOnFocus&&h.has.minimumCharacters()&&h.query(function(){h.can.show()&&h.showResults()})},blur:function(e){var t=n.activeElement===this,r=function(){h.cancel.query(),h.remove.focus(),h.timer=setTimeout(h.hideResults,p.hideDelay)};t||(M=!1,h.resultsClicked?(h.debug("Determining if user action caused search to close"),k.one("click.close"+x,b.results,function(e){return h.is.inMessage(e)||j?void C.focus():(j=!1,void(h.is.animating()||h.is.hidden()||r()))})):(h.debug("Input blurred without user action, closing results"),r()))},result:{mousedown:function(){h.resultsClicked=!0},mouseup:function(){h.resultsClicked=!1},click:function(n){h.debug("Search result selected");var r=e(this),i=r.find(b.title).eq(0),o=r.is("a[href]")?r:r.find("a[href]").eq(0),s=o.attr("href")||!1,a=o.attr("target")||!1,u=(i.html(),i.length>0&&i.text()),c=h.get.results(),l=r.data(g.result)||h.get.result(u,c);return e.isFunction(p.onSelect)&&p.onSelect.call(D,l,c)===!1?(h.debug("Custom onSelect callback cancelled default select action"),void(j=!0)):(h.hideResults(),u&&h.set.value(u),void(s&&(h.verbose("Opening search link found in result",o),"_blank"==a||n.ctrlKey?t.open(s):t.location.href=s)))}}},handleKeyboard:function(e){var t,n=k.find(b.result),r=k.find(b.category),i=n.filter("."+v.active),o=n.index(i),s=n.length,a=i.length>0,u=e.which,c={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(u==c.escape&&(h.verbose("Escape key pressed, blurring search field"),h.hideResults(),M=!0),h.is.visible())if(u==c.enter){if(h.verbose("Enter key pressed, selecting active result"),n.filter("."+v.active).length>0)return h.event.result.click.call(n.filter("."+v.active),e),e.preventDefault(),!1}else u==c.upArrow&&a?(h.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,r.removeClass(v.active),n.removeClass(v.active).eq(t).addClass(v.active).closest(r).addClass(v.active),e.preventDefault()):u==c.downArrow&&(h.verbose("Down key pressed, changing active result"),t=o+1>=s?o:o+1,r.removeClass(v.active),n.removeClass(v.active).eq(t).addClass(v.active).closest(r).addClass(v.active),e.preventDefault());else u==c.enter&&(h.verbose("Enter key pressed, executing query"),h.query(),h.set.buttonPressed(),C.one("keyup",h.remove.buttonFocus))},setup:{api:function(t,n){var r={debug:p.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function(e){h.parse.response.call(D,e,t),n()},onFailure:function(){h.displayMessage(w.serverError),n()},onAbort:function(e){},onError:h.error};e.extend(!0,r,p.apiSettings),h.verbose("Setting up API request",r),k.api(r)}},can:{useAPI:function(){return e.fn.api!==r},show:function(){return h.is.focused()&&!h.is.visible()&&!h.is.empty()},transition:function(){return p.transition&&e.fn.transition!==r&&k.transition("is supported")}},is:{animating:function(){return T.hasClass(v.animating)},hidden:function(){return T.hasClass(v.hidden)},inMessage:function(t){if(t.target){var r=e(t.target),i=e.contains(n.documentElement,t.target);return i&&r.closest(b.message).length>0}},empty:function(){return""===T.html()},visible:function(){return T.filter(":visible").length>0},focused:function(){return C.filter(":focus").length>0}},get:{inputEvent:function(){var e=C[0],t=e!==r&&e.oninput!==r?"input":e!==r&&e.onpropertychange!==r?"propertychange":"keyup";return t},value:function(){return C.val()},results:function(){var e=k.data(g.results);return e},result:function(t,n){var i=["title","id"],o=!1;return t=t!==r?t:h.get.value(),n=n!==r?n:h.get.results(),"category"===p.type?(h.debug("Finding result that matches",t),e.each(n,function(n,r){if(e.isArray(r.results)&&(o=h.search.object(t,r.results,i)[0]))return!1})):(h.debug("Finding result in results object",t),o=h.search.object(t,n,i)[0]),o||!1}},select:{firstResult:function(){h.verbose("Selecting first result"),O.first().addClass(v.active)}},set:{focus:function(){k.addClass(v.focus)},loading:function(){k.addClass(v.loading)},value:function(e){h.verbose("Setting search input value",e),C.val(e)},type:function(e){e=e||p.type,"category"==p.type&&k.addClass(p.type)},buttonPressed:function(){E.addClass(v.pressed)}},remove:{loading:function(){k.removeClass(v.loading)},focus:function(){k.removeClass(v.focus)},buttonPressed:function(){E.removeClass(v.pressed)}},query:function(t){t=e.isFunction(t)?t:function(){};var n=h.get.value(),r=h.read.cache(n);t=t||function(){},h.has.minimumCharacters()?(r?(h.debug("Reading result from cache",n),h.save.results(r.results),h.addResults(r.html),h.inject.id(r.results),t()):(h.debug("Querying for",n),e.isPlainObject(p.source)||e.isArray(p.source)?(h.search.local(n),t()):h.can.useAPI()?h.search.remote(n,t):(h.error(w.source),t())),p.onSearchQuery.call(D,n)):h.hideResults()},search:{local:function(e){var t,n=h.search.object(e,p.content);h.set.loading(),h.save.results(n),h.debug("Returned local search results",n),t=h.generateResults({results:n}),h.remove.loading(),h.addResults(t),h.inject.id(n),h.write.cache(e,{html:t,results:n})},remote:function(t,n){n=e.isFunction(n)?n:function(){},k.api("is loading")&&k.api("abort"),h.setup.api(t,n),k.api("query")},object:function(t,n,i){var o=[],s=[],a=t.toString().replace(m.escape,"\\$&"),u=new RegExp(m.beginsWith+a,"i"),c=function(t,n){var r=e.inArray(n,o)==-1,i=e.inArray(n,s)==-1;r&&i&&t.push(n)};return n=n||p.source,i=i!==r?i:p.searchFields,e.isArray(i)||(i=[i]),n===r||n===!1?(h.error(w.source),[]):(e.each(i,function(r,i){e.each(n,function(e,n){var r="string"==typeof n[i];r&&(n[i].search(u)!==-1?c(o,n):p.searchFullText&&h.fuzzySearch(t,n[i])&&c(s,n))})}),e.merge(o,s))}},fuzzySearch:function(e,t){var n=t.length,r=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),r>n)return!1;if(r===n)return e===t;e:for(var i=0,o=0;i<r;i++){for(var s=e.charCodeAt(i);o<n;)if(t.charCodeAt(o++)===s)continue e;return!1}return!0},parse:{response:function(e,t){var n=h.generateResults(e);h.verbose("Parsing server response",e),e!==r&&t!==r&&e[y.results]!==r&&(h.addResults(n),h.inject.id(e[y.results]),h.write.cache(t,{html:n,results:e[y.results]}),h.save.results(e[y.results]))}},cancel:{query:function(){h.can.useAPI()&&k.api("abort")}},has:{minimumCharacters:function(){var e=h.get.value(),t=e.length;return t>=p.minCharacters},results:function(){if(0===T.length)return!1;var e=T.html();return""!=e}},clear:{cache:function(e){var t=k.data(g.cache);e?e&&t&&t[e]&&(h.debug("Removing value from cache",e),delete t[e],k.data(g.cache,t)):(h.debug("Clearing cache",e),k.removeData(g.cache))}},read:{cache:function(e){var t=k.data(g.cache);return!!p.cache&&(h.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==r&&t[e])}},create:{id:function(e,t){var n,i,o=e+1;return t!==r?(n=String.fromCharCode(97+t),i=n+o,h.verbose("Creating category result id",i)):(i=o,h.verbose("Creating result id",i)),i},results:function(){0===T.length&&(T=e("<div />").addClass(v.results).appendTo(k))}},inject:{result:function(e,t,n){h.verbose("Injecting result into results");var i=n!==r?T.children().eq(n).children(b.result).eq(t):T.children(b.result).eq(t);h.verbose("Injecting results metadata",i),i.data(g.result,e)},id:function(t){h.debug("Injecting unique ids into results");var n=0,i=0;return"category"===p.type?e.each(t,function(t,o){i=0,e.each(o.results,function(e,t){var s=o.results[e];s.id===r&&(s.id=h.create.id(i,n)),h.inject.result(s,i,n),i++}),n++}):e.each(t,function(e,n){var o=t[e];o.id===r&&(o.id=h.create.id(i)),h.inject.result(o,i),i++}),t}},save:{results:function(e){h.verbose("Saving current search results to metadata",e),k.data(g.results,e)}},write:{cache:function(e,t){var n=k.data(g.cache)!==r?k.data(g.cache):{};p.cache&&(h.verbose("Writing generated html to cache",e,t),n[e]=t,k.data(g.cache,n))}},addResults:function(t){return e.isFunction(p.onResultsAdd)&&p.onResultsAdd.call(T,t)===!1?(h.debug("onResultsAdd callback cancelled default action"),!1):void(t?(T.html(t),h.refreshResults(),p.selectFirstResult&&h.select.firstResult(),h.showResults()):h.hideResults(function(){T.empty()}))},showResults:function(t){t=e.isFunction(t)?t:function(){},M||!h.is.visible()&&h.has.results()&&(h.can.transition()?(h.debug("Showing results with css animations"),T.transition({animation:p.transition+" in",debug:p.debug,verbose:p.verbose,duration:p.duration,onComplete:function(){t()},queue:!0})):(h.debug("Showing results with javascript"),T.stop().fadeIn(p.duration,p.easing)),p.onResultsOpen.call(T))},hideResults:function(t){t=e.isFunction(t)?t:function(){},h.is.visible()&&(h.can.transition()?(h.debug("Hiding results with css animations"),T.transition({animation:p.transition+" out",debug:p.debug,verbose:p.verbose,duration:p.duration,onComplete:function(){t()},queue:!0})):(h.debug("Hiding results with javascript"),T.stop().fadeOut(p.duration,p.easing)),p.onResultsClose.call(T))},generateResults:function(t){h.debug("Generating html from response",t);var n=p.templates[p.type],r=e.isPlainObject(t[y.results])&&!e.isEmptyObject(t[y.results]),i=e.isArray(t[y.results])&&t[y.results].length>0,o="";return r||i?(p.maxResults>0&&(r?"standard"==p.type&&h.error(w.maxResults):t[y.results]=t[y.results].slice(0,p.maxResults)),e.isFunction(n)?o=n(t,y):h.error(w.noTemplate,!1)):p.showNoResults&&(o=h.displayMessage(w.noResults,"empty")),p.onResults.call(D,t),o},displayMessage:function(e,t){return t=t||"standard",h.debug("Displaying message",e,t),h.addResults(p.templates.message(e,t)),p.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];h[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",n=0;u=!1,clearTimeout(h.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),s.length>1&&(t+=" ("+s.length+")"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var s,a,u,c=R;return n=n||f,i=D||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},d?(R===r&&h.initialize(),h.invoke(l)):(R!==r&&R.invoke("destroy"),h.initialize())}),o!==r?o:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=function(e){return r[e]};return n.test(e)?e.replace(t,i):e},message:function(e,t){var n="";return e!==r&&t!==r&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var i="";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==r&&(e.each(t[n.categoryResults],function(t,o){o[n.results]!==r&&o.results.length>0&&(i+='<div class="category">',o[n.categoryName]!==r&&(i+='<div class="name">'+o[n.categoryName]+"</div>"),e.each(o.results,function(e,t){i+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==r&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==r&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==r&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==r&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>")}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)},standard:function(t,n){var i="";return t[n.results]!==r&&(e.each(t[n.results],function(e,t){i+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==r&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==r&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==r&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==r&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.shape=function(i){var o,s=e(this),a=(e("body"),(new Date).getTime()),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var t,h,p,v=s.selector||"",g=e.isPlainObject(i)?e.extend(!0,{},e.fn.shape.settings,i):e.extend({},e.fn.shape.settings),m=g.namespace,y=g.selector,b=g.error,w=g.className,_="."+m,x="module-"+m,S=e(this),k=S.find(y.sides),C=S.find(y.side),E=!1,T=this,O=S.data(x);p={initialize:function(){p.verbose("Initializing module for",T),p.set.defaultSide(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),O=p,S.data(x,O)},destroy:function(){p.verbose("Destroying previous module for",T),S.removeData(x).off(_)},refresh:function(){p.verbose("Refreshing selector cache for",T),S=e(T),k=e(this).find(y.shape),C=e(this).find(y.side)},repaint:function(){p.verbose("Forcing repaint event");var e=k[0]||n.createElement("div");e.offsetWidth},animate:function(e,n){p.verbose("Animating box with properties",e),n=n||function(e){p.verbose("Executing animation callback"),e!==r&&e.stopPropagation(),p.reset(),p.set.active()},g.beforeChange.call(h[0]),p.get.transitionEvent()?(p.verbose("Starting CSS animation"),S.addClass(w.animating),k.css(e).one(p.get.transitionEvent(),n),p.set.duration(g.duration),f(function(){S.addClass(w.animating),t.addClass(w.hidden)})):n()},queue:function(e){p.debug("Queueing animation of",e),k.one(p.get.transitionEvent(),function(){p.debug("Executing queued animation"),setTimeout(function(){S.shape(e)},0)})},reset:function(){p.verbose("Animating states reset"),S.removeClass(w.animating).attr("style","").removeAttr("style"),k.attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style").removeClass(w.hidden),h.removeClass(w.animating).attr("style","").removeAttr("style")},is:{complete:function(){return C.filter("."+w.active)[0]==h[0]},animating:function(){return S.hasClass(w.animating)}},set:{defaultSide:function(){t=S.find("."+g.className.active),h=t.next(y.side).length>0?t.next(y.side):S.find(y.side).first(),E=!1,p.verbose("Active side set to",t),p.verbose("Next side set to",h)},duration:function(e){e=e||g.duration,e="number"==typeof e?e+"ms":e,p.verbose("Setting animation duration",e),(g.duration||0===g.duration)&&k.add(C).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=S.find("."+g.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);S.css({width:t,height:n})},stageSize:function(){var e=S.clone().addClass(w.loading),t=e.find("."+g.className.active),n=E?e.find(y.side).eq(E):t.next(y.side).length>0?t.next(y.side):e.find(y.side).first(),r="next"==g.width?n.outerWidth(!0):"initial"==g.width?S.width():g.width,i="next"==g.height?n.outerHeight(!0):"initial"==g.height?S.height():g.height;t.removeClass(w.active),n.addClass(w.active),e.insertAfter(S),e.remove(),"auto"!=g.width&&(S.css("width",r+g.jitter),p.verbose("Specifying width during animation",r)),"auto"!=g.height&&(S.css("height",i+g.jitter),p.verbose("Specifying height during animation",i))},nextSide:function(e){E=e,h=C.filter(e),E=C.index(h),0===h.length&&(p.set.defaultSide(),p.error(b.side)),p.verbose("Next side manually set to",h)},active:function(){p.verbose("Setting new side to active",h),C.removeClass(w.active),h.addClass(w.active),g.onChange.call(h[0]),p.set.defaultSide()}},flip:{up:function(){if(p.is.complete()&&!p.is.animating()&&!g.allowRepeats)return void p.debug("Side already visible",h);if(p.is.animating())p.queue("flip up");else{p.debug("Flipping up",h);var e=p.get.transform.up();p.set.stageSize(),p.stage.above(),p.animate(e)}},down:function(){if(p.is.complete()&&!p.is.animating()&&!g.allowRepeats)return void p.debug("Side already visible",h);if(p.is.animating())p.queue("flip down");else{p.debug("Flipping down",h);var e=p.get.transform.down();p.set.stageSize(),p.stage.below(),p.animate(e)}},left:function(){if(p.is.complete()&&!p.is.animating()&&!g.allowRepeats)return void p.debug("Side already visible",h);if(p.is.animating())p.queue("flip left");else{p.debug("Flipping left",h);var e=p.get.transform.left();p.set.stageSize(),p.stage.left(),p.animate(e)}},right:function(){if(p.is.complete()&&!p.is.animating()&&!g.allowRepeats)return void p.debug("Side already visible",h);if(p.is.animating())p.queue("flip right");else{p.debug("Flipping right",h);var e=p.get.transform.right();p.set.stageSize(),p.stage.right(),p.animate(e)}},over:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip over"):(p.debug("Flipping over",h),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.over()))):void p.debug("Side already visible",h)},back:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip back"):(p.debug("Flipping back",h),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.back()))):void p.debug("Side already visible",h)}},get:{transform:{up:function(){var e={y:-((t.outerHeight(!0)-h.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((t.outerHeight(!0)-h.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((t.outerWidth(!0)-h.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((t.outerWidth(!0)-h.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((t.outerWidth(!0)-h.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((t.outerWidth(!0)-h.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==r)return i[e]},nextSide:function(){return t.next(y.side).length>0?t.next(y.side):S.find(y.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-h.outerHeight(!0))/2,depth:{active:h.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as above",h,e),k.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(w.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-h.outerHeight(!0))/2,depth:{active:h.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as below",h,e),k.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(w.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",h,n),k.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),h.addClass(w.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",h,n),k.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),h.addClass(w.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as behind",h,n),t.css({transform:"rotateY(0deg)"}),h.addClass(w.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===r)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];p[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){g.silent||(p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;g.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=g.name+":",n=0;a=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",v&&(t+=" '"+v+"'"),s.length>1&&(t+=" ("+s.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var s,a,u,c=O;return n=n||d,i=T||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},l?(O===r&&p.initialize(),p.invoke(c)):(O!==r&&O.invoke("destroy"),p.initialize())}),o!==r?o:this},e.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var o,s=e(this),a=e(t),u=e(n),c=e("html"),l=e("head"),d=s.selector||"",f=(new Date).getTime(),h=[],p=arguments[0],v="string"==typeof p,g=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,y,b,w,_,x,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),k=S.selector,C=S.className,E=S.namespace,T=S.regExp,O=S.error,A="."+E,D="module-"+E,R=e(this),j=e(S.context),M=R.children(k.sidebar),P=j.children(k.fixed),I=j.children(k.pusher),L=this,F=R.data(D);x={initialize:function(){x.debug("Initializing sidebar",i),x.create.id(),_=x.get.transitionEvent(),x.is.ios()&&x.set.ios(),S.delaySetup?m(x.setup.layout):x.setup.layout(),m(function(){x.setup.cache()}),x.instantiate()},instantiate:function(){x.verbose("Storing instance of module",x),F=x,R.data(D,x)},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),y="."+b,x.verbose("Creating unique id for element",b)}},destroy:function(){x.verbose("Destroying previous module for",R),R.off(A).removeData(D),x.is.ios()&&x.remove.ios(),j.off(y),a.off(y),u.off(y)},event:{clickaway:function(e){var t=I.find(e.target).length>0||I.is(e.target),n=j.is(e.target);t&&(x.verbose("User clicked on dimmed page"),x.hide()),n&&(x.verbose("User clicked on dimmable context (scaled out page)"),x.hide())},touch:function(e){},containScroll:function(e){L.scrollTop<=0&&(L.scrollTop=1),L.scrollTop+L.offsetHeight>=L.scrollHeight&&(L.scrollTop=L.scrollHeight-L.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(k.sidebar).length&&t.preventDefault();
}},bind:{clickaway:function(){x.verbose("Adding clickaway events to context",j),S.closable&&j.on("click"+y,x.event.clickaway).on("touchend"+y,x.event.clickaway)},scrollLock:function(){S.scrollLock&&(x.debug("Disabling page scroll"),a.on("DOMMouseScroll"+y,x.event.scroll)),x.verbose("Adding events to contain sidebar scroll"),u.on("touchmove"+y,x.event.touch),R.on("scroll"+A,x.event.containScroll)}},unbind:{clickaway:function(){x.verbose("Removing clickaway events from context",j),j.off(y)},scrollLock:function(){x.verbose("Removing scroll lock from page"),u.off(y),a.off(y),R.off("scroll"+A)}},add:{inlineCSS:function(){var t,n=x.cache.width||R.outerWidth(),r=x.cache.height||R.outerHeight(),i=x.is.rtl(),o=x.get.direction(),a={left:n,right:-n,top:r,bottom:-r};i&&(x.verbose("RTL detected, flipping widths"),a.left=-n,a.right=n),t="<style>","left"===o||"right"===o?(x.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),x.is.ie()&&("left"===o||"right"===o?(x.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",s=e(t).appendTo(l),x.debug("Adding sizing css to head",s)}},refresh:function(){x.verbose("Refreshing selector cache"),j=e(S.context),M=j.children(k.sidebar),I=j.children(k.pusher),P=j.children(k.fixed),x.clear.cache()},refreshSidebars:function(){x.verbose("Refreshing other sidebars"),M=j.children(k.sidebar)},repaint:function(){x.verbose("Forcing repaint event"),L.style.display="none";L.offsetHeight;L.scrollTop=L.scrollTop,L.style.display=""},setup:{cache:function(){x.cache={width:R.outerWidth(),height:R.outerHeight(),rtl:"rtl"==R.css("direction")}},layout:function(){0===j.children(k.pusher).length&&(x.debug("Adding wrapper element for sidebar"),x.error(O.pusher),I=e('<div class="pusher" />'),j.children().not(k.omitted).not(M).wrapAll(I),x.refresh()),0!==R.nextAll(k.pusher).length&&R.nextAll(k.pusher)[0]===I[0]||(x.debug("Moved sidebar to correct parent element"),x.error(O.movedSidebar,L),R.detach().prependTo(j),x.refresh()),x.clear.cache(),x.set.pushable(),x.set.direction()}},attachEvents:function(t,n){var r=e(t);n=e.isFunction(x[n])?x[n]:x.toggle,r.length>0?(x.debug("Attaching sidebar events to element",t,n),r.on("click"+A,n)):x.error(O.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},x.is.hidden()){if(x.refreshSidebars(),S.overlay&&(x.error(O.overlay),S.transition="overlay"),x.refresh(),x.othersActive())if(x.debug("Other sidebars currently visible"),S.exclusive){if("overlay"!=S.transition)return void x.hideOthers(x.show);x.hideOthers()}else S.transition="overlay";x.pushPage(function(){t.call(L),S.onShow.call(L)}),S.onChange.call(L),S.onVisible.call(L)}else x.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(x.is.visible()||x.is.animating())&&(x.debug("Hiding sidebar",t),x.refreshSidebars(),x.pullPage(function(){t.call(L),S.onHidden.call(L)}),S.onChange.call(L),S.onHide.call(L))},othersAnimating:function(){return M.not(R).filter("."+C.animating).length>0},othersVisible:function(){return M.not(R).filter("."+C.visible).length>0},othersActive:function(){return x.othersVisible()||x.othersAnimating()},hideOthers:function(e){var t=M.not(R).filter("."+C.visible),n=t.length,r=0;e=e||function(){},t.sidebar("hide",function(){r++,r==n&&e()})},toggle:function(){x.verbose("Determining toggled direction"),x.is.hidden()?x.show():x.hide()},pushPage:function(t){var n,r,i,o=x.get.transition(),s="overlay"===o||x.othersActive()?R:I;t=e.isFunction(t)?t:function(){},"scale down"==S.transition&&x.scrollToTop(),x.set.transition(o),x.repaint(),n=function(){x.bind.clickaway(),x.add.inlineCSS(),x.set.animating(),x.set.visible()},r=function(){x.set.dimmed()},i=function(e){e.target==s[0]&&(s.off(_+y,i),x.remove.animating(),x.bind.scrollLock(),t.call(L))},s.off(_+y),s.on(_+y,i),m(n),S.dimPage&&!x.othersVisible()&&m(r)},pullPage:function(t){var n,r,i=x.get.transition(),o="overlay"==i||x.othersActive()?R:I;t=e.isFunction(t)?t:function(){},x.verbose("Removing context push state",x.get.direction()),x.unbind.clickaway(),x.unbind.scrollLock(),n=function(){x.set.transition(i),x.set.animating(),x.remove.visible(),S.dimPage&&!x.othersVisible()&&I.removeClass(C.dimmed)},r=function(e){e.target==o[0]&&(o.off(_+y,r),x.remove.animating(),x.remove.transition(),x.remove.inlineCSS(),("scale down"==i||S.returnScroll&&x.is.mobile())&&x.scrollBack(),t.call(L))},o.off(_+y),o.on(_+y,r),m(n)},scrollToTop:function(){x.verbose("Scrolling to top of page to avoid animation issues"),w=e(t).scrollTop(),R.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){x.verbose("Scrolling back to original page position"),t.scrollTo(0,w)},clear:{cache:function(){x.verbose("Clearing cached dimensions"),x.cache={}}},set:{ios:function(){c.addClass(C.ios)},pushed:function(){j.addClass(C.pushed)},pushable:function(){j.addClass(C.pushable)},dimmed:function(){I.addClass(C.dimmed)},active:function(){R.addClass(C.active)},animating:function(){R.addClass(C.animating)},transition:function(e){e=e||x.get.transition(),R.addClass(e)},direction:function(e){e=e||x.get.direction(),R.addClass(C[e])},visible:function(){R.addClass(C.visible)},overlay:function(){R.addClass(C.overlay)}},remove:{inlineCSS:function(){x.debug("Removing inline css styles",s),s&&s.length>0&&s.remove()},ios:function(){c.removeClass(C.ios)},pushed:function(){j.removeClass(C.pushed)},pushable:function(){j.removeClass(C.pushable)},active:function(){R.removeClass(C.active)},animating:function(){R.removeClass(C.animating)},transition:function(e){e=e||x.get.transition(),R.removeClass(e)},direction:function(e){e=e||x.get.direction(),R.removeClass(C[e])},visible:function(){R.removeClass(C.visible)},overlay:function(){R.removeClass(C.overlay)}},get:{direction:function(){return R.hasClass(C.top)?C.top:R.hasClass(C.right)?C.right:R.hasClass(C.bottom)?C.bottom:C.left},transition:function(){var e,t=x.get.direction();return e=x.is.mobile()?"auto"==S.mobileTransition?S.defaultTransition.mobile[t]:S.mobileTransition:"auto"==S.transition?S.defaultTransition.computer[t]:S.transition,x.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==r)return i[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(T.ios),n=e.match(T.mobileChrome);return!(!t||n)&&(x.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(T.mobile);return t?(x.verbose("Browser was found to be mobile",e),!0):(x.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!x.is.visible()},visible:function(){return R.hasClass(C.visible)},open:function(){return x.is.visible()},closed:function(){return x.is.hidden()},vertical:function(){return R.hasClass(C.top)},animating:function(){return j.hasClass(C.animating)},rtl:function(){return x.cache.rtl===r&&(x.cache.rtl="rtl"==R.css("direction")),x.cache.rtl}},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===r)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===r)return x[t];x[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,S.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),x.verbose.apply(console,arguments)))},error:function(){S.silent||(x.error=Function.prototype.bind.call(console.error,console,S.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;S.performance&&(t=(new Date).getTime(),r=f||t,n=t-r,f=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=S.name+":",n=0;f=!1,clearTimeout(x.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(console.group!==r||console.table!==r)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,i){var s,a,u,c=F;return n=n||g,i=L||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(x.error(O.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},v?(F===r&&x.initialize(),x.invoke(p)):(F!==r&&x.invoke("destroy"),x.initialize())}),o!==r?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(i){var o,s=e(this),a=s.selector||"",u=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,f=[].slice.call(arguments,1);return s.each(function(){var s,h,p,v,g,m=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),y=m.className,b=m.namespace,w=m.error,_="."+b,x="module-"+b,S=e(this),k=e(t),C=e(m.scrollContext),E=(S.selector||"",S.data(x)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},O=this;g={initialize:function(){g.determineContainer(),g.determineContext(),g.verbose("Initializing sticky",m,s),g.save.positions(),g.checkErrors(),g.bind.events(),m.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),E=g,S.data(x,g)},destroy:function(){g.verbose("Destroying previous instance"),g.reset(),p&&p.disconnect(),v&&v.disconnect(),k.off("load"+_,g.event.load).off("resize"+_,g.event.resize),C.off("scrollchange"+_,g.event.scrollchange),S.removeData(x)},observeChanges:function(){"MutationObserver"in t&&(p=new MutationObserver(g.event.documentChanged),v=new MutationObserver(g.event.changed),p.observe(n,{childList:!0,subtree:!0}),v.observe(O,{childList:!0,subtree:!0}),v.observe(h[0],{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",v))},determineContainer:function(){s=m.container?e(m.container):S.offsetParent()},determineContext:function(){if(h=m.context?e(m.context):s,0===h.length)return void g.error(w.invalidContext,m.context,S)},checkErrors:function(){if(g.is.hidden()&&g.error(w.visible,S),g.cache.element.height>g.cache.context.height)return g.reset(),void g.error(w.elementSize,S)},bind:{events:function(){k.on("load"+_,g.event.load).on("resize"+_,g.event.resize),C.off("scroll"+_).on("scroll"+_,g.event.scroll).on("scrollchange"+_,g.event.scrollchange)}},event:{changed:function(e){clearTimeout(g.timer),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu",e),g.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==O||e(t).find(O).length>0)&&(g.debug("Element removed from DOM, tearing down events"),g.destroy())})})},load:function(){g.verbose("Page contents finished loading"),T(g.refresh)},resize:function(){g.verbose("Window resized"),T(g.refresh)},scroll:function(){T(function(){C.triggerHandler("scrollchange"+_,C.scrollTop())})},scrollchange:function(e,t){g.stick(t),m.onScroll.call(O)}},refresh:function(e){g.reset(),m.context||g.determineContext(),e&&g.determineContainer(),g.save.positions(),g.stick(),m.onReposition.call(O)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(y.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){g.lastScroll=e},elementScroll:function(e){g.elementScroll=e},positions:function(){var e={height:C.height()},t={margin:{top:parseInt(S.css("margin-top"),10),bottom:parseInt(S.css("margin-bottom"),10)},offset:S.offset(),width:S.outerWidth(),height:S.outerHeight()},n={offset:h.offset(),height:h.outerHeight()};({height:s.outerHeight()});g.is.standardScroll()||(g.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=C.scrollTop(),e.left=C.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),g.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},g.set.containerSize(),g.set.size(),g.stick(),g.debug("Caching element positions",g.cache)}},get:{direction:function(e){var t="down";return e=e||C.scrollTop(),g.lastScroll!==r&&(g.lastScroll<e?t="down":g.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||C.scrollTop(),g.lastScroll?e-g.lastScroll:0},currentElementScroll:function(){return g.elementScroll?g.elementScroll:g.is.top()?Math.abs(parseInt(S.css("top"),10))||0:Math.abs(parseInt(S.css("bottom"),10))||0},elementScroll:function(e){e=e||C.scrollTop();var t=g.cache.element,n=g.cache.scrollContext,r=g.get.scrollChange(e),i=t.height-n.height+m.offset,o=g.get.currentElementScroll(),s=o+r;return o=g.cache.fits||s<0?0:s>i?i:s}},remove:{lastScroll:function(){delete g.lastScroll},elementScroll:function(e){delete g.elementScroll},offset:function(){S.css("margin-top","")}},set:{offset:function(){g.verbose("Setting offset on element",m.offset),S.css("margin-top",m.offset)},containerSize:function(){var e=s.get(0).tagName;"HTML"===e||"body"==e?g.determineContainer():Math.abs(s.outerHeight()-g.cache.context.height)>m.jitter&&(g.debug("Context has padding, specifying exact height for container",g.cache.context.height),s.css({height:g.cache.context.height}))},minimumSize:function(){var e=g.cache.element;s.css("min-height",e.height)},scroll:function(e){g.debug("Setting scroll on element",e),g.elementScroll!=e&&(g.is.top()&&S.css("bottom","").css("top",-e),g.is.bottom()&&S.css("top","").css("bottom",e))},size:function(){0!==g.cache.element.height&&0!==g.cache.element.width&&(O.style.setProperty("width",g.cache.element.width+"px","important"),O.style.setProperty("height",g.cache.element.height+"px","important"))}},is:{standardScroll:function(){return C[0]==t},top:function(){return S.hasClass(y.top)},bottom:function(){return S.hasClass(y.bottom)},initialPosition:function(){return!g.is.fixed()&&!g.is.bound()},hidden:function(){return!S.is(":visible")},bound:function(){return S.hasClass(y.bound)},fixed:function(){return S.hasClass(y.fixed)}},stick:function(e){var t=e||C.scrollTop(),n=g.cache,r=n.fits,i=n.element,o=n.scrollContext,s=n.context,a=g.is.bottom()&&m.pushing?m.bottomOffset:m.offset,e={top:t+a,bottom:t+a+o.height},u=(g.get.direction(e.top),r?0:g.get.elementScroll(e.top)),c=!r,l=0!==i.height;l&&(g.is.initialPosition()?e.top>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):e.top>i.top&&(i.height+e.top-u>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):(g.debug("Initial element position is fixed"),g.fixTop())):g.is.fixed()?g.is.top()?e.top<=i.top?(g.debug("Fixed element reached top of container"),g.setInitialPosition()):i.height+e.top-u>=s.bottom?(g.debug("Fixed element reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(u),g.save.lastScroll(e.top),g.save.elementScroll(u)):g.is.bottom()&&(e.bottom-i.height<=i.top?(g.debug("Bottom fixed rail has reached top of container"),g.setInitialPosition()):e.bottom>=s.bottom?(g.debug("Bottom fixed rail has reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(u),g.save.lastScroll(e.top),g.save.elementScroll(u))):g.is.bottom()&&(e.top<=i.top?(g.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),g.setInitialPosition()):m.pushing?g.is.bound()&&e.bottom<=s.bottom&&(g.debug("Fixing bottom attached element to bottom of browser."),g.fixBottom()):g.is.bound()&&e.top<=s.bottom-i.height&&(g.debug("Fixing bottom attached element to top of browser."),g.fixTop())))},bindTop:function(){g.debug("Binding element to top of parent container"),g.remove.offset(),S.css({left:"",top:"",marginBottom:""}).removeClass(y.fixed).removeClass(y.bottom).addClass(y.bound).addClass(y.top),m.onTop.call(O),m.onUnstick.call(O)},bindBottom:function(){g.debug("Binding element to bottom of parent container"),g.remove.offset(),S.css({left:"",top:""}).removeClass(y.fixed).removeClass(y.top).addClass(y.bound).addClass(y.bottom),m.onBottom.call(O),m.onUnstick.call(O)},setInitialPosition:function(){g.debug("Returning to initial position"),g.unfix(),g.unbind()},fixTop:function(){g.debug("Fixing element to top of page"),g.set.minimumSize(),g.set.offset(),S.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.bottom).addClass(y.fixed).addClass(y.top),m.onStick.call(O)},fixBottom:function(){g.debug("Sticking element to bottom of page"),g.set.minimumSize(),g.set.offset(),S.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.top).addClass(y.fixed).addClass(y.bottom),m.onStick.call(O)},unbind:function(){g.is.bound()&&(g.debug("Removing container bound position on element"),g.remove.offset(),S.removeClass(y.bound).removeClass(y.top).removeClass(y.bottom))},unfix:function(){g.is.fixed()&&(g.debug("Removing fixed position on element"),g.remove.offset(),S.removeClass(y.fixed).removeClass(y.top).removeClass(y.bottom),m.onUnstick.call(O))},reset:function(){g.debug("Resetting elements position"),g.unbind(),g.unfix(),g.resetCSS(),g.remove.offset(),g.remove.lastScroll()},resetCSS:function(){S.css({width:"",height:""}),s.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===r)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===r)return g[t];g[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,m.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),g.verbose.apply(console,arguments)))},error:function(){m.silent||(g.error=Function.prototype.bind.call(console.error,console,m.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;m.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,0)},display:function(){var t=m.name+":",n=0;u=!1,clearTimeout(g.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var s,a,u,c=E;return n=n||f,i=O||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},d?(E===r&&g.initialize(),g.invoke(l)):(E!==r&&E.invoke("destroy"),g.initialize())}),o!==r?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(i){var o,s=e(e.isFunction(this)?t:this),a=s.selector||"",u=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,f=[].slice.call(arguments,1),h=!1;return s.each(function(){var p,v,g,m,y,b,w=e.isPlainObject(i)?e.extend(!0,{},e.fn.tab.settings,i):e.extend({},e.fn.tab.settings),_=w.className,x=w.metadata,S=w.selector,k=w.error,C="."+w.namespace,E="module-"+w.namespace,T=e(this),O={},A=!0,D=0,R=this,j=T.data(E);y={initialize:function(){y.debug("Initializing tab menu item",T),y.fix.callbacks(),y.determineTabs(),y.debug("Determining tabs",w.context,v),w.auto&&y.set.auto(),y.bind.events(),w.history&&!h&&(y.initializeHistory(),h=!0),y.instantiate()},instantiate:function(){y.verbose("Storing instance of module",y),j=y,T.data(E,y)},destroy:function(){y.debug("Destroying tabs",T),T.removeData(E).off(C)},bind:{events:function(){e.isWindow(R)||(y.debug("Attaching tab activation events to element",T),T.on("click"+C,y.event.click))}},determineTabs:function(){var t;"parent"===w.context?(T.closest(S.ui).length>0?(t=T.closest(S.ui),y.verbose("Using closest UI element as parent",t)):t=T,p=t.parent(),y.verbose("Determined parent element for creating context",p)):w.context?(p=e(w.context),y.verbose("Using selector for tab context",w.context,p)):p=e("body"),w.childrenOnly?(v=p.children(S.tabs),y.debug("Searching tab context children for tabs",p,v)):(v=p.find(S.tabs),y.debug("Searching tab context for tabs",p,v))},fix:{callbacks:function(){e.isPlainObject(i)&&(i.onTabLoad||i.onTabInit)&&(i.onTabLoad&&(i.onLoad=i.onTabLoad,delete i.onTabLoad,y.error(k.legacyLoad,i.onLoad)),i.onTabInit&&(i.onFirstLoad=i.onTabInit,delete i.onTabInit,y.error(k.legacyInit,i.onFirstLoad)),w=e.extend(!0,{},e.fn.tab.settings,i))}},initializeHistory:function(){if(y.debug("Initializing page state"),e.address===r)return y.error(k.state),!1;if("state"==w.historyType){if(y.debug("Using HTML5 to manage state"),w.path===!1)return y.error(k.path),!1;e.address.history(!0).state(w.path)}e.address.bind("change",y.event.history.change)},event:{click:function(t){var n=e(this).data(x.tab);n!==r?(w.history?(y.verbose("Updating page state",t),e.address.value(n)):(y.verbose("Changing tab",t),y.changeTab(n)),t.preventDefault()):y.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||y.get.initialPath(),i=w.templates.determineTitle(n)||!1;y.performance.display(),y.debug("History change event",n,t),b=t,n!==r&&y.changeTab(n),i&&e.address.title(i)}}},refresh:function(){g&&(y.debug("Refreshing tab",g),y.changeTab(g))},cache:{read:function(e){return e!==r&&O[e]},add:function(e,t){e=e||g,y.debug("Adding cached content for",e),O[e]=t},remove:function(e){e=e||g,y.debug("Removing cached content for",e),delete O[e]}},set:{auto:function(){var t="string"==typeof w.path?w.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";y.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(w.apiSettings)?w.apiSettings.url=t:w.apiSettings={url:t}},loading:function(e){var t=y.get.tabElement(e),n=t.hasClass(_.loading);n||(y.verbose("Setting loading state for",t),t.addClass(_.loading).siblings(v).removeClass(_.active+" "+_.loading),t.length>0&&w.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var r=t.history&&t.history.pushState,i=r&&w.ignoreFirstLoad&&A,o=w.auto||e.isPlainObject(w.apiSettings),s=o&&!i?y.utilities.pathToArray(n):y.get.defaultPathArray(n);n=y.utilities.arrayToPath(s),e.each(s,function(t,r){var a,u,c,l,d=s.slice(0,t+1),f=y.utilities.arrayToPath(d),h=y.is.tab(f),v=t+1==s.length,S=y.get.tabElement(f);if(y.verbose("Looking for tab",r),h){if(y.verbose("Tab was found",r),g=f,m=y.utilities.filterArray(s,d),v?l=!0:(u=s.slice(0,t+2),c=y.utilities.arrayToPath(u),l=!y.is.tab(c),l&&y.verbose("Tab parameters found",u)),l&&o)return i?(y.debug("Ignoring remote content on first tab load",f),A=!1,y.cache.add(n,S.html()),y.activate.all(f),w.onFirstLoad.call(S[0],f,m,b),w.onLoad.call(S[0],f,m,b)):(y.activate.navigation(f),y.fetch.content(f,n)),!1;y.debug("Opened local tab",f),y.activate.all(f),y.cache.read(f)||(y.cache.add(f,!0),y.debug("First time tab loaded calling tab init"),w.onFirstLoad.call(S[0],f,m,b)),w.onLoad.call(S[0],f,m,b)}else{if(n.search("/")!=-1||""===n)return y.error(k.missingTab,T,p,f),!1;if(a=e("#"+n+', a[name="'+n+'"]'),f=a.closest("[data-tab]").data(x.tab),S=y.get.tabElement(f),a&&a.length>0&&f)return y.debug("Anchor link used, opening parent tab",S,a),S.hasClass(_.active)||setTimeout(function(){y.scrollTo(a)},0),y.activate.all(f),y.cache.read(f)||(y.cache.add(f,!0),y.debug("First time tab loaded calling tab init"),w.onFirstLoad.call(S[0],f,m,b)),w.onLoad.call(S[0],f,m,b),!1}})},scrollTo:function(t){var r=!!(t&&t.length>0)&&t.offset().top;r!==!1&&(y.debug("Forcing scroll to an in-page link in a hidden tab",r,t),e(n).scrollTop(r))},update:{content:function(t,n,i){var o=y.get.tabElement(t),s=o[0];i=i!==r?i:w.evaluateScripts,"string"==typeof w.cacheType&&"dom"==w.cacheType.toLowerCase()&&"string"!=typeof n?o.empty().append(e(n).clone(!0)):i?(y.debug("Updating HTML and evaluating inline scripts",t,n),o.html(n)):(y.debug("Updating HTML",t,n),s.innerHTML=n)}},fetch:{content:function(t,n){var i,o,s=y.get.tabElement(t),a={dataType:"html",encodeParameters:!1,on:"now",cache:w.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==w.cacheType&&y.cache.add(n,e),y.update.content(t,e),t==g?(y.debug("Content loaded",t),y.activate.tab(t)):y.debug("Content loaded in background",t),w.onFirstLoad.call(s[0],t,m,b),w.onLoad.call(s[0],t,m,b),w.loadOnce?y.cache.add(n,!0):"string"==typeof w.cacheType&&"dom"==w.cacheType.toLowerCase()&&s.children().length>0?setTimeout(function(){var e=s.children().clone(!0);e=e.not("script"),y.cache.add(n,e)},0):y.cache.add(n,s.html())},urlData:{tab:n}},u=s.api("get request")||!1,c=u&&"pending"===u.state();n=n||t,o=y.cache.read(n),w.cache&&o?(y.activate.tab(t),y.debug("Adding cached content",n),w.loadOnce||("once"==w.evaluateScripts?y.update.content(t,o,!1):y.update.content(t,o)),w.onLoad.call(s[0],t,m,b)):c?(y.set.loading(t),y.debug("Content is already loading",n)):e.api!==r?(i=e.extend(!0,{},w.apiSettings,a),y.debug("Retrieving remote content",n,i),y.set.loading(t),s.api(i)):y.error(k.api)}},activate:{all:function(e){y.activate.tab(e),y.activate.navigation(e)},tab:function(e){var t=y.get.tabElement(e),n="siblings"==w.deactivate?t.siblings(v):v.not(t),r=t.hasClass(_.active);y.verbose("Showing tab content for",t),r||(t.addClass(_.active),n.removeClass(_.active+" "+_.loading),t.length>0&&w.onVisible.call(t[0],e))},navigation:function(e){var t=y.get.navElement(e),n="siblings"==w.deactivate?t.siblings(s):s.not(t),r=t.hasClass(_.active);y.verbose("Activating tab navigation for",t,e),r||(t.addClass(_.active),n.removeClass(_.active+" "+_.loading))}},deactivate:{all:function(){y.deactivate.navigation(),y.deactivate.tabs()},navigation:function(){s.removeClass(_.active)},tabs:function(){v.removeClass(_.active+" "+_.loading)}},is:{tab:function(e){return e!==r&&y.get.tabElement(e).length>0}},get:{initialPath:function(){return s.eq(0).data(x.tab)||v.eq(0).data(x.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return y.utilities.pathToArray(y.get.defaultPath(e))},defaultPath:function(e){var t=s.filter("[data-"+x.tab+'^="'+e+'/"]').eq(0),n=t.data(x.tab)||!1;if(n){if(y.debug("Found default tab",n),D<w.maxDepth)return D++,y.get.defaultPath(n);y.error(k.recursion)}else y.debug("No default tabs found for",e,v);return D=0,e},navElement:function(e){return e=e||g,s.filter("[data-"+x.tab+'="'+e+'"]')},tabElement:function(e){var t,n,r,i;return e=e||g,r=y.utilities.pathToArray(e),i=y.utilities.last(r),t=v.filter("[data-"+x.tab+'="'+e+'"]'),n=v.filter("[data-"+x.tab+'="'+i+'"]'),t.length>0?t:n},tab:function(){return g}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return e.inArray(t,n)==-1})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return e===r&&(e=g),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(y.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,w,t);else{if(n===r)return w[t];e.isPlainObject(w[t])?e.extend(!0,w[t],n):w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,w.name+":"),
y.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),y.verbose.apply(console,arguments)))},error:function(){w.silent||(y.error=Function.prototype.bind.call(console.error,console,w.name+":"),y.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;w.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=w.name+":",n=0;u=!1,clearTimeout(y.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var s,a,u,c=j;return n=n||f,i=R||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(y.error(k.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},d?(j===r&&y.initialize(),y.invoke(l)):(j!==r&&j.invoke("destroy"),y.initialize())}),o!==r?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments,l=c[0],d=[].slice.call(arguments,1),f="string"==typeof l;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(t){var h,p,v,g,m,y,b,w,_,x=e(this),S=this;_={initialize:function(){h=_.get.settings.apply(S,c),g=h.className,v=h.error,m=h.metadata,w="."+h.namespace,b="module-"+h.namespace,p=x.data(b)||_,y=_.get.animationEndEvent(),f&&(f=_.invoke(l)),f===!1&&(_.verbose("Converted arguments into settings object",h),h.interval?_.delay(h.animate):_.animate(),_.instantiate())},instantiate:function(){_.verbose("Storing instance of module",_),p=_,x.data(b,p)},destroy:function(){_.verbose("Destroying previous module for",S),x.removeData(b)},refresh:function(){_.verbose("Refreshing display type on next animation"),delete _.displayType},forceRepaint:function(){_.verbose("Forcing element repaint");var e=x.parent(),t=x.next();0===t.length?x.detach().appendTo(e):x.detach().insertBefore(t)},repaint:function(){_.verbose("Repainting element");S.offsetWidth},delay:function(e){var n,i,s=_.get.animationDirection();s||(s=_.can.transition()?_.get.direction():"static"),e=e!==r?e:h.interval,n="auto"==h.reverse&&s==g.outward,i=n||1==h.reverse?(o.length-t)*h.interval:t*h.interval,_.debug("Delaying animation by",i),setTimeout(_.animate,i)},animate:function(e){if(h=e||h,!_.is.supported())return _.error(v.support),!1;if(_.debug("Preparing animation",h.animation),_.is.animating()){if(h.queue)return!h.allowRepeats&&_.has.direction()&&_.is.occurring()&&_.queuing!==!0?_.debug("Animation is currently occurring, preventing queueing same animation",h.animation):_.queue(h.animation),!1;if(!h.allowRepeats&&_.is.occurring())return _.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;_.debug("New animation started, completing previous early",h.animation),p.complete()}_.can.animate()?_.set.animating(h.animation):_.error(v.noAnimation,h.animation,S)},reset:function(){_.debug("Resetting animation to beginning conditions"),_.remove.animationCallbacks(),_.restore.conditions(),_.remove.animating()},queue:function(e){_.debug("Queueing animation of",e),_.queuing=!0,x.one(y+".queue"+w,function(){_.queuing=!1,_.repaint(),_.animate.apply(this,h)})},complete:function(e){_.debug("Animation complete",h.animation),_.remove.completeCallback(),_.remove.failSafe(),_.is.looping()||(_.is.outward()?(_.verbose("Animation is outward, hiding element"),_.restore.conditions(),_.hide()):_.is.inward()?(_.verbose("Animation is outward, showing element"),_.restore.conditions(),_.show()):(_.verbose("Static animation completed"),_.restore.conditions(),h.onComplete.call(S)))},force:{visible:function(){var e=x.attr("style"),t=_.get.userStyle(),n=_.get.displayType(),i=t+"display: "+n+" !important;",o=x.css("display"),s=e===r||""===e;o!==n?(_.verbose("Overriding default display to show element",n),x.attr("style",i)):s&&x.removeAttr("style")},hidden:function(){var e=x.attr("style"),t=x.css("display"),n=e===r||""===e;"none"===t||_.is.hidden()?n&&x.removeAttr("style"):(_.verbose("Overriding default display to hide element"),x.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||h.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t!==g.inward&&t!==g.outward||(n=!0)})),n},inlineDisplay:function(){var t=x.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;_.remove.completeCallback(),e=e||h.animation,t=_.get.animationClass(e),_.save.animation(t),_.force.visible(),_.remove.hidden(),_.remove.direction(),_.start.animation(t)},duration:function(e,t){t=t||h.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(_.verbose("Setting animation duration",t),x.css({"animation-duration":t}))},direction:function(e){e=e||_.get.direction(),e==g.inward?_.set.inward():_.set.outward()},looping:function(){_.debug("Transition set to loop"),x.addClass(g.looping)},hidden:function(){x.addClass(g.transition).addClass(g.hidden)},inward:function(){_.debug("Setting direction to inward"),x.removeClass(g.outward).addClass(g.inward)},outward:function(){_.debug("Setting direction to outward"),x.removeClass(g.inward).addClass(g.outward)},visible:function(){x.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||_.get.animationClass(),_.debug("Starting tween",e),x.addClass(e).one(y+".complete"+w,_.complete),h.useFailSafe&&_.add.failSafe(),_.set.duration(h.duration),h.onStart.call(S)}},save:{animation:function(e){_.cache||(_.cache={}),_.cache.animation=e},displayType:function(e){"none"!==e&&x.data(m.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,_.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=_.get.currentAnimation();e&&(x.removeClass(e),_.verbose("Removing animation class",_.cache)),_.remove.duration()}},add:{failSafe:function(){var e=_.get.duration();_.timer=setTimeout(function(){x.triggerHandler(y)},e+h.failSafeDelay),_.verbose("Adding fail safe timer",_.timer)}},remove:{animating:function(){x.removeClass(g.animating)},animationCallbacks:function(){_.remove.queueCallback(),_.remove.completeCallback()},queueCallback:function(){x.off(".queue"+w)},completeCallback:function(){x.off(".complete"+w)},display:function(){x.css("display","")},direction:function(){x.removeClass(g.inward).removeClass(g.outward)},duration:function(){x.css("animation-duration","")},failSafe:function(){_.verbose("Removing fail safe timer",_.timer),_.timer&&clearTimeout(_.timer)},hidden:function(){x.removeClass(g.hidden)},visible:function(){x.removeClass(g.visible)},looping:function(){_.debug("Transitions are no longer looping"),_.is.looping()&&(_.reset(),x.removeClass(g.looping))},transition:function(){x.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,r){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof r?e.extend({},e.fn.transition.settings,{animation:t,onComplete:r,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||h.animation,n=_.can.transition()&&!_.has.direction()?_.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return!(!_.cache||_.cache.animation===r)&&_.cache.animation},currentDirection:function(){return _.is.inward()?g.inward:g.outward},direction:function(){return _.is.hidden()||!_.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||h.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),!!n&&n},duration:function(e){return e=e||h.duration,e===!1&&(e=x.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=e===r||e,h.displayType?h.displayType:(e&&x.data(m.displayType)===r&&_.can.transition(!0),x.data(m.displayType))},userStyle:function(e){return e=e||x.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(t.style[e]!==r)return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(t.style[e]!==r)return i[e];return!1}},can:{transition:function(t){var n,i,o,s,a,u,c=h.animation,l=_.get.transitionExists(c),d=_.get.displayType(!1);if(l===r||t){if(_.verbose("Determining whether animation exists"),n=x.attr("class"),i=x.prop("tagName"),o=e("<"+i+" />").addClass(n).insertAfter(x),s=o.addClass(c).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),a=o.addClass(g.inward).css("animationName"),d||(d=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),_.verbose("Determining final display state",d),_.save.displayType(d)),o.remove(),s!=a)_.debug("Direction exists for animation",c),u=!0;else{if("none"==s||!s)return void _.debug("No animation defined in css",c);_.debug("Static animation found",c,d),u=!1}_.save.transitionExists(c,u)}return l!==r?l:u},animate:function(){return _.can.transition()!==r}},is:{animating:function(){return x.hasClass(g.animating)},inward:function(){return x.hasClass(g.inward)},outward:function(){return x.hasClass(g.outward)},looping:function(){return x.hasClass(g.looping)},occurring:function(e){return e=e||h.animation,e="."+e.replace(" ","."),x.filter(e).length>0},visible:function(){return x.is(":visible")},hidden:function(){return"hidden"===x.css("visibility")},supported:function(){return y!==!1}},hide:function(){_.verbose("Hiding element"),_.is.animating()&&_.reset(),S.blur(),_.remove.display(),_.remove.visible(),_.set.hidden(),_.force.hidden(),h.onHide.call(S),h.onComplete.call(S)},show:function(e){_.verbose("Showing element",e),_.remove.hidden(),_.set.visible(),_.force.visible(),h.onShow.call(S),h.onComplete.call(S)},toggle:function(){_.is.visible()?_.hide():_.show()},stop:function(){_.debug("Stopping current animation"),x.triggerHandler(y)},stopAll:function(){_.debug("Stopping all animation"),_.remove.queueCallback(),x.triggerHandler(y)},clear:{queue:function(){_.debug("Clearing animation queue"),_.remove.queueCallback()}},enable:function(){_.verbose("Starting animation"),x.removeClass(g.disabled)},disable:function(){_.debug("Stopping animation"),x.addClass(g.disabled)},setting:function(t,n){if(_.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===r)return _[t];_[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,h.name+":"),_.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),_.verbose.apply(console,arguments)))},error:function(){h.silent||(_.error=Function.prototype.bind.call(console.error,console,h.name+":"),_.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(_.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=p;return n=n||d,o=S||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r&&(a=c[i],!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a!==r&&a}},_.initialize()}),i!==r?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,r){"use strict";var t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(n){var i,o=e(e.isFunction(this)?t:this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,f,h,p,v,g,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),y=m.namespace,b=m.metadata,w=m.selector,_=m.error,x=m.className,S="."+y,k="module-"+y,C=e(this),E=C.closest(w.form),T=m.stateContext?e(m.stateContext):C,O=this,A=T[0],D=C.data(k);g={initialize:function(){l||g.bind.events(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),D=g,C.data(k,D)},destroy:function(){g.verbose("Destroying previous module for",O),C.removeData(k).off(S)},bind:{events:function(){var e=g.get.event();e?(g.verbose("Attaching API events to element",e),C.on(e+S,g.event.trigger)):"now"==m.on&&(g.debug("Querying API endpoint immediately"),g.query())}},decode:{json:function(e){if(e!==r&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;return t.Storage===r?void g.error(_.noStorage):(n=sessionStorage.getItem(e),g.debug("Using cached response",e,n),n=g.decode.json(n))}},write:{cachedResponse:function(n,i){return i&&""===i?void g.debug("Response empty, not caching",i):t.Storage===r?void g.error(_.noStorage):(e.isPlainObject(i)&&(i=JSON.stringify(i)),sessionStorage.setItem(n,i),void g.verbose("Storing cached response for url",n,i))}},query:function(){if(g.is.disabled())return void g.debug("Element is disabled API request aborted");if(g.is.loading()){if(!m.interruptRequests)return void g.debug("Cancelling request, previous request is still pending");g.debug("Interrupting previous request"),g.abort()}return m.defaultData&&e.extend(!0,m.urlData,g.get.defaultData()),m.serializeForm&&(m.data=g.add.formData(m.data)),f=g.get.settings(),f===!1?(g.cancelled=!0,void g.error(_.beforeSend)):(g.cancelled=!1,h=g.get.templatedURL(),h||g.is.mocked()?(h=g.add.urlData(h),h||g.is.mocked()?(f.url=m.base+h,o=e.extend(!0,{},m,{type:m.method||m.type,data:p,url:m.base+h,beforeSend:m.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),g.debug("Querying URL",o.url),g.verbose("Using AJAX settings",o),"local"===m.cache&&g.read.cachedResponse(h)?(g.debug("Response returned from local cache"),g.request=g.create.request(),void g.request.resolveWith(A,[g.read.cachedResponse(h)])):void(m.throttle?m.throttleFirstRequest||g.timer?(g.debug("Throttling request",m.throttle),clearTimeout(g.timer),g.timer=setTimeout(function(){g.timer&&delete g.timer,g.debug("Sending throttled request",p,o.method),g.send.request()},m.throttle)):(g.debug("Sending request",p,o.method),g.send.request(),g.timer=setTimeout(function(){},m.throttle)):(g.debug("Sending request",p,o.method),g.send.request()))):void 0):void g.error(_.missingURL))},should:{removeError:function(){return m.hideError===!0||"auto"===m.hideError&&!g.is.form()}},is:{disabled:function(){return C.filter(w.disabled).length>0},expectingJSON:function(){return"json"===m.dataType||"jsonp"===m.dataType},form:function(){return C.is("form")||T.is("form")},mocked:function(){return m.mockResponse||m.mockResponseAsync||m.response||m.responseAsync},input:function(){return C.is("input")},loading:function(){return!!g.request&&"pending"==g.request.state()},abortedRequest:function(e){return e&&e.readyState!==r&&0===e.readyState?(g.verbose("XHR request determined to be aborted"),!0):(g.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return g.is.expectingJSON()&&e.isFunction(m.successTest)?(g.debug("Checking JSON returned success",m.successTest,t),m.successTest(t)?(g.debug("Response passed success test",t),!0):(g.debug("Response failed success test",t),!1)):(g.verbose("Response is not JSON, skipping validation",m.successTest,t),!0)}},was:{cancelled:function(){return g.cancelled||!1},succesful:function(){return g.request&&"resolved"==g.request.state()},failure:function(){return g.request&&"rejected"==g.request.state()},complete:function(){return g.request&&("resolved"==g.request.state()||"rejected"==g.request.state())}},add:{urlData:function(t,n){var i,o;return t&&(i=t.match(m.regExp.required),o=t.match(m.regExp.optional),n=n||m.urlData,i&&(g.debug("Looking for required URL variables",i),e.each(i,function(i,o){var s=o.indexOf("$")!==-1?o.substr(2,o.length-3):o.substr(1,o.length-2),a=e.isPlainObject(n)&&n[s]!==r?n[s]:C.data(s)!==r?C.data(s):T.data(s)!==r?T.data(s):n[s];return a===r?(g.error(_.requiredParameter,s,t),t=!1,!1):(g.verbose("Found required variable",s,a),a=m.encodeParameters?g.get.urlEncodedValue(a):a,t=t.replace(o,a),void 0)})),o&&(g.debug("Looking for optional URL variables",i),e.each(o,function(i,o){var s=o.indexOf("$")!==-1?o.substr(3,o.length-4):o.substr(2,o.length-3),a=e.isPlainObject(n)&&n[s]!==r?n[s]:C.data(s)!==r?C.data(s):T.data(s)!==r?T.data(s):n[s];a!==r?(g.verbose("Optional variable Found",s,a),t=t.replace(o,a)):(g.verbose("Optional variable not found",s),t=t.indexOf("/"+o)!==-1?t.replace("/"+o,""):t.replace(o,""))}))),t},formData:function(t){var n,i=e.fn.serializeObject!==r,o=i?E.serializeObject():E.serialize();return t=t||m.data,n=e.isPlainObject(t),n?i?(g.debug("Extending existing data with form data",t,o),t=e.extend(!0,{},t,o)):(g.error(_.missingSerialize),g.debug("Cant extend data. Replacing data with form data",t,o),t=o):(g.debug("Adding form data",o),t=o),t}},send:{request:function(){g.set.loading(),g.request=g.create.request(),g.is.mocked()?g.mockedXHR=g.create.mockedXHR():g.xhr=g.create.xhr(),m.onRequest.call(A,g.request,g.xhr)}},event:{trigger:function(e){g.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,r){var i=this,o=(new Date).getTime()-v,s=m.loadingDuration-o,a=!!e.isFunction(m.onResponse)&&(g.is.expectingJSON()?m.onResponse.call(i,e.extend(!0,{},t)):m.onResponse.call(i,t));s=s>0?s:0,a&&(g.debug("Modified API response in onResponse callback",m.onResponse,a,t),t=a),s>0&&g.debug("Response completed early delaying state change by",s),setTimeout(function(){g.is.validResponse(t)?g.request.resolveWith(i,[t,r]):g.request.rejectWith(i,[r,"invalid"])},s)},fail:function(e,t,n){var r=this,i=(new Date).getTime()-v,o=m.loadingDuration-i;o=o>0?o:0,o>0&&g.debug("Response completed early delaying state change by",o),setTimeout(function(){g.is.abortedRequest(e)?g.request.rejectWith(r,[e,"aborted",n]):g.request.rejectWith(r,[e,"error",t,n])},o)}},request:{done:function(e,t){g.debug("Successful API Response",e),"local"===m.cache&&h&&(g.write.cachedResponse(h,e),g.debug("Saving server response locally",g.cache)),m.onSuccess.call(A,e,C,t)},complete:function(e,t){var n,r;g.was.succesful()?(r=e,n=t):(n=e,r=g.get.responseFromXHR(n)),g.remove.loading(),m.onComplete.call(A,r,C,n)},fail:function(e,t,n){var i=g.get.responseFromXHR(e),s=g.get.errorFromRequest(i,t,n);return"aborted"==t?(g.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),m.onAbort.call(A,t,C,e),!0):("invalid"==t?g.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&e!==r&&(g.debug("XHR produced a server error",t,n),200!=e.status&&n!==r&&""!==n&&g.error(_.statusMessage+n,o.url),m.onError.call(A,s,C,e)),m.errorDuration&&"aborted"!==t&&(g.debug("Adding error state"),g.set.error(),g.should.removeError()&&setTimeout(g.remove.error,m.errorDuration)),g.debug("API Request failed",s,e),void m.onFailure.call(A,i,C,e))}}},create:{request:function(){return e.Deferred().always(g.event.request.complete).done(g.event.request.done).fail(g.event.request.fail)},mockedXHR:function(){var t,n,r,i=!1,o=!1,s=!1,a=m.mockResponse||m.response,u=m.mockResponseAsync||m.responseAsync;return r=e.Deferred().always(g.event.xhr.complete).done(g.event.xhr.done).fail(g.event.xhr.fail),a?(e.isFunction(a)?(g.debug("Using specified synchronous callback",a),n=a.call(A,f)):(g.debug("Using settings specified response",a),n=a),r.resolveWith(A,[n,i,{responseText:n}])):e.isFunction(u)&&(t=function(e){g.debug("Async callback returned response",e),e?r.resolveWith(A,[e,i,{responseText:e}]):r.rejectWith(A,[{responseText:e},o,s])},g.debug("Using specified async response callback",u),u.call(A,f,t)),r},xhr:function(){var t;return t=e.ajax(o).always(g.event.xhr.always).done(g.event.xhr.done).fail(g.event.xhr.fail),g.verbose("Created server request",t,o),t}},set:{error:function(){g.verbose("Adding error state to element",T),T.addClass(x.error)},loading:function(){g.verbose("Adding loading state to element",T),T.addClass(x.loading),v=(new Date).getTime()}},remove:{error:function(){g.verbose("Removing error state from element",T),T.removeClass(x.error)},loading:function(){g.verbose("Removing loading state from element",T),T.removeClass(x.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(g.is.expectingJSON()?g.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,i){return e.isPlainObject(t)&&t.error!==r?t.error:m.error[n]!==r?m.error[n]:i},request:function(){return g.request||!1},xhr:function(){return g.xhr||!1},settings:function(){var t;return t=m.beforeSend.call(A,m),t&&(t.success!==r&&(g.debug("Legacy success callback detected",t),g.error(_.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==r&&(g.debug("Legacy failure callback detected",t),g.error(_.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==r&&(g.debug("Legacy complete callback detected",t),g.error(_.legacyParameters,t.complete),t.onComplete=t.complete)),t===r&&g.error(_.noReturnedValue),t===!1?t:t!==r?e.extend(!0,{},t):e.extend(!0,{},m)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),r=t.encodeURIComponent(e),i=n!==e;return i?(g.debug("URL value is already encoded, avoiding double encoding",e),e):(g.verbose("Encoding value using encodeURIComponent",e,r),r)},defaultData:function(){var t={};return e.isWindow(O)||(g.is.input()?t.value=C.val():g.is.form()||(t.text=C.text())),t},event:function(){return e.isWindow(O)||"now"==m.on?(g.debug("API called without element, no events attached"),!1):"auto"==m.on?C.is("input")?O.oninput!==r?"input":O.onpropertychange!==r?"propertychange":"keyup":C.is("form")?"submit":"click":m.on},templatedURL:function(e){if(e=e||C.data(b.action)||m.action||!1,h=C.data(b.url)||m.url||!1)return g.debug("Using specified url",h),h;if(e){if(g.debug("Looking up url for action",e,m.api),m.api[e]===r&&!g.is.mocked())return void g.error(_.missingAction,m.action,m.api);h=m.api[e]}else g.is.form()&&(h=C.attr("action")||T.attr("action")||!1,g.debug("No url or action specified, defaulting to form action",h));return h}},abort:function(){var e=g.get.xhr();e&&"resolved"!==e.state()&&(g.debug("Cancelling API request"),e.abort())},reset:function(){g.remove.error(),g.remove.loading()},setting:function(t,n){if(g.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===r)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===r)return g[t];g[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,m.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),g.verbose.apply(console,arguments)))},error:function(){m.silent||(g.error=Function.prototype.bind.call(console.error,console,m.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;m.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=m.name+":",n=0;a=!1,clearTimeout(g.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=D;return n=n||d,o=O||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(g.error(_.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},l?(D===r&&g.initialize(),g.invoke(c)):(D!==r&&D.invoke("destroy"),g.initialize())}),i!==r?i:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var i,o=e(this),s=o.selector||"",a=("ontouchstart"in n.documentElement,(new Date).getTime()),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var n,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),h=f.error,p=f.metadata,v=f.className,g=f.namespace,m=f.states,y=f.text,b="."+g,w=g+"-module",_=e(this),x=this,S=_.data(w);n={initialize:function(){n.verbose("Initializing module"),f.automatic&&n.add.defaults(),f.context&&""!==s?e(f.context).on(s,"mouseenter"+b,n.change.text).on(s,"mouseleave"+b,n.reset.text).on(s,"click"+b,n.toggle.state):_.on("mouseenter"+b,n.change.text).on("mouseleave"+b,n.reset.text).on("click"+b,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),S=n,_.data(w,n)},destroy:function(){n.verbose("Destroying previous module",S),_.off(b).removeData(w)},refresh:function(){n.verbose("Refreshing selector cache"),_=e(x)},add:{defaults:function(){var i=t&&e.isPlainObject(t.states)?t.states:{};e.each(f.defaults,function(t,o){n.is[t]!==r&&n.is[t]()&&(n.verbose("Adding default states",t,x),e.extend(f.states,o,i))})}},is:{active:function(){return _.hasClass(v.active);
},loading:function(){return _.hasClass(v.loading)},inactive:function(){return!_.hasClass(v.active)},state:function(e){return v[e]!==r&&_.hasClass(v[e])},enabled:function(){return!_.is(f.filter.active)},disabled:function(){return _.is(f.filter.active)},textEnabled:function(){return!_.is(f.filter.text)},button:function(){return _.is(".button:not(a, .submit)")},input:function(){return _.is("input")},progress:function(){return _.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),m[e]=!0},disallow:function(e){n.debug("No longer allowing",e),m[e]=!1},allows:function(e){return m[e]||!1},enable:function(){_.removeClass(v.disabled)},disable:function(){_.addClass(v.disabled)},setState:function(e){n.allows(e)&&_.addClass(v[e])},removeState:function(e){n.allows(e)&&_.removeClass(v[e])},toggle:{state:function(){var t,i;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),e.fn.api!==r)if(t=_.api("get request"),i=_.api("was cancelled"))n.debug("API Request cancelled by beforesend"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(y.loading&&n.update.text(y.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(n.debug("API request failed"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),f.sync&&n.sync(),f.onChange.call(x)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",y.hover),n.update.text(y.disabled)):n.is.active()?y.hover?(n.verbose("Changing text to hover text",y.hover),n.update.text(y.hover)):y.deactivate&&(n.verbose("Changing text to deactivating text",y.deactivate),n.update.text(y.deactivate)):y.hover?(n.verbose("Changing text to hover text",y.hover),n.update.text(y.hover)):y.activate&&(n.verbose("Changing text to activating text",y.activate),n.update.text(y.activate)))}},activate:function(){f.activateTest.call(x)&&(n.debug("Setting state to active"),_.addClass(v.active),n.update.text(y.active),f.onActivate.call(x))},deactivate:function(){f.deactivateTest.call(x)&&(n.debug("Setting state to inactive"),_.removeClass(v.active),n.update.text(y.inactive),f.onDeactivate.call(x))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?o.not(_).state("activate"):o.not(_).state("deactivate")},get:{text:function(){return f.selector.text?_.find(f.selector.text).text():_.html()},textFor:function(e){return y[e]||!1}},flash:{text:function(e,t,r){var i=n.get.text();n.debug("Flashing text message",e,t),e=e||f.text.flash,t=t||f.flashDuration,r=r||function(){},n.update.text(e),setTimeout(function(){n.update.text(i),r.call(x)},t)}},reset:{text:function(){var e=y.active||_.data(p.storedText),t=y.inactive||_.data(p.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),f.selector.text?_.data(p.storedText,e).find(f.selector.text).text(e):_.data(p.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,i){if(n.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,f,t);else{if(i===r)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],i):f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(i===r)return n[t];n[t]=i}},debug:function(){!f.silent&&f.debug&&(f.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,f.name+":"),n.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),n.verbose.apply(console,arguments)))},error:function(){f.silent||(n.error=Function.prototype.bind.call(console.error,console,f.name+":"),n.error.apply(console,arguments))},performance:{log:function(e){var t,r,i;f.performance&&(t=(new Date).getTime(),i=a||t,r=t-i,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":r})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=f.name+":",i=0;a=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,o,s){var a,u,c,l=S;return o=o||d,s=x||s,"string"==typeof t&&l!==r&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,o){var s=i!=a?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[s])&&i!=a)l=l[s];else{if(l[s]!==r)return u=l[s],!1;if(!e.isPlainObject(l[o])||i==a)return l[o]!==r?(u=l[o],!1):(n.error(h.method,t),!1);l=l[o]}})),e.isFunction(u)?c=u.apply(s,o):u!==r&&(c=u),e.isArray(i)?i.push(c):i!==r?i=[i,c]:c!==r&&(i=c),u}},l?(S===r&&n.initialize(),n.invoke(c)):(S!==r&&S.invoke("destroy"),n.initialize())}),i!==r?i:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var o,s=e(this),a=s.selector||"",u=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,f=[].slice.call(arguments,1),h=s.length,p=0;return s.each(function(){var s,v,g,m,y=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),b=y.className,w=y.namespace,_=y.error,x=y.metadata,S="."+w,k="module-"+w,C=e(t),E=e(this),T=e(y.context),O=(E.selector||"",E.data(k)),A=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},D=this,R=!1;m={initialize:function(){m.debug("Initializing",y),m.setup.cache(),m.should.trackChanges()&&("image"==y.type&&m.setup.image(),"fixed"==y.type&&m.setup.fixed(),y.observeChanges&&m.observeChanges(),m.bind.events()),m.save.position(),m.is.visible()||m.error(_.visible,E),y.initialCheck&&m.checkVisibility(),m.instantiate()},instantiate:function(){m.debug("Storing instance",m),E.data(k,m),O=m},destroy:function(){m.verbose("Destroying previous module"),g&&g.disconnect(),v&&v.disconnect(),C.off("load"+S,m.event.load).off("resize"+S,m.event.resize),T.off("scroll"+S,m.event.scroll).off("scrollchange"+S,m.event.scrollchange),"fixed"==y.type&&(m.resetFixed(),m.remove.placeholder()),E.off(S).removeData(k)},observeChanges:function(){"MutationObserver"in t&&(v=new MutationObserver(m.event.contextChanged),g=new MutationObserver(m.event.changed),v.observe(n,{childList:!0,subtree:!0}),g.observe(D,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",g))},bind:{events:function(){m.verbose("Binding visibility events to scroll and resize"),y.refreshOnLoad&&C.on("load"+S,m.event.load),C.on("resize"+S,m.event.resize),T.off("scroll"+S).on("scroll"+S,m.event.scroll).on("scrollchange"+S,m.event.scrollchange)}},event:{changed:function(e){m.verbose("DOM tree modified, updating visibility calculations"),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu"),m.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==D||e(t).find(D).length>0)&&(m.debug("Element removed from DOM, tearing down events"),m.destroy())})})},resize:function(){m.debug("Window resized"),y.refreshOnResize&&A(m.refresh)},load:function(){m.debug("Page finished loading"),A(m.refresh)},scroll:function(){y.throttle?(clearTimeout(m.timer),m.timer=setTimeout(function(){T.triggerHandler("scrollchange"+S,[T.scrollTop()])},y.throttle)):A(function(){T.triggerHandler("scrollchange"+S,[T.scrollTop()])})},scrollchange:function(e,t){m.checkVisibility(t)}},precache:function(t,r){t instanceof Array||(t=[t]);for(var i=t.length,o=0,s=[],a=n.createElement("img"),u=function(){o++,o>=t.length&&e.isFunction(r)&&r()};i--;)a=n.createElement("img"),a.onload=u,a.onerror=u,a.src=t[i],s.push(a)},enableCallbacks:function(){m.debug("Allowing callbacks to occur"),R=!1},disableCallbacks:function(){m.debug("Disabling all callbacks temporarily"),R=!0},should:{trackChanges:function(){return d?(m.debug("One time query, no need to bind events"),!1):(m.debug("Callbacks being attached"),!0)}},setup:{cache:function(){m.cache={occurred:{},screen:{},element:{}}},image:function(){var e=E.data(x.src);e&&(m.verbose("Lazy loading image",e),y.once=!0,y.observeChanges=!1,y.onOnScreen=function(){m.debug("Image on screen",D),m.precache(e,function(){m.set.image(e,function(){p++,p==h&&y.onAllLoaded.call(this),y.onLoad.call(this)})})})},fixed:function(){m.debug("Setting up fixed"),y.once=!1,y.observeChanges=!1,y.initialCheck=!0,y.refreshOnLoad=!0,i.transition||(y.transition=!1),m.create.placeholder(),m.debug("Added placeholder",s),y.onTopPassed=function(){m.debug("Element passed, adding fixed position",E),m.show.placeholder(),m.set.fixed(),y.transition&&e.fn.transition!==r&&E.transition(y.transition,y.duration)},y.onTopPassedReverse=function(){m.debug("Element returned to position, removing fixed",E),m.hide.placeholder(),m.remove.fixed()}}},create:{placeholder:function(){m.verbose("Creating fixed position placeholder"),s=E.clone(!1).css("display","none").addClass(b.placeholder).insertAfter(E)}},show:{placeholder:function(){m.verbose("Showing placeholder"),s.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){m.verbose("Hiding placeholder"),s.css("display","none").css("visibility","")}},set:{fixed:function(){m.verbose("Setting element to fixed position"),E.addClass(b.fixed).css({position:"fixed",top:y.offset+"px",left:"auto",zIndex:y.zIndex}),y.onFixed.call(D)},image:function(t,n){if(E.attr("src",t),y.transition)if(e.fn.transition!==r){if(E.hasClass(b.visible))return void m.debug("Transition already occurred on this image, skipping animation");E.transition(y.transition,y.duration,n)}else E.fadeIn(y.duration,n);else E.show()}},is:{onScreen:function(){var e=m.get.elementCalculations();return e.onScreen},offScreen:function(){var e=m.get.elementCalculations();return e.offScreen},visible:function(){return!(!m.cache||!m.cache.element)&&!(0===m.cache.element.width&&0===m.cache.element.offset.top)}},refresh:function(){m.debug("Refreshing constants (width/height)"),"fixed"==y.type&&m.resetFixed(),m.reset(),m.save.position(),y.checkOnRefresh&&m.checkVisibility(),y.onRefresh.call(D)},resetFixed:function(){m.remove.fixed(),m.remove.occurred()},reset:function(){m.verbose("Resetting all cached values"),e.isPlainObject(m.cache)&&(m.cache.screen={},m.cache.element={})},checkVisibility:function(e){m.verbose("Checking visibility of element",m.cache.element),!R&&m.is.visible()&&(m.save.scroll(e),m.save.calculations(),m.passed(),m.passingReverse(),m.topVisibleReverse(),m.bottomVisibleReverse(),m.topPassedReverse(),m.bottomPassedReverse(),m.onScreen(),m.offScreen(),m.passing(),m.topVisible(),m.bottomVisible(),m.topPassed(),m.bottomPassed(),y.onUpdate&&y.onUpdate.call(D,m.get.elementCalculations()))},passed:function(t,n){var i=m.get.elementCalculations();if(t&&n)y.onPassed[t]=n;else{if(t!==r)return m.get.pixelsPassed(t)>i.pixelsPassed;i.passing&&e.each(y.onPassed,function(e,t){i.bottomVisible||i.pixelsPassed>m.get.pixelsPassed(e)?m.execute(t,e):y.once||m.remove.occurred(t)})}},onScreen:function(e){var t=m.get.elementCalculations(),n=e||y.onOnScreen,i="onScreen";if(e&&(m.debug("Adding callback for onScreen",e),y.onOnScreen=e),t.onScreen?m.execute(n,i):y.once||m.remove.occurred(i),e!==r)return t.onOnScreen},offScreen:function(e){var t=m.get.elementCalculations(),n=e||y.onOffScreen,i="offScreen";if(e&&(m.debug("Adding callback for offScreen",e),y.onOffScreen=e),t.offScreen?m.execute(n,i):y.once||m.remove.occurred(i),e!==r)return t.onOffScreen},passing:function(e){var t=m.get.elementCalculations(),n=e||y.onPassing,i="passing";if(e&&(m.debug("Adding callback for passing",e),y.onPassing=e),t.passing?m.execute(n,i):y.once||m.remove.occurred(i),e!==r)return t.passing},topVisible:function(e){var t=m.get.elementCalculations(),n=e||y.onTopVisible,i="topVisible";if(e&&(m.debug("Adding callback for top visible",e),y.onTopVisible=e),t.topVisible?m.execute(n,i):y.once||m.remove.occurred(i),e===r)return t.topVisible},bottomVisible:function(e){var t=m.get.elementCalculations(),n=e||y.onBottomVisible,i="bottomVisible";if(e&&(m.debug("Adding callback for bottom visible",e),y.onBottomVisible=e),t.bottomVisible?m.execute(n,i):y.once||m.remove.occurred(i),e===r)return t.bottomVisible},topPassed:function(e){var t=m.get.elementCalculations(),n=e||y.onTopPassed,i="topPassed";if(e&&(m.debug("Adding callback for top passed",e),y.onTopPassed=e),t.topPassed?m.execute(n,i):y.once||m.remove.occurred(i),e===r)return t.topPassed},bottomPassed:function(e){var t=m.get.elementCalculations(),n=e||y.onBottomPassed,i="bottomPassed";if(e&&(m.debug("Adding callback for bottom passed",e),y.onBottomPassed=e),t.bottomPassed?m.execute(n,i):y.once||m.remove.occurred(i),e===r)return t.bottomPassed},passingReverse:function(e){var t=m.get.elementCalculations(),n=e||y.onPassingReverse,i="passingReverse";if(e&&(m.debug("Adding callback for passing reverse",e),y.onPassingReverse=e),t.passing?y.once||m.remove.occurred(i):m.get.occurred("passing")&&m.execute(n,i),e!==r)return!t.passing},topVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||y.onTopVisibleReverse,i="topVisibleReverse";if(e&&(m.debug("Adding callback for top visible reverse",e),y.onTopVisibleReverse=e),t.topVisible?y.once||m.remove.occurred(i):m.get.occurred("topVisible")&&m.execute(n,i),e===r)return!t.topVisible},bottomVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||y.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(m.debug("Adding callback for bottom visible reverse",e),y.onBottomVisibleReverse=e),t.bottomVisible?y.once||m.remove.occurred(i):m.get.occurred("bottomVisible")&&m.execute(n,i),e===r)return!t.bottomVisible},topPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||y.onTopPassedReverse,i="topPassedReverse";if(e&&(m.debug("Adding callback for top passed reverse",e),y.onTopPassedReverse=e),t.topPassed?y.once||m.remove.occurred(i):m.get.occurred("topPassed")&&m.execute(n,i),e===r)return!t.onTopPassed},bottomPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||y.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(m.debug("Adding callback for bottom passed reverse",e),y.onBottomPassedReverse=e),t.bottomPassed?y.once||m.remove.occurred(i):m.get.occurred("bottomPassed")&&m.execute(n,i),e===r)return!t.bottomPassed},execute:function(e,t){var n=m.get.elementCalculations(),r=m.get.screenCalculations();e=e||!1,e&&(y.continuous?(m.debug("Callback being called continuously",t,n),e.call(D,n,r)):m.get.occurred(t)||(m.debug("Conditions met",t,n),e.call(D,n,r))),m.save.occurred(t)},remove:{fixed:function(){m.debug("Removing fixed position"),E.removeClass(b.fixed).css({position:"",top:"",left:"",zIndex:""}),y.onUnfixed.call(D)},placeholder:function(){m.debug("Removing placeholder content"),s&&s.remove()},occurred:function(e){if(e){var t=m.cache.occurred;t[e]!==r&&t[e]===!0&&(m.debug("Callback can now be called again",e),m.cache.occurred[e]=!1)}else m.cache.occurred={}}},save:{calculations:function(){m.verbose("Saving all calculations necessary to determine positioning"),m.save.direction(),m.save.screenCalculations(),m.save.elementCalculations()},occurred:function(e){e&&(m.cache.occurred[e]!==r&&m.cache.occurred[e]===!0||(m.verbose("Saving callback occurred",e),m.cache.occurred[e]=!0))},scroll:function(e){e=e+y.offset||T.scrollTop()+y.offset,m.cache.scroll=e},direction:function(){var e,t=m.get.scroll(),n=m.get.lastScroll();return e=t>n&&n?"down":t<n&&n?"up":"static",m.cache.direction=e,m.cache.direction},elementPosition:function(){var e=m.cache.element,t=m.get.screenSize();return m.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=E.offset(),e.width=E.outerWidth(),e.height=E.outerHeight(),m.cache.element=e,e},elementCalculations:function(){var e=m.get.screenCalculations(),t=m.get.elementPosition();return y.includeMargin?(t.margin={},t.margin.top=parseInt(E.css("margin-top"),10),t.margin.bottom=parseInt(E.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),m.cache.element=t,m.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=m.get.scroll();return m.save.direction(),m.cache.screen.top=e,m.cache.screen.bottom=e+m.cache.screen.height,m.cache.screen},screenSize:function(){m.verbose("Saving window position"),m.cache.screen={height:T.height()}},position:function(){m.save.screenSize(),m.save.elementPosition()}},get:{pixelsPassed:function(e){var t=m.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return m.cache.occurred!==r&&(m.cache.occurred[e]||!1)},direction:function(){return m.cache.direction===r&&m.save.direction(),m.cache.direction},elementPosition:function(){return m.cache.element===r&&m.save.elementPosition(),m.cache.element},elementCalculations:function(){return m.cache.element===r&&m.save.elementCalculations(),m.cache.element},screenCalculations:function(){return m.cache.screen===r&&m.save.screenCalculations(),m.cache.screen},screenSize:function(){return m.cache.screen===r&&m.save.screenSize(),m.cache.screen},scroll:function(){return m.cache.scroll===r&&m.save.scroll(),m.cache.scroll},lastScroll:function(){return m.cache.screen===r?(m.debug("First scroll event, no last scroll could be found"),!1):m.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===r)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===r)return m[t];m[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,y.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),m.verbose.apply(console,arguments)))},error:function(){y.silent||(m.error=Function.prototype.bind.call(console.error,console,y.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;y.performance&&(t=(new Date).getTime(),r=u||t,n=t-r,u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=y.name+":",n=0;u=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==r||console.table!==r)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var s,a,u,c=O;return n=n||f,i=D||i,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(m.error(_.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==r&&(u=a),e.isArray(o)?o.push(u):o!==r?o=[o,u]:u!==r&&(o=u),a}},d?(O===r&&m.initialize(),O.save.scroll(),O.save.calculations(),m.invoke(l)):(O!==r&&O.invoke("destroy"),m.initialize())}),o!==r?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.calendar=function(t){var i,o=e(this),s=o.selector||"",a=(new Date).getTime(),u=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,f,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.calendar.settings,t):e.extend({},e.fn.calendar.settings),p=h.className,v=h.namespace,g=h.selector,m=h.formatter,y=h.parser,b=h.metadata,w=h.error,_="."+v,x="module-"+v,S=e(this),k=S.find(g.input),C=S.find(g.popup),E=S.find(g.activator),T=this,O=S.data(x),A=!1,D=!1;f={initialize:function(){f.debug("Initializing calendar for",T),o=f.get.isTouch(),f.setup.popup(),f.setup.inline(),f.setup.input(),f.setup.date(),f.create.calendar(),f.bind.events(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of calendar"),O=f,S.data(x,O)},destroy:function(){f.verbose("Destroying previous calendar for",T),S.removeData(x),f.unbind.events()},setup:{popup:function(){if(!h.inline&&(E.length||(E=S.children().first(),E.length))){if(e.fn.popup===r)return void f.error(w.popup);C.length||(C=e("<div/>").addClass(p.popup).prependTo(E.parent())),C.addClass(p.calendar);var t=h.onVisible,n=h.onHidden;k.length||(C.attr("tabindex","0"),t=function(){return f.focus(),h.onVisible.apply(C,arguments)},n=function(){return f.blur(),h.onHidden.apply(C,arguments)});var i=function(){return f.set.focusDate(f.get.date()),f.set.mode(h.startMode),h.onShow.apply(C,arguments)},o=h.on||(k.length?"focus":"click"),s=e.extend({},h.popupOptions,{popup:C,on:o,hoverable:"hover"===o,onShow:i,onVisible:t,onHide:h.onHide,onHidden:n});f.popup(s)}},inline:function(){E.length&&!h.inline||(C=e("<div/>").addClass(p.calendar).appendTo(S),k.length||C.attr("tabindex","0"))},input:function(){h.touchReadonly&&k.length&&o&&k.prop("readonly",!0)},date:function(){if(k.length){var e=k.val(),t=y.date(e,h);f.set.date(t,h.formatInput,!1)}}},create:{calendar:function(){var t,n,r,i,o,s,a,u=f.get.mode(),c=new Date,l=f.get.date(),d=f.get.focusDate(),v=d||l||h.initialDate||c;v=f.helper.dateInRange(v),d||(d=v,f.set.focusDate(d,!1,!1));var g="year"===u,y="month"===u,w="day"===u,_="hour"===u,x="minute"===u,S="time"===h.type,k=Math.max(h.multiMonth,1),E=w?f.get.monthOffset():0,T=v.getMinutes(),O=v.getHours(),A=v.getDate(),D=v.getMonth()+E,R=v.getFullYear(),j=w?7:_?4:3,M=7===j?"seven":4===j?"four":"three",P=w||_?6:4,I=w?k:1,L=C;for(L.empty(),I>1&&(a=e("<div/>").addClass(p.grid).appendTo(L)),i=0;i<I;i++){if(I>1){var F=e("<div/>").addClass(p.column).appendTo(a);L=F}var N=D+i,q=(new Date(R,N,1).getDay()-h.firstDayOfWeek%7+7)%7;if(!h.constantHeight&&w){var B=new Date(R,N+1,0).getDate()+q;P=Math.ceil(B/7)}var H=g?10:y?1:0,V=w?1:0,z=_||x?1:0,U=_||x?A:1,W=new Date(R-H,N-V,U-z,O),Y=new Date(R+H,N+V,U+z,O),$=g?new Date(10*Math.ceil(R/10)-9,0,0):y?new Date(R,0,0):w?new Date(R,N,0):new Date(R,N,A,-1),G=g?new Date(10*Math.ceil(R/10)+1,0,1):y?new Date(R+1,0,1):w?new Date(R,N+1,1):new Date(R,N,A+1),K=e("<table/>").addClass(p.table).addClass(M+" column").addClass(u).appendTo(L);if(!S){var Q=e("<thead/>").appendTo(K);o=e("<tr/>").appendTo(Q),s=e("<th/>").attr("colspan",""+j).appendTo(o);var X=g||y?new Date(R,0,1):w?new Date(R,N,1):new Date(R,N,A,O,T),J=e("<span/>").addClass(p.link).appendTo(s);J.text(m.header(X,u,h));var Z=y?h.disableYear?"day":"year":w?h.disableMonth?"year":"month":"day";if(J.data(b.mode,Z),0===i){var ee=e("<span/>").addClass(p.prev).appendTo(s);ee.data(b.focusDate,W),ee.toggleClass(p.disabledCell,!f.helper.isDateInRange($,u)),e("<i/>").addClass(p.prevIcon).appendTo(ee)}if(i===I-1){var te=e("<span/>").addClass(p.next).appendTo(s);te.data(b.focusDate,Y),te.toggleClass(p.disabledCell,!f.helper.isDateInRange(G,u)),e("<i/>").addClass(p.nextIcon).appendTo(te)}if(w)for(o=e("<tr/>").appendTo(Q),t=0;t<j;t++)s=e("<th/>").appendTo(o),s.text(m.dayColumnHeader((t+h.firstDayOfWeek)%7,h))}var ne=e("<tbody/>").appendTo(K);for(t=g?10*Math.ceil(R/10)-9:w?1-q:0,n=0;n<P;n++)for(o=e("<tr/>").appendTo(ne),r=0;r<j;r++,t++){var re=g?new Date(t,N,1,O,T):y?new Date(R,t,1,O,T):w?new Date(R,N,t,O,T):_?new Date(R,N,A,t):new Date(R,N,A,O,5*t),ie=g?t:y?h.text.monthsShort[t]:w?re.getDate():m.time(re,h,!0);s=e("<td/>").addClass(p.cell).appendTo(o),s.text(ie),s.data(b.date,re);var oe=w&&re.getMonth()!==(N+12)%12,se=oe||!f.helper.isDateInRange(re,u)||h.isDisabled(re,u),ae=f.helper.dateEqual(re,l,u);s.toggleClass(p.adjacentCell,oe),s.toggleClass(p.disabledCell,se),s.toggleClass(p.activeCell,ae&&!oe),_||x||s.toggleClass(p.todayCell,!oe&&f.helper.dateEqual(re,c,u)),f.helper.dateEqual(re,d,u)&&f.set.focusDate(re,!1,!1)}if(h.today){var ue=e("<tr/>").appendTo(ne),ce=e("<td/>").attr("colspan",""+j).addClass(p.today).appendTo(ue);ce.text(m.today(h)),ce.data(b.date,c)}f.update.focus(!1,K)}}},update:{focus:function(t,n){n=n||C;var r=f.get.mode(),i=f.get.date(),s=f.get.focusDate(),a=f.get.startDate(),u=f.get.endDate(),c=(t?s:null)||i||(o?null:s);n.find("td").each(function(){var t=e(this),n=t.data(b.date);if(n){var i=t.hasClass(p.disabledCell),l=t.hasClass(p.activeCell),d=t.hasClass(p.adjacentCell),h=f.helper.dateEqual(n,s,r),v=!!c&&(!!a&&f.helper.isDateInRange(n,r,a,c)||!!u&&f.helper.isDateInRange(n,r,c,u));t.toggleClass(p.focusCell,h&&(!o||A)&&!d),t.toggleClass(p.rangeCell,v&&!l&&!i)}})}},refresh:function(){f.create.calendar()},bind:{events:function(){C.on("mousedown"+_,f.event.mousedown),C.on("touchstart"+_,f.event.mousedown),C.on("mouseup"+_,f.event.mouseup),C.on("touchend"+_,f.event.mouseup),C.on("mouseover"+_,f.event.mouseover),k.length?(k.on("input"+_,f.event.inputChange),k.on("focus"+_,f.event.inputFocus),k.on("blur"+_,f.event.inputBlur),k.on("click"+_,f.event.inputClick),k.on("keydown"+_,f.event.keydown)):C.on("keydown"+_,f.event.keydown)}},unbind:{events:function(){C.off(_),k.length&&k.off(_)}},event:{mouseover:function(t){var n=e(t.target),r=n.data(b.date),i=1===t.buttons;r&&f.set.focusDate(r,!1,!0,i)},mousedown:function(t){k.length&&t.preventDefault(),A=t.type.indexOf("touch")>=0;var n=e(t.target),r=n.data(b.date);r&&f.set.focusDate(r,!1,!0,!0)},mouseup:function(t){f.focus(),t.preventDefault(),t.stopPropagation(),A=!1;var n=e(t.target),r=n.parent();(r.data(b.date)||r.data(b.focusDate)||r.data(b.mode))&&(n=r);var i=n.data(b.date),o=n.data(b.focusDate),s=n.data(b.mode);if(i){var a=n.hasClass(p.today);f.selectDate(i,a)}else o?f.set.focusDate(o):s&&f.set.mode(s)},keydown:function(e){if(27!==e.keyCode&&9!==e.keyCode||f.popup("hide"),f.popup("is visible"))if(37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){var t=f.get.mode(),n="day"===t?7:"hour"===t?4:3,r=37===e.keyCode?-1:38===e.keyCode?-n:39==e.keyCode?1:n;r*="minute"===t?5:1;var i=f.get.focusDate()||f.get.date()||new Date,o=i.getFullYear()+("year"===t?r:0),s=i.getMonth()+("month"===t?r:0),a=i.getDate()+("day"===t?r:0),u=i.getHours()+("hour"===t?r:0),c=i.getMinutes()+("minute"===t?r:0),l=new Date(o,s,a,u,c);"time"===h.type&&(l=f.helper.mergeDateTime(i,l)),f.helper.isDateInRange(l,t)&&f.set.focusDate(l)}else if(13===e.keyCode){var t=f.get.mode(),d=f.get.focusDate();d&&!h.isDisabled(d,t)&&f.selectDate(d),e.preventDefault(),e.stopPropagation()}38!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),f.popup("show"))},inputChange:function(){var e=k.val(),t=y.date(e,h);f.set.date(t,!1)},inputFocus:function(){C.addClass(p.active)},inputBlur:function(){if(C.removeClass(p.active),h.formatInput){var e=f.get.date(),t=m.datetime(e,h);k.val(t)}},inputClick:function(){f.popup("show")}},get:{date:function(){return S.data(b.date)||null},focusDate:function(){return S.data(b.focusDate)||null},startDate:function(){var e=f.get.calendarModule(h.startCalendar);return(e?e.get.date():S.data(b.startDate))||null},endDate:function(){var e=f.get.calendarModule(h.endCalendar);return(e?e.get.date():S.data(b.endDate))||null},monthOffset:function(){return S.data(b.monthOffset)||0},mode:function(){var t=S.data(b.mode)||h.startMode,n=f.get.validModes();return e.inArray(t,n)>=0?t:"time"===h.type?"hour":"month"===h.type?"month":"year"===h.type?"year":"day"},validModes:function(){var e=[];return"time"!==h.type&&(h.disableYear&&"year"!==h.type||e.push("year"),(!h.disableMonth&&"year"!==h.type||"month"===h.type)&&e.push("month"),h.type.indexOf("date")>=0&&e.push("day")),h.type.indexOf("time")>=0&&(e.push("hour"),h.disableMinute||e.push("minute")),e},isTouch:function(){try{return n.createEvent("TouchEvent"),!0}catch(e){return!1}},calendarModule:function(t){return t?(t instanceof e||(t=S.parent().children(t).first()),t.data(x)):null}},set:{date:function(e,t,n){t=t!==!1,n=n!==!1,e=f.helper.sanitiseDate(e),e=f.helper.dateInRange(e);var i=m.datetime(e,h);if(n&&h.onChange.call(T,e,i)===!1)return!1;f.set.focusDate(e);var o=f.get.mode();if(h.isDisabled(e,o))return!1;var s=f.get.endDate();s&&e&&e>s&&f.set.endDate(r),f.set.dataKeyValue(b.date,e),t&&k.length&&k.val(i)},startDate:function(e,t){e=f.helper.sanitiseDate(e);var n=f.get.calendarModule(h.startCalendar);n&&n.set.date(e),f.set.dataKeyValue(b.startDate,e,t)},endDate:function(e,t){e=f.helper.sanitiseDate(e);var n=f.get.calendarModule(h.endCalendar);n&&n.set.date(e),f.set.dataKeyValue(b.endDate,e,t)},focusDate:function(e,t,n,r){e=f.helper.sanitiseDate(e),e=f.helper.dateInRange(e);var i="day"===f.get.mode(),o=f.get.focusDate();if(i&&e&&o){var s=e.getFullYear()-o.getFullYear(),a=12*s+e.getMonth()-o.getMonth();if(a){var u=f.get.monthOffset()-a;f.set.monthOffset(u,!1)}}var c=f.set.dataKeyValue(b.focusDate,e,t);n=n!==!1&&c&&t===!1||D!=r,D=r,n&&f.update.focus(r)},monthOffset:function(e,t){var n=Math.max(h.multiMonth,1);
e=Math.max(1-n,Math.min(0,e)),f.set.dataKeyValue(b.monthOffset,e,t)},mode:function(e,t){f.set.dataKeyValue(b.mode,e,t)},dataKeyValue:function(e,t,n){var r=S.data(e),i=r===t||r<=t&&r>=t;return t?S.data(e,t):S.removeData(e),n=n!==!1&&!i,n&&f.create.calendar(),!i}},selectDate:function(e,t){var n=f.get.mode(),r=t||"minute"===n||h.disableMinute&&"hour"===n||"date"===h.type&&"day"===n||"month"===h.type&&"month"===n||"year"===h.type&&"year"===n;if(r){var i=f.set.date(e)===!1;if(!i&&h.closable){f.popup("hide");var o=f.get.calendarModule(h.endCalendar);o&&(o.popup("show"),o.focus())}}else{var s="year"===n?h.disableMonth?"day":"month":"month"===n?"day":"day"===n?"hour":"minute";f.set.mode(s),"hour"===n||"day"===n&&f.get.date()?f.set.date(e):f.set.focusDate(e)}},changeDate:function(e){f.set.date(e)},clear:function(){f.set.date(r)},popup:function(){return E.popup.apply(E,arguments)},focus:function(){k.length?k.focus():C.focus()},blur:function(){k.length?k.blur():C.blur()},helper:{sanitiseDate:function(e){return e?(e instanceof Date||(e=y.date(""+e,h)),isNaN(e.getTime())?r:e):r},dateDiff:function(e,t,n){n=n||"day";var r="time"===h.type,i="year"===n,o=i||"month"===n,s="minute"===n,a=s||"hour"===n;return e=new Date(r?2e3:e.getFullYear(),r?0:i?0:e.getMonth(),r?1:o?1:e.getDate(),a?e.getHours():0,s?5*Math.floor(e.getMinutes()/5):0),t=new Date(r?2e3:t.getFullYear(),r?0:i?0:t.getMonth(),r?1:o?1:t.getDate(),a?t.getHours():0,s?5*Math.floor(t.getMinutes()/5):0),t.getTime()-e.getTime()},dateEqual:function(e,t,n){return!!e&&!!t&&0===f.helper.dateDiff(e,t,n)},isDateInRange:function(e,t,n,r){if(!n&&!r){var i=f.get.startDate();n=i&&h.minDate?new Date(Math.max(i,h.minDate)):i||h.minDate,r=h.maxDate}return n=n&&new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),5*Math.ceil(n.getMinutes()/5)),!(!e||n&&f.helper.dateDiff(e,n,t)>0||r&&f.helper.dateDiff(r,e,t)>0)},dateInRange:function(e,t,n){if(!t&&!n){var r=f.get.startDate();t=r&&h.minDate?new Date(Math.max(r,h.minDate)):r||h.minDate,n=h.maxDate}t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),5*Math.ceil(t.getMinutes()/5));var i="time"===h.type;return e?t&&f.helper.dateDiff(e,t,"minute")>0?i?f.helper.mergeDateTime(e,t):t:n&&f.helper.dateDiff(n,e,"minute")>0?i?f.helper.mergeDateTime(e,n):n:e:e},mergeDateTime:function(e,t){return e&&t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()):t}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===r)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){return f.debug("Changing internal",t,n),n===r?f[t]:void(e.isPlainObject(t)?e.extend(!0,f,t):f[t]=n)},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;h.performance&&(t=(new Date).getTime(),r=a||t,n=t-r,a=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(f.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,u,c=O;return n=n||d,o=T||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=s)c=c[o];else{if(c[o]!==r)return a=c[o],!1;if(!e.isPlainObject(c[i])||n==s)return c[i]!==r?(a=c[i],!1):(f.error(w.method,t),!1);c=c[i]}})),e.isFunction(a)?u=a.apply(o,n):a!==r&&(u=a),e.isArray(i)?i.push(u):i!==r?i=[i,u]:u!==r&&(i=u),a}},l?(O===r&&f.initialize(),f.invoke(c)):(O!==r&&O.invoke("destroy"),f.initialize())}),i!==r?i:this},e.fn.calendar.settings={name:"Calendar",namespace:"calendar",silent:!1,debug:!1,verbose:!1,performance:!1,type:"datetime",firstDayOfWeek:0,constantHeight:!0,today:!1,closable:!0,monthFirst:!0,touchReadonly:!0,inline:!1,on:null,initialDate:null,startMode:!1,minDate:null,maxDate:null,ampm:!0,disableYear:!1,disableMonth:!1,disableMinute:!1,formatInput:!0,startCalendar:null,endCalendar:null,multiMonth:1,popupOptions:{position:"bottom left",lastResort:"bottom left",prefer:"opposite",hideOnScroll:!1},text:{days:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",now:"Now",am:"AM",pm:"PM"},formatter:{header:function(e,t,n){return"year"===t?n.formatter.yearHeader(e,n):"month"===t?n.formatter.monthHeader(e,n):"day"===t?n.formatter.dayHeader(e,n):"hour"===t?n.formatter.hourHeader(e,n):n.formatter.minuteHeader(e,n)},yearHeader:function(e,t){var n=10*Math.ceil(e.getFullYear()/10);return n-9+" - "+(n+2)},monthHeader:function(e,t){return e.getFullYear()},dayHeader:function(e,t){var n=t.text.months[e.getMonth()],r=e.getFullYear();return n+" "+r},hourHeader:function(e,t){return t.formatter.date(e,t)},minuteHeader:function(e,t){return t.formatter.date(e,t)},dayColumnHeader:function(e,t){return t.text.days[e]},datetime:function(e,t){if(!e)return"";var n="time"===t.type?"":t.formatter.date(e,t),r=t.type.indexOf("time")<0?"":t.formatter.time(e,t,!1),i="datetime"===t.type?" ":"";return n+i+r},date:function(e,t){if(!e)return"";var n=e.getDate(),r=t.text.months[e.getMonth()],i=e.getFullYear();return"year"===t.type?i:"month"===t.type?r+" "+i:(t.monthFirst?r+" "+n:n+" "+r)+", "+i},time:function(e,t,n){if(!e)return"";var r=e.getHours(),i=e.getMinutes(),o="";return t.ampm&&(o=" "+(r<12?t.text.am:t.text.pm),r=0===r?12:r>12?r-12:r),r+":"+(i<10?"0":"")+i+o},today:function(e){return"date"===e.type?e.text.today:e.text.now}},parser:{date:function(t,n){if(!t)return null;if(t=(""+t).trim().toLowerCase(),0===t.length)return null;var i,o,s,a=-1,u=-1,c=-1,l=-1,d=-1,f=r,h="time"===n.type,p=n.type.indexOf("time")<0,v=t.split(n.regExp.dateWords),g=t.split(n.regExp.dateNumbers);if(!p)for(f=e.inArray(n.text.am.toLowerCase(),v)>=0||!(e.inArray(n.text.pm.toLowerCase(),v)>=0)&&r,i=0;i<g.length;i++){var m=g[i];if(m.indexOf(":")>=0){if(u<0||a<0){var y=m.split(":");for(s=0;s<Math.min(2,y.length);s++)o=parseInt(y[s]),isNaN(o)&&(o=0),0===s?u=o%24:a=o%60}g.splice(i,1)}}if(!h){for(i=0;i<v.length;i++){var b=v[i];if(!(b.length<=0)){for(b=b.substring(0,Math.min(b.length,3)),o=0;o<n.text.months.length;o++){var w=n.text.months[o];if(w=w.substring(0,Math.min(b.length,Math.min(w.length,3))).toLowerCase(),w===b){l=o+1;break}}if(l>=0)break}}for(i=0;i<g.length;i++)if(o=parseInt(g[i]),!isNaN(o)&&o>59){d=o,g.splice(i,1);break}if(l<0)for(i=0;i<g.length;i++)if(s=i>1||n.monthFirst?i:1===i?0:1,o=parseInt(g[s]),!isNaN(o)&&1<=o&&o<=12){l=o,g.splice(s,1);break}for(i=0;i<g.length;i++)if(o=parseInt(g[i]),!isNaN(o)&&1<=o&&o<=31){c=o,g.splice(i,1);break}if(d<0)for(i=g.length-1;i>=0;i--)if(o=parseInt(g[i]),!isNaN(o)){o<99&&(o+=2e3),d=o,g.splice(i,1);break}}if(!p){if(u<0)for(i=0;i<g.length;i++)if(o=parseInt(g[i]),!isNaN(o)&&0<=o&&o<=23){u=o,g.splice(i,1);break}if(a<0)for(i=0;i<g.length;i++)if(o=parseInt(g[i]),!isNaN(o)&&0<=o&&o<=59){a=o,g.splice(i,1);break}}if(a<0&&u<0&&c<0&&l<0&&d<0)return null;a<0&&(a=0),u<0&&(u=0),c<0&&(c=1),l<0&&(l=1),d<0&&(d=(new Date).getFullYear()),f!==r&&(f?12===u&&(u=0):u<12&&(u+=12));var _=new Date(d,l-1,c,u,a);return _.getMonth()===l-1&&_.getFullYear()===d||(_=new Date(d,l,0,u,a)),isNaN(_.getTime())?null:_}},onChange:function(e,t){return!0},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},isDisabled:function(e,t){return!1},selector:{popup:".ui.popup",input:"input",activator:"input"},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:"UI Popup, a required component is not included in this page",method:"The method you called is not defined."},className:{calendar:"calendar",active:"active",popup:"ui popup",grid:"ui equal width grid",column:"column",table:"ui celled center aligned unstackable table",prev:"prev link",next:"next link",prevIcon:"chevron left icon",nextIcon:"chevron right icon",link:"link",cell:"link",disabledCell:"disabled",adjacentCell:"adjacent",activeCell:"active",rangeCell:"range",focusCell:"focus",todayCell:"today",today:"today link"},metadata:{date:"date",focusDate:"focusDate",startDate:"startDate",endDate:"endDate",mode:"mode",monthOffset:"monthOffset"}}}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return $(e,Be)}function r(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function i(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){e("body").addClass("fc-not-allowed")}function s(){e("body").removeClass("fc-not-allowed")}function a(t,n,r){var i=Math.floor(n/t.length),o=Math.floor(n-i*(t.length-1)),s=[],a=[],c=[],l=0;u(t),t.each(function(n,r){var u=n===t.length-1?o:i,d=e(r).outerHeight(!0);d<u?(s.push(r),a.push(d),c.push(e(r).height())):l+=d}),r&&(n-=l,i=Math.floor(n/s.length),o=Math.floor(n-i*(s.length-1))),e(s).each(function(t,n){var r=t===s.length-1?o:i,u=a[t],l=c[t],d=r-(u-l);u<r&&e(n).height(d)})}function u(e){e.height("")}function c(t){var n=0;return t.find("> *").each(function(t,r){var i=e(r).outerWidth();i>n&&(n=i)}),n++,t.width(n),n}function l(e,t){var n,r=e.add(t);return r.css({position:"relative",left:-1}),n=e.outerHeight()-t.outerHeight(),r.css({position:"",left:""}),n}function d(t){var n=t.css("position"),r=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(t[0].ownerDocument||document)}function f(e,t){var n=e.offset(),r=n.left-(t?t.left:0),i=n.top-(t?t.top:0);return{left:r,right:r+e.outerWidth(),top:i,bottom:i+e.outerHeight()}}function h(e,t){var n=e.offset(),r=v(e),i=n.left+b(e,"border-left-width")+r.left-(t?t.left:0),o=n.top+b(e,"border-top-width")+r.top-(t?t.top:0);return{left:i,right:i+e[0].clientWidth,top:o,bottom:o+e[0].clientHeight}}function p(e,t){var n=e.offset(),r=n.left+b(e,"border-left-width")+b(e,"padding-left")-(t?t.left:0),i=n.top+b(e,"border-top-width")+b(e,"padding-top")-(t?t.top:0);return{left:r,right:r+e.width(),top:i,bottom:i+e.height()}}function v(e){var t,n=e.innerWidth()-e[0].clientWidth,r=e.innerHeight()-e[0].clientHeight;return n=g(n),r=g(r),t={left:0,right:0,top:0,bottom:r},m()&&"rtl"==e.css("direction")?t.left=n:t.right=n,t}function g(e){return e=Math.max(0,e),e=Math.round(e)}function m(){return null===He&&(He=y()),He}function y(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),r=n.offset().left>t.offset().left;return t.remove(),r}function b(e,t){return parseFloat(e.css(t))||0}function w(e){return 1==e.which&&!e.ctrlKey}function _(e){var t=e.originalEvent.touches;return t&&t.length?t[0].pageX:e.pageX}function x(e){var t=e.originalEvent.touches;return t&&t.length?t[0].pageY:e.pageY}function S(e){return/^touch/.test(e.type)}function k(e){e.addClass("fc-unselectable").on("selectstart",E)}function C(e){e.removeClass("fc-unselectable").off("selectstart",E)}function E(e){e.preventDefault()}function T(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function O(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function A(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function D(e,t){return{left:e.left-t.left,top:e.top-t.top}}function R(t){var n,r,i=[],o=[];for("string"==typeof t?o=t.split(/\s*,\s*/):"function"==typeof t?o=[t]:e.isArray(t)&&(o=t),n=0;n<o.length;n++)r=o[n],"string"==typeof r?i.push("-"==r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i}function j(e,t,n){var r,i;for(r=0;r<n.length;r++)if(i=M(e,t,n[r]))return i;return 0}function M(e,t,n){return n.func?n.func(e,t):P(e[n.field],t[n.field])*(n.order||1)}function P(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function I(e,t){var n,r,i,o,s=e.start,a=e.end,u=t.start,c=t.end;if(a>u&&s<c)return s>=u?(n=s.clone(),i=!0):(n=u.clone(),i=!1),a<=c?(r=a.clone(),o=!0):(r=c.clone(),o=!1),{start:n,end:r,isStart:i,isEnd:o}}function L(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function F(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function N(e,n,r){return t.duration(Math.round(e.diff(n,r,!0)),r)}function q(e,t){var n,r,i;for(n=0;n<ze.length&&(r=ze[n],i=B(r,e,t),!(i>=1&&se(i)));n++);return r}function B(e,n,r){return null!=r?r.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function H(e,t,n){var r;return U(n)?(t-e)/n:(r=n.asMonths(),Math.abs(r)>=1&&se(r)?t.diff(e,"months",!0)/r:t.diff(e,"days",!0)/n.asDays())}function V(e,t){var n,r;return U(e)||U(t)?e/t:(n=e.asMonths(),r=t.asMonths(),Math.abs(n)>=1&&se(n)&&Math.abs(r)>=1&&se(r)?n/r:e.asDays()/t.asDays())}function z(e,n){var r;return U(e)?t.duration(e*n):(r=e.asMonths(),Math.abs(r)>=1&&se(r)?t.duration({months:r*n}):t.duration({days:e.asDays()*n}))}function U(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function W(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function Y(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function $(e,t){var n,r,i,o,s,a,u={};if(t)for(n=0;n<t.length;n++){for(r=t[n],i=[],o=e.length-1;o>=0;o--)if(s=e[o][r],"object"==typeof s)i.unshift(s);else if(void 0!==s){u[r]=s;break}i.length&&(u[r]=$(i))}for(n=e.length-1;n>=0;n--){a=e[n];for(r in a)r in u||(u[r]=a[r])}return u}function G(e){var t=function(){};return t.prototype=e,new t}function K(e,t){for(var n in e)Q(e,n)&&(t[n]=e[n])}function Q(e,t){return Ue.call(e,t)}function X(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function J(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,o;for(i=0;i<t.length;i++)o=t[i].apply(n,r)||o;return o}}function Z(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function ee(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function te(e){return e.replace(/&.*?;/g,"")}function ne(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function re(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+'="'+ee(t)+'"')}),n.join(" ")}function ie(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oe(e,t){return e-t}function se(e){return e%1===0}function ae(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function ue(e,t,n){var r,i,o,s,a,u=function(){var c=+new Date-s;c<t?r=setTimeout(u,t-c):(r=null,n||(a=e.apply(o,i),o=i=null))};return function(){o=this,i=arguments,s=+new Date;var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(a=e.apply(o,i),o=i=null),a}}function ce(n,r,i){var o,s,a,u,c=n[0],l=1==n.length&&"string"==typeof c;return t.isMoment(c)||W(c)||void 0===c?u=t.apply(null,n):(o=!1,s=!1,l?We.test(c)?(c+="-01",n=[c],o=!0,s=!0):(a=Ye.exec(c))&&(o=!a[5],s=!0):e.isArray(c)&&(s=!0),u=r||o?t.utc.apply(t,n):t.apply(null,n),o?(u._ambigTime=!0,u._ambigZone=!0):i&&(s?u._ambigZone=!0:l&&u.utcOffset(c))),u._fullCalendar=!0,u}function le(){}function de(e,t){var n;return Q(t,"constructor")&&(n=t.constructor),"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)}),n.prototype=G(e.prototype),K(t,n.prototype),K(e,n),n}function fe(e,t){K(t,e.prototype)}function he(t){var n=e.Deferred(),r=n.promise();if("function"==typeof t&&t(function(e){he.immediate&&(r._value=e),n.resolve(e)},function(){n.reject()}),he.immediate){var i=r.then;r.then=function(e,t){var n=r.state();if("resolved"===n){if("function"==typeof e)return he.resolve(e(r._value))}else if("rejected"===n&&"function"==typeof t)return t(),r;return i.call(r,e,t)}}return r}function pe(e){function t(e){return new he(function(t){var r=function(){he.resolve(e()).then(t).then(function(){n.shift(),n.length&&n[0]()})};n.push(r),1===n.length&&r()})}var n=[];this.add="number"==typeof e?ue(t,e):t,this.addQuickly=t}function ve(e,t){return!e&&!t||!(!e||!t)&&(e.component===t.component&&ge(e,t)&&ge(t,e))}function ge(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}function me(e){return{start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay}}function ye(e){var t=we(e);return"background"===t||"inverse-background"===t}function be(e){return"inverse-background"===we(e)}function we(e){return Z((e.source||{}).rendering,e.rendering)}function _e(e){var t,n,r={};for(t=0;t<e.length;t++)n=e[t],(r[n._id]||(r[n._id]=[])).push(n);return r}function xe(e,t){return e.start-t.start}function Se(n){var r,i,o,s,a=Ne.dataAttrPrefix;return a&&(a+="-"),r=n.data(a+"event")||null,r&&(r="object"==typeof r?e.extend({},r):{},i=r.start,null==i&&(i=r.time),o=r.duration,s=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick),null==i&&(i=n.data(a+"start")),null==i&&(i=n.data(a+"time")),null==o&&(o=n.data(a+"duration")),null==s&&(s=n.data(a+"stick")),i=null!=i?t.duration(i):null,o=null!=o?t.duration(o):null,s=Boolean(s),{eventProps:r,startTime:i,duration:o,stick:s}}function ke(e,t){var n,r;for(n=0;n<t.length;n++)if(r=t[n],r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0;return!1}function Ce(e,t){return e.leftCol-t.leftCol}function Ee(e){var t,n,r,i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&Ae(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}function Te(e){var t,n,r,i,o;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for(i=n[r],i.forwardSegs=[],o=t+1;o<e.length;o++)Ae(i,e[o],i.forwardSegs)}function Oe(e){var t,n,r=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)n=r[t],Oe(n),i=Math.max(i,1+n.forwardPressure);e.forwardPressure=i}}function Ae(e,t,n){n=n||[];for(var r=0;r<t.length;r++)De(e,t[r])&&n.push(t[r]);return n}function De(e,t){return e.bottom>t.top&&e.top<t.bottom}function Re(e){this.items=e||[]}function je(t,n){function r(e){n=e}function i(){var r=n.layout;v=t.options.theme?"ui":"fc",r?(p?p.empty():p=this.el=e("<div class='fc-toolbar "+n.extraClasses+"'/>"),p.append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>')):o()}function o(){p&&(p.remove(),p=h.el=null)}function s(r){var i=e('<div class="fc-'+r+'"/>'),o=n.layout[r];return o&&e.each(o.split(" "),function(n){var r,o=e(),s=!0;e.each(this.split(","),function(n,r){var i,a,u,c,l,d,f,h,p,m;"title"==r?(o=o.add(e("<h2>&nbsp;</h2>")),s=!1):((i=(t.options.customButtons||{})[r])?(u=function(e){i.click&&i.click.call(m[0],e)},c="",l=i.text):(a=t.getViewSpec(r))?(u=function(){t.changeView(r)},g.push(r),c=a.buttonTextOverride,l=a.buttonTextDefault):t[r]&&(u=function(){t[r]()},c=(t.overrides.buttonText||{})[r],l=t.options.buttonText[r]),u&&(d=i?i.themeIcon:t.options.themeButtonIcons[r],f=i?i.icon:t.options.buttonIcons[r],h=c?ee(c):d&&t.options.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":f&&!t.options.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":ee(l),p=["fc-"+r+"-button",v+"-button",v+"-state-default"],m=e('<button type="button" class="'+p.join(" ")+'">'+h+"</button>").click(function(e){m.hasClass(v+"-state-disabled")||(u(e),(m.hasClass(v+"-state-active")||m.hasClass(v+"-state-disabled"))&&m.removeClass(v+"-state-hover"))}).mousedown(function(){m.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){m.removeClass(v+"-state-down")}).hover(function(){m.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){m.removeClass(v+"-state-hover").removeClass(v+"-state-down")}),o=o.add(m)))}),s&&o.first().addClass(v+"-corner-left").end().last().addClass(v+"-corner-right").end(),o.length>1?(r=e("<div/>"),s&&r.addClass("fc-button-group"),r.append(o),i.append(r)):i.append(o)}),i}function a(e){p&&p.find("h2").text(e)}function u(e){p&&p.find(".fc-"+e+"-button").addClass(v+"-state-active")}function c(e){p&&p.find(".fc-"+e+"-button").removeClass(v+"-state-active")}function l(e){p&&p.find(".fc-"+e+"-button").prop("disabled",!0).addClass(v+"-state-disabled")}function d(e){p&&p.find(".fc-"+e+"-button").prop("disabled",!1).removeClass(v+"-state-disabled")}function f(){return g}var h=this;h.setToolbarOptions=r,h.render=i,h.removeElement=o,h.updateTitle=a,h.activateButton=u,h.deactivateButton=c,h.disableButton=l,h.enableButton=d,h.getViewsWithButtons=f,h.el=null;var p,v,g=[]}function Me(n,r){function i(e){e._locale=z}function o(){$?u()&&(h(),c()):s()}function s(){n.addClass("fc"),n.on("click.fc","a[data-goto]",function(t){var n=e(this),r=n.data("goto"),i=V.moment(r.date),o=r.type,s=Q.opt("navLink"+ie(o)+"Click");"function"==typeof s?s(i,t):("string"==typeof s&&(o=s),M(i,o))}),V.bindOption("theme",function(e){K=e?"ui":"fc",n.toggleClass("ui-widget",e),n.toggleClass("fc-unthemed",!e)}),V.bindOptions(["isRTL","locale"],function(e){n.toggleClass("fc-ltr",!e),n.toggleClass("fc-rtl",e)}),$=e("<div class='fc-view-container'/>").prependTo(n);var t=y();U=new Re(t),W=V.header=t[0],Y=V.footer=t[1],_(),x(),c(V.options.defaultView),V.options.handleWindowResize&&(J=ue(g,V.options.windowResizeDelay),e(window).resize(J))}function a(){Q&&Q.removeElement(),U.proxyCall("removeElement"),$.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),n.off(".fc"),J&&e(window).unbind("resize",J),ot.unneeded()}function u(){return n.is(":visible")}function c(t,n){ne++;var r=Q&&t&&Q.type!==t;r&&(I(),l()),!Q&&t&&(Q=V.view=te[t]||(te[t]=V.instantiateView(t)),Q.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo($)),U.proxyCall("activateButton",t)),Q&&(Z=Q.massageCurrentDate(Z),Q.isDateSet&&Z>=Q.intervalStart&&Z<Q.intervalEnd||u()&&(n&&Q.captureInitialScroll(n),Q.setDate(Z,n),n&&Q.releaseScroll(),S())),r&&L(),ne--}function l(){U.proxyCall("deactivateButton",Q.type),Q.removeElement(),Q=V.view=null}function d(){ne++,I();var e=Q.type,t=Q.queryScroll();l(),h(),c(e,t),L(),ne--}function f(e){if(u())return e&&p(),ne++,Q.updateSize(!0),ne--,!0}function h(){u()&&p()}function p(){var e=V.options.contentHeight,t=V.options.height;X="number"==typeof e?e:"function"==typeof e?e():"number"==typeof t?t-v():"function"==typeof t?t()-v():"parent"===t?n.parent().height()-v():Math.round($.width()/Math.max(V.options.aspectRatio,.5))}function v(){return U.items.reduce(function(e,t){var n=t.el?t.el.outerHeight(!0):0;return e+n},0)}function g(e){!ne&&e.target===window&&Q.start&&f(!0)&&Q.publiclyTrigger("windowResize",ee)}function m(){u()&&V.reportEventChange()}function y(){return[new je(V,b()),new je(V,w())]}function b(){return{extraClasses:"fc-header-toolbar",layout:V.options.header}}function w(){return{extraClasses:"fc-footer-toolbar",layout:V.options.footer}}function _(){W.setToolbarOptions(b()),W.render(),W.el&&n.prepend(W.el)}function x(){Y.setToolbarOptions(w()),Y.render(),Y.el&&n.append(Y.el)}function S(){var e=V.getNow();e>=Q.intervalStart&&e<Q.intervalEnd?U.proxyCall("disableButton","today"):U.proxyCall("enableButton","today")}function k(e,t){Q.select(V.buildSelectSpan.apply(V,arguments))}function C(){Q&&Q.unselect()}function E(){Z=Q.computePrevDate(Z),c()}function T(){Z=Q.computeNextDate(Z),c()}function O(){Z.add(-1,"years"),c()}function A(){Z.add(1,"years"),c()}function D(){Z=V.getNow(),c()}function R(e){Z=V.moment(e).stripZone(),c()}function j(e){Z.add(t.duration(e)),c()}function M(e,t){var n;t=t||"day",n=V.getViewSpec(t)||V.getUnitViewSpec(t),Z=e.clone(),c(n?n.type:null)}function P(){return V.applyTimezone(Z)}function I(){re++||$.css({width:"100%",height:$.height(),overflow:"hidden"})}function L(){--re||$.css({width:"",height:"",overflow:""})}function F(){return V}function N(){return Q}function q(e,t){var n;if("string"==typeof e){if(void 0===t)return V.options[e];n={},n[e]=t,B(n)}else"object"==typeof e&&B(e)}function B(e){var t,n=0;for(t in e)V.dynamicOverrides[t]=e[t];V.viewSpecCache={},V.populateOptionsHash();for(t in e)V.triggerOptionHandlers(t),n++;if(1===n){if("height"===t||"contentHeight"===t||"aspectRatio"===t)return void f(!0);if("defaultDate"===t)return;if("businessHours"===t)return void(Q&&(Q.unrenderBusinessHours(),Q.renderBusinessHours()));if("timezone"===t)return V.rezoneArrayEventSources(),void V.refetchEvents()}_(),x(),te={},d()}function H(e,t){var n=Array.prototype.slice.call(arguments,2);if(t=t||ee,this.triggerWith(e,t,n),V.options[e])return V.options[e].apply(t,n)}var V=this;ot.needed(),V.render=o,V.destroy=a,V.rerenderEvents=m,V.changeView=c,V.select=k,V.unselect=C,V.prev=E,V.next=T,V.prevYear=O,V.nextYear=A,V.today=D,V.gotoDate=R,V.incrementDate=j,V.zoomTo=M,V.getDate=P,V.getCalendar=F,V.getView=N,V.option=q,V.publiclyTrigger=H,V.dynamicOverrides={},V.viewSpecCache={},V.optionHandlers={},V.overrides=e.extend({},r),V.populateOptionsHash();var z;V.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(e,t,n,r,o,s,a){if("iso"===a&&(a="ISO"),z=G(Ie(e)),t&&(z._months=t),n&&(z._monthsShort=n),r&&(z._weekdays=r),o&&(z._weekdaysShort=o),null==s&&"ISO"===a&&(s=1),null!=s){var u=G(z._week);u.dow=s,z._week=u}"ISO"!==a&&"local"!==a&&"function"!=typeof a||(z._fullCalendar_weekCalc=a),Z&&i(Z)}),V.defaultAllDayEventDuration=t.duration(V.options.defaultAllDayEventDuration),V.defaultTimedEventDuration=t.duration(V.options.defaultTimedEventDuration),V.moment=function(){var e;return"local"===V.options.timezone?(e=Ne.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===V.options.timezone?Ne.moment.utc.apply(null,arguments):Ne.moment.parseZone.apply(null,arguments),i(e),e},V.localizeMoment=i,V.getIsAmbigTimezone=function(){return"local"!==V.options.timezone&&"UTC"!==V.options.timezone},V.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,n=V.moment(e.toArray()),r=e.time()-n.time();return r&&(t=n.clone().add(r),e.time()-t.time()===0&&(n=t)),n},V.getNow=function(){var e=V.options.now;return"function"==typeof e&&(e=e()),V.moment(e).stripZone()},V.getEventEnd=function(e){return e.end?e.end.clone():V.getDefaultEventEnd(e.allDay,e.start)},V.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(V.defaultAllDayEventDuration):n.add(V.defaultTimedEventDuration),V.getIsAmbigTimezone()&&n.stripZone(),n},V.humanizeDuration=function(e){return e.locale(V.options.locale).humanize()},Le.call(V);var U,W,Y,$,K,Q,X,J,Z,ee=n[0],te={},ne=0;Z=null!=V.options.defaultDate?V.moment(V.options.defaultDate).stripZone():V.getNow(),V.getSuggestedViewHeight=function(){return void 0===X&&h(),X},V.isHeightAuto=function(){return"auto"===V.options.contentHeight||"auto"===V.options.height},V.setToolbarsTitle=function(e){U.proxyCall("updateTitle",e)},V.freezeContentHeight=I,V.thawContentHeight=L;var re=0;V.initialize()}function Pe(t){e.each(mt,function(e,n){null==t[e]&&(t[e]=n(t))})}function Ie(e){return t.localeData(e)||t.localeData("en")}function Le(){function n(e,t){return!W.options.lazyFetching||o(e,t)?s(e,t):he.resolve(K)}function r(){K=i(ne),W.trigger("eventsReset",K)}function i(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],n.start.clone().stripZone()<G&&W.getEventEnd(n).stripZone()>$&&r.push(n);return r}function o(e,t){return!$||e<$||t>G}function s(e,t){return $=e,G=t,a()}function a(){return c(ee,"reset")}function u(e){return c(_(e))}function c(e,t){var n,r;for("reset"===t?ne=[]:"add"!==t&&(ne=C(ne,e)),n=0;n<e.length;n++)r=e[n],"pending"!==r._status&&te++,r._fetchId=(r._fetchId||0)+1,r._status="pending";for(n=0;n<e.length;n++)r=e[n],l(r,r._fetchId);return te?new he(function(e){W.one("eventsReceived",e)}):he.resolve(K)}function l(t,n){h(t,function(r){var i,o,s,a=e.isArray(t.events);if(n===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",r)for(i=0;i<r.length;i++)o=r[i],s=a?o:I(o,t),s&&ne.push.apply(ne,V(s));f()}})}function d(e){var t="pending"===e._status;e._status="rejected",t&&f()}function f(){te--,te||(r(ne),W.trigger("eventsReceived",K))}function h(t,n){var r,i,o=Ne.sourceFetchers;for(r=0;r<o.length;r++){if(i=o[r].call(W,t,$.clone(),G.clone(),W.options.timezone,n),i===!0)return;if("object"==typeof i)return void h(i,n)}var s=t.events;if(s)e.isFunction(s)?(W.pushLoading(),s.call(W,$.clone(),G.clone(),W.options.timezone,function(e){n(e),W.popLoading()})):e.isArray(s)?n(s):n();else{var a=t.url;if(a){var u,c=t.success,l=t.error,d=t.complete;u=e.isFunction(t.data)?t.data():t.data;var f=e.extend({},u||{}),p=Z(t.startParam,W.options.startParam),v=Z(t.endParam,W.options.endParam),g=Z(t.timezoneParam,W.options.timezoneParam);p&&(f[p]=$.format()),v&&(f[v]=G.format()),W.options.timezone&&"local"!=W.options.timezone&&(f[g]=W.options.timezone),W.pushLoading(),e.ajax(e.extend({},yt,t,{data:f,success:function(t){t=t||[];var r=J(c,this,arguments);e.isArray(r)&&(t=r),n(t)},error:function(){J(l,this,arguments),n()},complete:function(){J(d,this,arguments),W.popLoading()}}))}else n()}}function p(e){var t=v(e);t&&(ee.push(t),c([t],"add"))}function v(t){var n,r,i=Ne.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return I(e,n)})),r=0;r<i.length;r++)i[r].call(W,n);return n}}function g(e){y(x(e))}function m(e){null==e?y(ee,!0):y(_(e))}function y(t,n){var i;for(i=0;i<t.length;i++)d(t[i]);n?(ee=[],ne=[]):(ee=e.grep(ee,function(e){for(i=0;i<t.length;i++)if(e===t[i])return!1;return!0}),ne=C(ne,t)),r()}function b(){return ee.slice(1)}function w(t){return e.grep(ee,function(e){return e.id&&e.id===t})[0]}function _(t){t?e.isArray(t)||(t=[t]):t=[];var n,r=[];for(n=0;n<t.length;n++)r.push.apply(r,x(t[n]));return r}function x(t){var n,r;for(n=0;n<ee.length;n++)if(r=ee[n],r===t)return[r];return r=w(t),r?[r]:e.grep(ee,function(e){return S(t,e)})}function S(e,t){return e&&t&&k(e)==k(t)}function k(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function C(t,n){return e.grep(t,function(e){for(var t=0;t<n.length;t++)if(e.source===n[t])return!1;return!0})}function E(e){T([e])}function T(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.start=W.moment(n.start),n.end?n.end=W.moment(n.end):n.end=null,z(n,O(n));r()}function O(t){var n={};return e.each(t,function(e,t){A(e)&&void 0!==t&&X(t)&&(n[e]=t)}),n}function A(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function D(e,t){return R([e],t)}function R(e,t){var n,i,o,s,a,u=[];for(o=0;o<e.length;o++)if(i=I(e[o])){for(n=V(i),s=0;s<n.length;s++)a=n[s],a.source||(t&&(Q.events.push(a),a.source=Q),ne.push(a));u=u.concat(n)}return u.length&&r(),u}function j(t){var n,i;for(null==t?t=function(){
return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),ne=e.grep(ne,t,!0),i=0;i<ee.length;i++)e.isArray(ee[i].events)&&(ee[i].events=e.grep(ee[i].events,t,!0));r()}function M(t){return e.isFunction(t)?e.grep(ne,t):null!=t?(t+="",e.grep(ne,function(e){return e._id==t})):ne}function P(e){e.start=W.moment(e.start),e.end&&(e.end=W.moment(e.end)),Fe(e)}function I(n,r){var i,o,s,a={};if(W.options.eventDataTransform&&(n=W.options.eventDataTransform(n)),r&&r.eventDataTransform&&(n=r.eventDataTransform(n)),e.extend(a,n),r&&(a.source=r),a._id=n._id||(void 0===n.id?"_fc"+bt++:n.id+""),n.className?"string"==typeof n.className?a.className=n.className.split(/\s+/):a.className=n.className:a.className=[],i=n.start||n.date,o=n.end,Y(i)&&(i=t.duration(i)),Y(o)&&(o=t.duration(o)),n.dow||t.isDuration(i)||t.isDuration(o))a.start=i?t.duration(i):null,a.end=o?t.duration(o):null,a._recurring=!0;else{if(i&&(i=W.moment(i),!i.isValid()))return!1;o&&(o=W.moment(o),o.isValid()||(o=null)),s=n.allDay,void 0===s&&(s=Z(r?r.allDayDefault:void 0,W.options.allDayDefault)),q(i,o,s,a)}return W.normalizeEvent(a),a}function q(e,t,n,r){r.start=e,r.end=t,r.allDay=n,B(r),Fe(r)}function B(e){H(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(W.options.forceEventDuration?e.end=W.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function H(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=W.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=W.applyTimezone(e.end.time(0))))}function V(t,n,r){var i,o,s,a,u,c,l,d,f,h=[];if(n=n||$,r=r||G,t)if(t._recurring){if(o=t.dow)for(i={},s=0;s<o.length;s++)i[o[s]]=!0;for(a=n.clone().stripTime();a.isBefore(r);)i&&!i[a.day()]||(u=t.start,c=t.end,l=a.clone(),d=null,u&&(l=l.time(u)),c&&(d=a.clone().time(c)),f=e.extend({},t),q(l,d,!u&&!c,f),h.push(f)),a.add(1,"days")}else h.push(t);return h}function z(t,n,r){function i(e,t){return r?N(e,t,r):n.allDay?F(e,t):L(e,t)}var o,s,a,u,c,l,d={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),B(n),o={start:t._start.clone(),end:t._end?t._end.clone():W.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},B(o),s=null!==t._end&&null===n.end,a=i(n.start,o.start),n.end?(u=i(n.end,o.end),c=u.subtract(a)):c=null,e.each(n,function(e,t){A(e)&&void 0!==t&&(d[e]=t)}),l=U(M(t._id),s,n.allDay,a,c,d),{dateDelta:a,durationDelta:c,undo:l}}function U(t,n,r,i,o,s){var a=W.getIsAmbigTimezone(),u=[];return i&&!i.valueOf()&&(i=null),o&&!o.valueOf()&&(o=null),e.each(t,function(t,c){var l,d;l={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.each(s,function(e){l[e]=c[e]}),d={start:c._start,end:c._end,allDay:r},B(d),n?d.end=null:o&&!d.end&&(d.end=W.getDefaultEventEnd(d.allDay,d.start)),i&&(d.start.add(i),d.end&&d.end.add(i)),o&&d.end.add(o),a&&!d.allDay&&(i||o)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(c,s,d),Fe(c),u.push(function(){e.extend(c,l),Fe(c)})}),function(){for(var e=0;e<u.length;e++)u[e]()}}var W=this;W.requestEvents=n,W.reportEventChange=r,W.isFetchNeeded=o,W.fetchEvents=s,W.fetchEventSources=c,W.refetchEvents=a,W.refetchEventSources=u,W.getEventSources=b,W.getEventSourceById=w,W.addEventSource=p,W.removeEventSource=g,W.removeEventSources=m,W.updateEvent=E,W.updateEvents=T,W.renderEvent=D,W.renderEvents=R,W.removeEvents=j,W.clientEvents=M,W.mutateEvent=z,W.normalizeEventDates=B,W.normalizeEventTimes=H;var $,G,K,Q={events:[]},ee=[Q],te=0,ne=[];e.each((W.options.events?[W.options.events]:[]).concat(W.options.eventSources||[]),function(e,t){var n=v(t);n&&ee.push(n)}),W.getEventCache=function(){return ne},W.getPrunedEventCache=function(){return K},W.rezoneArrayEventSources=function(){var t,n,r;for(t=0;t<ee.length;t++)if(n=ee[t].events,e.isArray(n))for(r=0;r<n.length;r++)P(n[r])},W.buildEventFromInput=I,W.expandEvent=V}function Fe(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Ne=e.fullCalendar={version:"3.2.0",internalApiVersion:8},qe=Ne.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(i,o){var s,a=e(o),u=a.data("fullCalendar");"string"==typeof t?u&&e.isFunction(u[t])&&(s=u[t].apply(u,n),i||(r=s),"destroy"===t&&a.removeData("fullCalendar")):u||(u=new ht(a,t),a.data("fullCalendar",u),u.render())}),r};var Be=["header","footer","buttonText","buttonIcons","themeButtonIcons"];Ne.intersectRanges=I,Ne.applyAll=J,Ne.debounce=ue,Ne.isInt=se,Ne.htmlEscape=ee,Ne.cssToStr=ne,Ne.proxy=ae,Ne.capitaliseFirstLetter=ie,Ne.getOuterRect=f,Ne.getClientRect=h,Ne.getContentRect=p,Ne.getScrollbarWidths=v;var He=null;Ne.preventDefault=E,Ne.intersectRects=T,Ne.parseFieldSpecs=R,Ne.compareByFieldSpecs=j,Ne.compareByFieldSpec=M,Ne.flexibleCompare=P,Ne.computeIntervalUnit=q,Ne.divideRangeByDuration=H,Ne.divideDurationByDuration=V,Ne.multiplyDuration=z,Ne.durationHasTime=U;var Ve=["sun","mon","tue","wed","thu","fri","sat"],ze=["year","month","week","day","hour","minute","second","millisecond"];Ne.log=function(){var e=window.console;if(e&&e.log)return e.log.apply(e,arguments)},Ne.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):Ne.log.apply(Ne,arguments)};var Ue={}.hasOwnProperty;Ne.createObject=G;var We=/^\s*\d{4}-\d\d$/,Ye=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,$e=t.fn,Ge=e.extend({},$e),Ke=t.momentProperties;Ke.push("_fullCalendar"),Ke.push("_ambigTime"),Ke.push("_ambigZone"),Ne.moment=function(){return ce(arguments)},Ne.moment.utc=function(){var e=ce(arguments,!0);return e.hasTime()&&e.utc(),e},Ne.moment.parseZone=function(){return ce(arguments,!0,!0)},$e.week=$e.weeks=function(e){var t=this._locale._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?Ge.isoWeek.apply(this,arguments):Ge.week.apply(this,arguments)},$e.time=function(e){if(!this._fullCalendar)return Ge.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},$e.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},$e.hasTime=function(){return!this._ambigTime},$e.stripZone=function(){var e;return this._ambigZone||(e=this._ambigTime,this.utc(!0),this._ambigTime=e||!1,this._ambigZone=!0),this},$e.hasZone=function(){return!this._ambigZone},$e.local=function(e){return Ge.local.call(this,this._ambigZone||e),this._ambigTime=!1,this._ambigZone=!1,this},$e.utc=function(e){return Ge.utc.call(this,e),this._ambigTime=!1,this._ambigZone=!1,this},$e.utcOffset=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),Ge.utcOffset.apply(this,arguments)},$e.format=function(){return this._fullCalendar&&arguments[0]?Qe(this,arguments[0]):this._ambigTime?Je(this,"YYYY-MM-DD"):this._ambigZone?Je(this,"YYYY-MM-DD[T]HH:mm:ss"):Ge.format.apply(this,arguments)},$e.toISOString=function(){return this._ambigTime?Je(this,"YYYY-MM-DD"):this._ambigZone?Je(this,"YYYY-MM-DD[T]HH:mm:ss"):Ge.toISOString.apply(this,arguments)},function(){function e(e,t){return l(i(t).fakeFormatString,e)}function t(e,t){return Ge.format.call(e,t)}function n(e,t,n,o,s){var a;return e=Ne.moment.parseZone(e),t=Ne.moment.parseZone(t),a=e.localeData(),n=a.longDateFormat(n)||n,r(i(n),e,t,o||" - ",s)}function r(e,t,n,r,i){var o,s,a,u=e.sameUnits,c=t.clone().stripZone(),l=n.clone().stripZone(),h=d(e.fakeFormatString,t),p=d(e.fakeFormatString,n),v="",g="",m="",y="",b="";for(o=0;o<u.length&&(!u[o]||c.isSame(l,u[o]));o++)v+=h[o];for(s=u.length-1;s>o&&(!u[s]||c.isSame(l,u[s]))&&(s-1!==o||"."!==h[s]);s--)g=h[s]+g;for(a=o;a<=s;a++)m+=h[a],y+=p[a];return(m||y)&&(b=i?y+r+m:m+r+y),f(v+b+g)}function i(e){return w[e]||(w[e]=o(e))}function o(e){var t=s(e);return{fakeFormatString:u(t),sameUnits:c(t)}}function s(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push.apply(n,a(t[1])):t[2]?n.push({maybe:s(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push.apply(n,a(t[5]));return n}function a(e){return". "===e?["."," "]:[e]}function u(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],"string"==typeof n?r.push("["+n+"]"):n.token?n.token in y?r.push(v+"["+n.token+"]"):r.push(n.token):n.maybe&&r.push(g+u(n.maybe)+g);return r.join(p)}function c(e){var t,n,r,i=[];for(t=0;t<e.length;t++)n=e[t],n.token?(r=b[n.token.charAt(0)],i.push(r?r.unit:"second")):n.maybe?i.push.apply(i,c(n.maybe)):i.push(null);return i}function l(e,t){return f(d(e,t).join(""))}function d(e,n){var r,i,o=[],s=t(n,e),a=s.split(p);for(r=0;r<a.length;r++)i=a[r],i.charAt(0)===v?o.push(y[i.substring(1)](n)):o.push(i);return o}function f(e){return e.replace(m,function(e,t){return t.match(/[1-9]/)?t:""})}function h(e){var t,n,r,i,o=s(e);for(t=0;t<o.length;t++)n=o[t],n.token&&(r=b[n.token.charAt(0)],r&&(!i||r.value>i.value)&&(i=r));return i?i.unit:null}Ne.formatDate=e,Ne.formatRange=n,Ne.oldMomentFormat=t,Ne.queryMostGranularFormatUnit=h;var p="\v",v="",g="",m=new RegExp(g+"([^"+g+"]*)"+g,"g"),y={t:function(e){return t(e,"a").charAt(0)},T:function(e){return t(e,"A").charAt(0)}},b={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}},w={}}();var Qe=Ne.formatDate,Xe=Ne.formatRange,Je=Ne.oldMomentFormat;Ne.Class=le,le.extend=function(){var e,t,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],e<n-1&&fe(this,t);return de(this,t||{})},le.mixin=function(e){fe(this,e)},Ne.Promise=he,he.immediate=!0,he.resolve=function(t){if(t&&"function"==typeof t.resolve)return t.promise();if(t&&"function"==typeof t.then)return t;var n=e.Deferred().resolve(t),r=n.promise();if(he.immediate){var i=r.then;r._value=t,r.then=function(e,n){return"function"==typeof e?he.resolve(e(t)):i.call(r,e,n)}}return r},he.reject=function(){return e.Deferred().reject().promise()},he.all=function(t){var n,r,i,o=!1;if(he.immediate)for(o=!0,n=[],r=0;r<t.length;r++)if(i=t[r],i&&"function"==typeof i.state&&"resolved"===i.state()&&"_value"in i)n.push(i._value);else{if(i&&"function"==typeof i.then){o=!1;break}n.push(i)}return o?he.resolve(n):e.when.apply(e.when,t).then(function(){return e.when(e.makeArray(arguments))})},Ne.TaskQueue=pe;var Ze=Ne.EmitterMixin={on:function(t,n){return e(this).on(t,this._prepareIntercept(n)),this},one:function(t,n){return e(this).one(t,this._prepareIntercept(n)),this},_prepareIntercept:function(t){var n=function(e,n){return t.apply(n.context||this,n.args||[])};return t.guid||(t.guid=e.guid++),n.guid=t.guid,n},off:function(t,n){return e(this).off(t,n),this},trigger:function(t){var n=Array.prototype.slice.call(arguments,1);return e(this).triggerHandler(t,{args:n}),this},triggerWith:function(t,n,r){return e(this).triggerHandler(t,{context:n,args:r}),this}},et=Ne.ListenerMixin=function(){var t=0,n={listenerId:null,listenTo:function(t,n,r){if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&this.listenTo(t,i,n[i]);else"string"==typeof n&&t.on(n+"."+this.getListenerNamespace(),e.proxy(r,this))},stopListeningTo:function(e,t){e.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}};return n}(),tt=le.extend(et,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&this.listenTo(e(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(e(document),"mousedown")},position:function(){var t,n,r,i,o,s=this.options,a=this.el.offsetParent().offset(),u=this.el.outerWidth(),c=this.el.outerHeight(),l=e(window),f=d(this.el);i=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-u:0,f.is(window)||f.is(document)?(f=l,t=0,n=0):(r=f.offset(),t=r.top,n=r.left),t+=l.scrollTop(),n+=l.scrollLeft(),s.viewportConstrain!==!1&&(i=Math.min(i,t+f.outerHeight()-c-this.margin),i=Math.max(i,t+this.margin),o=Math.min(o,n+f.outerWidth()-u-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:i-a.top,left:o-a.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),nt=Ne.CoordCache=le.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl;!e&&this.els.length>0&&(e=this.els.eq(0).offsetParent()),this.origin=e?e.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var t=[],n=[];this.els.each(function(r,i){var o=e(i),s=o.offset().left,a=o.outerWidth();t.push(s),n.push(s+a)}),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each(function(r,i){var o=e(i),s=o.offset().top,a=o.outerHeight();t.push(s),n.push(s+a)}),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.lefts,r=this.rights,i=n.length;for(t=0;t<i;t++)if(e>=n[t]&&e<r[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.tops,r=this.bottoms,i=n.length;for(t=0;t<i;t++)if(e>=n[t]&&e<r[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]},queryBoundingRect:function(){var e;return this.els.length>0&&(e=d(this.els.eq(0)),!e.is(document))?h(e):null},isPointInBounds:function(e,t){return this.isLeftInBounds(e)&&this.isTopInBounds(t)},isLeftInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.left&&e<this.boundingRect.right},isTopInBounds:function(e){return!this.boundingRect||e>=this.boundingRect.top&&e<this.boundingRect.bottom}}),rt=Ne.DragListener=le.extend(et,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:!0,scrollAlwaysKills:!1,constructor:function(e){this.options=e||{}},startInteraction:function(t,n){var r=S(t);if("mousedown"===t.type){if(ot.get().shouldIgnoreMouse())return;if(!w(t))return;t.preventDefault()}this.isInteracting||(n=n||{},this.delay=Z(n.delay,this.options.delay,0),this.minDistance=Z(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,k(e("body")),this.isInteracting=!0,this.isTouch=r,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=_(t),this.originY=x(t),this.scrollEl=d(e(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(t,n){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,n),C(e("body")))},handleInteractionEnd:function(e,t){this.trigger("interactionEnd",e,t||!1)},bindHandlers:function(){var e=ot.get();this.isTouch?this.listenTo(e,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(e,{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(e,{selectstart:E,contextmenu:E})},unbindHandlers:function(){this.stopListeningTo(ot.get())},startDrag:function(e,t){this.startInteraction(e,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(e))},handleDragStart:function(e){this.trigger("dragStart",e)},handleMove:function(e){var t,n=_(e)-this.originX,r=x(e)-this.originY,i=this.minDistance;this.isDistanceSurpassed||(t=n*n+r*r,t>=i*i&&this.handleDistanceSurpassed(e)),this.isDragging&&this.handleDrag(n,r,e)},handleDrag:function(e,t,n){this.trigger("drag",e,t,n),this.updateAutoScroll(n)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e)},startDelay:function(e){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&this.shouldCancelTouchScroll&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(e,!0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});rt.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",ue(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=f(this.scrollEl))},updateAutoScroll:function(e){var t,n,r,i,o=this.scrollSensitivity,s=this.scrollBounds,a=0,u=0;s&&(t=(o-(x(e)-s.top))/o,n=(o-(s.bottom-x(e)))/o,r=(o-(_(e)-s.left))/o,i=(o-(s.right-_(e)))/o,t>=0&&t<=1?a=t*this.scrollSpeed*-1:n>=0&&n<=1&&(a=n*this.scrollSpeed),r>=0&&r<=1?u=r*this.scrollSpeed*-1:i>=0&&i<=1&&(u=i*this.scrollSpeed)),this.setScrollVel(a,u)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ae(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var it=rt.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){rt.call(this,t),this.component=e},handleInteractionStart:function(e){var t,n,r,i=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(n={left:_(e),top:x(e)},r=n,i&&(t=f(i),r=O(r,t)),this.origHit=this.queryHit(r.left,r.top),i&&this.options.subjectCenter&&(this.origHit&&(t=T(this.origHit,t)||t),r=A(t)),this.coordAdjust=D(r,n)):(this.origHit=null,this.coordAdjust=null),rt.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(e){var t;rt.prototype.handleDragStart.apply(this,arguments),t=this.queryHit(_(e),x(e)),t&&this.handleHitOver(t)},handleDrag:function(e,t,n){var r;rt.prototype.handleDrag.apply(this,arguments),r=this.queryHit(_(n),x(n)),ve(r,this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},handleDragEnd:function(){this.handleHitDone(),rt.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(e){var t=ve(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){rt.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},handleScrollEnd:function(){rt.prototype.handleScrollEnd.apply(this,arguments),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}});Ne.touchMouseIgnoreWait=500;var ot=le.extend(et,Ze,{isTouching:!1,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var t=this;this.listenTo(e(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(n){t.handleTouchMove(e.Event(n))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(n){t.handleScroll(e.Event(n))},!0)},unbind:function(){this.stopListeningTo(e(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy),window.removeEventListener("scroll",this.handleScrollProxy,!0)},handleTouchStart:function(e){this.stopTouch(e,!0),this.isTouching=!0,this.trigger("touchstart",e)},handleTouchMove:function(e){this.isTouching&&this.trigger("touchmove",e)},handleTouchCancel:function(e){this.isTouching&&(this.trigger("touchcancel",e),this.stopTouch(e))},handleTouchEnd:function(e){this.stopTouch(e)},handleMouseDown:function(e){this.shouldIgnoreMouse()||this.trigger("mousedown",e)},handleMouseMove:function(e){this.shouldIgnoreMouse()||this.trigger("mousemove",e)},handleMouseUp:function(e){this.shouldIgnoreMouse()||this.trigger("mouseup",e)},handleClick:function(e){this.shouldIgnoreMouse()||this.trigger("click",e)},handleSelectStart:function(e){this.trigger("selectstart",e)},handleContextMenu:function(e){this.trigger("contextmenu",e)},handleScroll:function(e){this.trigger("scroll",e)},stopTouch:function(e,t){this.isTouching&&(this.isTouching=!1,this.trigger("touchend",e),t||this.startTouchMouseIgnore())},startTouchMouseIgnore:function(){var e=this,t=Ne.touchMouseIgnoreWait;t&&(this.mouseIgnoreDepth++,setTimeout(function(){e.mouseIgnoreDepth--},t))},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});!function(){var e=null,t=0;ot.get=function(){return e||(e=new ot,e.bind()),e},ot.needed=function(){ot.get(),t++},ot.unneeded=function(){t--,t||(e.unbind(),e=null)}}();var st=le.extend(et,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=x(t),this.x0=_(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),S(t)?this.listenTo(e(document),"touchmove",this.handleMove):this.listenTo(e(document),"mousemove",this.handleMove))},stop:function(t,n){function r(){i.isAnimating=!1,i.removeElement(),i.top0=i.left0=null,n&&n()}var i=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(e(document)),t&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:r})):r())},getEl:function(){var e=this.el;return e||(e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),e.addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=x(e)-this.y0,this.leftDelta=_(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),at=Ne.Grid=le.extend(et,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayClickListener:null,daySelectListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayClickListener=this.buildDayClickListener(),this.daySelectListener=this.buildDaySelectListener()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?N(e,t,this.largeUnit):L(e,t)},hitsNeededDepth:0,hitsNeeded:function(){this.hitsNeededDepth++||this.prepareHits()},hitsNotNeeded:function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits()},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(e){this.el=e,this.hasDayInteractions&&(k(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,n){var r=this;this.el.on(t,function(t){if(!e(t.target).is(r.segSelector+","+r.segSelector+" *,.fc-more,a[data-goto]"))return n.call(r,t)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(e(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},dayMousedown:function(e){var t=this.view;t.isSelected||t.selectedEvent||(this.dayClickListener.startInteraction(e),t.opt("selectable")&&this.daySelectListener.startInteraction(e,{distance:t.opt("selectMinDistance")}))},dayTouchStart:function(e){var t,n=this.view;n.isSelected||n.selectedEvent||(t=n.opt("selectLongPressDelay"),null==t&&(t=n.opt("longPressDelay")),this.dayClickListener.startInteraction(e),n.opt("selectable")&&this.daySelectListener.startInteraction(e,{delay:t}))},buildDayClickListener:function(){var e,t=this,n=this.view,r=new it(this,{scroll:n.opt("dragScroll"),interactionStart:function(){e=r.origHit},hitOver:function(t,n,r){n||(e=null)},hitOut:function(){e=null},interactionEnd:function(r,i){!i&&e&&n.triggerDayClick(t.getHitSpan(e),t.getHitEl(e),r)}});return r.shouldCancelTouchScroll=!1,r.scrollAlwaysKills=!0,r},buildDaySelectListener:function(){var e,t=this,n=this.view,r=new it(this,{scroll:n.opt("dragScroll"),interactionStart:function(){e=null},dragStart:function(){n.unselect()},hitOver:function(n,r,i){i&&(e=t.computeSelection(t.getHitSpan(i),t.getHitSpan(n)),e?t.renderSelection(e):e===!1&&o())},hitOut:function(){e=null,t.unrenderSelection()},hitDone:function(){s()},interactionEnd:function(t,r){!r&&e&&n.reportSelection(e,t)}});return r},clearDragListeners:function(){this.dayClickListener.endInteraction(),this.daySelectListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);return this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?G(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(oe),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var r,i=this,o=this[t+"SegEl"],s="",a=[];if(n.length){for(r=0;r<n.length;r++)s+=this.fillSegHtml(t,n[r]);e(s).each(function(t,r){var s=n[t],u=e(r);o&&(u=o.call(i,s,u)),u&&(u=e(u),u.is(i.fillSegTag)&&(s.el=u,
a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],r=this[e+"SegCss"],i=n?n.call(this,t):[],o=ne(r?r.call(this,t):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(e,t){var n=this.view,r=n.calendar.getNow(),i=["fc-"+Ve[e.day()]];return 1==n.intervalDuration.as("months")&&e.month()!=n.intervalStart.month()&&i.push("fc-other-month"),e.isSame(r,"day")?(i.push("fc-today"),t!==!0&&i.push(n.highlightStateClass)):e<r?i.push("fc-past"):i.push("fc-future"),i}});at.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],r=[];for(t=0;t<e.length;t++)(ye(e[t])?n:r).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(r))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var r,i=this.view,o="",s=[];if(t.length){for(r=0;r<t.length;r++)o+=this.fgSegHtml(t[r],n);e(o).each(function(n,r){var o=t[n],a=i.resolveEventEl(o.event,e(r));a&&(a.data("fc-seg",o),o.el=a,s.push(o))})}return s},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(e,t){return this.eventsToSegs(this.buildBusinessHourEvents(e,t))},buildBusinessHourEvents:function(t,n){var r,i=this.view.calendar;return null==n&&(n=i.options.businessHours),r=i.computeBusinessHourEvents(t,n),!r.length&&n&&(r=[e.extend({},wt,{start:this.view.end,end:this.view.end,dow:null})]),r},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(e){this.bindSegHandlerToEl(e,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(e,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(e,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(e,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(e,"click",this.handleSegClick)},bindSegHandlerToEl:function(t,n,r){var i=this;t.on(n,this.segSelector,function(t){var n=e(this).data("fc-seg");if(n&&!i.isDraggingSeg&&!i.isResizingSeg)return r.call(i,n,t)})},handleSegClick:function(e,t){var n=this.view.publiclyTrigger("eventClick",e.el[0],e.event,t);n===!1&&t.preventDefault()},handleSegMouseover:function(e,t){ot.get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=e,this.view.isEventResizable(e.event)&&e.el.addClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseover",e.el[0],e.event,t))},handleSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(e.event)&&e.el.removeClass("fc-allow-mouse-resize"),this.view.publiclyTrigger("eventMouseout",e.el[0],e.event,t))},handleSegMousedown:function(e,t){var n=this.startSegResize(e,t,{distance:5});!n&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(t,{distance:5})},handleSegTouchStart:function(e,t){var n,r,i=this.view,o=e.event,s=i.isEventSelected(o),a=i.isEventDraggable(o),u=i.isEventResizable(o),c=!1;s&&u&&(c=this.startSegResize(e,t)),c||!a&&!u||(r=i.opt("eventLongPressDelay"),null==r&&(r=i.opt("longPressDelay")),n=a?this.buildSegDragListener(e):this.buildSegSelectListener(e),n.startInteraction(t,{delay:s?0:r}))},startSegResize:function(t,n,r){return!!e(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,e(n.target).is(".fc-start-resizer")).startInteraction(n,r),!0)},buildSegDragListener:function(e){var t,n,r,i=this,a=this.view,u=a.calendar,c=e.el,l=e.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new it(a,{scroll:a.opt("dragScroll"),subjectEl:c,subjectCenter:!0,interactionStart:function(r){e.component=i,t=!1,n=new st(e.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:d.isTouch?null:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2}),n.hide(),n.start(r)},dragStart:function(n){d.isTouch&&!a.isEventSelected(l)&&a.selectEvent(l),t=!0,i.handleSegMouseout(e,n),i.segDragStart(e,n),a.hideEvent(l)},hitOver:function(t,s,c){var f;e.hit&&(c=e.hit),r=i.computeEventDrop(c.component.getHitSpan(c),t.component.getHitSpan(t),l),r&&!u.isEventSpanAllowed(i.eventToSpan(r),l)&&(o(),r=null),r&&(f=a.renderDrag(r,e))?(f.addClass("fc-dragging"),d.isTouch||i.applyDragOpacity(f),n.hide()):n.show(),s&&(r=null)},hitOut:function(){a.unrenderDrag(),n.show(),r=null},hitDone:function(){s()},interactionEnd:function(o){delete e.component,n.stop(!r,function(){t&&(a.unrenderDrag(),i.segDragStop(e,o)),r?a.reportSegDrop(e,r,i.largeUnit,c,o):a.showEvent(l)}),i.segDragListener=null}});return d},buildSegSelectListener:function(e){var t=this,n=this.view,r=e.event;if(this.segDragListener)return this.segDragListener;var i=this.segDragListener=new rt({dragStart:function(e){i.isTouch&&!n.isEventSelected(r)&&n.selectEvent(r)},interactionEnd:function(e){t.segDragListener=null}});return i},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.publiclyTrigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.publiclyTrigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var r,i,o=this.view.calendar,s=e.start,a=t.start;return s.hasTime()===a.hasTime()?(r=this.diffDates(a,s),n.allDay&&U(r)?(i={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(i)):i=me(n),i.start.add(r),i.end&&i.end.add(r)):i={start:a.clone(),end:null,allDay:!a.hasTime()},i},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.css("opacity",t)},externalDragStart:function(t,n){var r,i,o=this.view;o.opt("droppable")&&(r=e((n?n.item:null)||t.target),i=o.opt("dropAccept"),(e.isFunction(i)?i.call(r[0],r):r.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,n)))},listenToExternalDrag:function(e,t,n){var r,i=this,a=this.view.calendar,u=Se(e),c=i.externalDragListener=new it(this,{interactionStart:function(){i.isDraggingExternal=!0},hitOver:function(e){r=i.computeExternalDrop(e.component.getHitSpan(e),u),r&&!a.isExternalSpanAllowed(i.eventToSpan(r),r,u.eventProps)&&(o(),r=null),r&&i.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){s(),i.unrenderDrag()},interactionEnd:function(t){r&&i.view.reportExternalDrop(u,r,e,t,n),i.isDraggingExternal=!1,i.externalDragListener=null}});c.startDrag(t)},computeExternalDrop:function(e,t){var n=this.view.calendar,r={start:n.applyTimezone(e.start),end:null};return t.startTime&&!r.start.hasTime()&&r.start.time(t.startTime),t.duration&&(r.end=r.start.clone().add(t.duration)),r},renderDrag:function(e,t){},unrenderDrag:function(){},buildSegResizeListener:function(e,t){var n,r,i=this,a=this.view,u=a.calendar,c=e.el,l=e.event,d=u.getEventEnd(l),f=this.segResizeListener=new it(this,{scroll:a.opt("dragScroll"),subjectEl:c,interactionStart:function(){n=!1},dragStart:function(t){n=!0,i.handleSegMouseout(e,t),i.segResizeStart(e,t)},hitOver:function(n,s,c){var f=i.getHitSpan(c),h=i.getHitSpan(n);r=t?i.computeEventStartResize(f,h,l):i.computeEventEndResize(f,h,l),r&&(u.isEventSpanAllowed(i.eventToSpan(r),l)?r.start.isSame(l.start.clone().stripZone())&&r.end.isSame(d.clone().stripZone())&&(r=null):(o(),r=null)),r&&(a.hideEvent(l),i.renderEventResize(r,e))},hitOut:function(){r=null,a.showEvent(l)},hitDone:function(){i.unrenderEventResize(),s()},interactionEnd:function(t){n&&i.segResizeStop(e,t),r?a.reportSegResize(e,r,i.largeUnit,c,t):a.showEvent(l),i.segResizeListener=null}});return f},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.publiclyTrigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.publiclyTrigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,r){var i,o,s=this.view.calendar,a=this.diffDates(n[e],t[e]);return i={start:r.start.clone(),end:s.getEventEnd(r),allDay:r.allDay},i.allDay&&U(a)&&(i.allDay=!1,s.normalizeEventTimes(i)),i[e].add(a),i.start.isBefore(i.end)||(o=this.minResizeDuration||(r.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==e?i.start=i.end.clone().subtract(o):i.end=i.start.clone().add(o)),i},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var r=this.view,i=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(e));return t&&i.push("fc-draggable"),n&&i.push("fc-resizable"),r.isEventSelected(e.event)&&i.push("fc-selected"),i},getSegCustomClasses:function(e){var t=e.event;return[].concat(t.className,t.source?t.source.className:[])},getSegSkinCss:function(e){return{"background-color":this.getSegBackgroundColor(e),"border-color":this.getSegBorderColor(e),color:this.getSegTextColor(e)}},getSegBackgroundColor:function(e){return e.event.backgroundColor||e.event.color||this.getSegDefaultBackgroundColor(e)},getSegDefaultBackgroundColor:function(e){var t=e.event.source||{};return t.backgroundColor||t.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(e){return e.event.borderColor||e.event.color||this.getSegDefaultBorderColor(e)},getSegDefaultBorderColor:function(e){var t=e.event.source||{};return t.borderColor||t.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(e){return e.event.textColor||this.getSegDefaultTextColor(e)},getSegDefaultTextColor:function(e){var t=e.event.source||{};return t.textColor||this.view.opt("eventTextColor")},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,n){var r=this,i=_e(t),o=[];return e.each(i,function(e,t){var i,s=[];for(i=0;i<t.length;i++)s.push(r.eventToRange(t[i]));if(be(t[0]))for(s=r.invertRanges(s),i=0;i<s.length;i++)o.push.apply(o,r.eventRangeToSegs(s[i],t[0],n));else for(i=0;i<s.length;i++)o.push.apply(o,r.eventRangeToSegs(s[i],t[i],n))}),o},eventToRange:function(e){var t=this.view.calendar,n=e.start.clone().stripZone(),r=(e.end?e.end.clone():t.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone();return t.localizeMoment(n),t.localizeMoment(r),{start:n,end:r}},eventRangeToSegs:function(e,t,n){var r,i=this.eventRangeToSpans(e,t),o=[];for(r=0;r<i.length;r++)o.push.apply(o,this.eventSpanToSegs(i[r],t,n));return o},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var r,i,o=n?n(e):this.spanToSegs(e);for(r=0;r<o.length;r++)i=o[r],i.event=t,i.eventStartMS=+e.start,i.eventDurationMS=e.end-e.start;return o},invertRanges:function(e){var t,n,r=this.view,i=r.start.clone(),o=r.end.clone(),s=[],a=i;for(e.sort(xe),t=0;t<e.length;t++)n=e[t],n.start>a&&s.push({start:a,end:n.start}),a=n.end;return a<o&&s.push({start:a,end:o}),s},sortEventSegs:function(e){e.sort(ae(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||j(e.event,t.event,this.view.eventOrderSpecs)}}),Ne.pluckEventDateProps=me,Ne.isBgEvent=ye,Ne.dataAttrPrefix="";var ut=Ne.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,r=this.view,i=this.start.clone(),o=-1,s=[],a=[];i.isBefore(this.end);)r.isHiddenDay(i)?s.push(o+.5):(o++,s.push(o),a.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(t=a[0].day(),e=1;e<a.length&&a[e].day()!=t;e++);n=Math.ceil(a.length/e)}else n=1,e=a.length;this.dayDates=a,this.dayIndices=s,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t),r=n.clone().add(1,"days");return{start:n,end:r}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,r,i,o,s=this.daysPerRow,a=this.view.computeDayRange(e),u=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),l=[];for(t=0;t<this.rowCnt;t++)n=t*s,r=n+s-1,i=Math.max(u,n),o=Math.min(c,r),i=Math.ceil(i),o=Math.floor(o),i<=o&&l.push({row:t,firstRowDayIndex:i-n,lastRowDayIndex:o-n,isStart:i===u,isEnd:o===c});return l},sliceRangeByDay:function(e){var t,n,r,i,o,s,a=this.daysPerRow,u=this.view.computeDayRange(e),c=this.getDateDayIndex(u.start),l=this.getDateDayIndex(u.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(n=t*a,r=n+a-1,i=n;i<=r;i++)o=Math.max(c,i),s=Math.min(l,i),o=Math.ceil(o),s=Math.floor(s),o<=s&&d.push({row:t,firstRowDayIndex:o-n,lastRowDayIndex:s-n,isStart:o===c,isEnd:s===l});return d},renderHeadHtml:function(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){var r=this.view,i=["fc-day-header",r.widgetHeaderClass];return 1===this.rowCnt?i=i.concat(this.getDayClasses(e,!0)):i.push("fc-"+Ve[e.day()]),'<th class="'+i.join(" ")+'"'+(1===this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+r.buildGotoAnchorHtml({date:e,forceOff:this.rowCnt>1||1===this.colCnt},ee(e.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderBgCellHtml(n));return r.join("")},renderBgCellHtml:function(e,t){var n=this.view,r=this.getDayClasses(e);return r.unshift("fc-day",n.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},ct=Ne.DayGrid=at.extend(ut,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,r=this.view,i=this.rowCnt,o=this.colCnt,s="";for(t=0;t<i;t++)s+=this.renderDayRowHtml(t,e);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new nt({els:this.rowEls,isVertical:!0}),this.colCoordCache=new nt({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<i;t++)for(n=0;n<o;n++)r.publiclyTrigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",e,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(e,t){var n=this.view,r=["fc-row","fc-week",n.widgetContentClass];return t&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderNumberCellHtml(n));return r.join("")},renderNumberCellHtml:function(e){var t,n,r="";return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?(t=this.getDayClasses(e),t.unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&(n="ISO"===e._locale._fullCalendar_weekCalc?1:e._locale.firstDayOfWeek()),r+='<td class="'+t.join(" ")+'" data-date="'+e.format()+'">',this.view.cellWeekNumbersVisible&&e.day()==n&&(r+=this.view.buildGotoAnchorHtml({date:e,type:"week"},{class:"fc-week-number"},e.format("w"))),this.view.dayNumbersVisible&&(r+=this.view.buildGotoAnchorHtml(e,{class:"fc-day-number"},e.date())),r+="</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,r=this.sliceRangeByRow(e);for(t=0;t<r.length;t++)n=r[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){if(this.colCoordCache.isLeftInBounds(e)&&this.rowCoordCache.isTopInBounds(t)){var n=this.colCoordCache.getHorizontalIndex(e),r=this.rowCoordCache.getVerticalIndex(t);if(null!=r&&null!=n)return this.getCellHit(r,n)}},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){if(this.renderHighlight(this.eventToSpan(e)),t&&t.component!==this)return this.renderEventLocationHelper(e,t)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var r,i=[],o=this.eventToSegs(t);return o=this.renderFgSegEls(o),r=this.renderSegRows(o),this.rowEls.each(function(t,o){var s,a=e(o),u=e('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===t?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,u.css("top",s).find("table").append(r[t].tbodyEl),a.append(u),i.push(u[0])}),this.helperEls=e(i)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,r){var i,o,s,a=[];for(n=this.renderFillSegEls(t,n),i=0;i<n.length;i++)o=n[i],s=this.renderFillRow(t,o,r),this.rowEls.eq(o.row).append(s),a.push(s[0]);return this.elsByFill[t]=e(a),n},renderFillRow:function(t,n,r){var i,o,s=this.colCnt,a=n.leftCol,u=n.rightCol+1;return r=r||t.toLowerCase(),i=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),o=i.find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(n.el.attr("colspan",u-a)),u<s&&o.append('<td colspan="'+(s-u)+'"/>'),this.bookendCells(o),i}});ct.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),at.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return at.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return at.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){e(r).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},fgSegHtml:function(e,t){var n,r,i=this.view,o=e.event,s=i.isEventDraggable(o),a=!t&&o.allDay&&e.isStart&&i.isEventResizableFromStart(o),u=!t&&o.allDay&&e.isEnd&&i.isEventResizableFromEnd(o),c=this.getSegClasses(e,s,a||u),l=ne(this.getSegSkinCss(e)),d="";return c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(o),n&&(d='<span class="fc-time">'+ee(n)+"</span>")),r='<span class="fc-title">'+(ee(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+ee(o.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+d:d+" "+r)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function r(t){for(;s<t;)l=(m[i-1]||[])[s],l?l.attr("rowspan",parseInt(l.attr("rowspan")||1,10)+1):(l=e("<td/>"),a.append(l)),g[i][s]=l,m[i][s]=l,s++}var i,o,s,a,u,c,l,d=this.colCnt,f=this.buildSegLevels(n),h=Math.max(1,f.length),p=e("<tbody/>"),v=[],g=[],m=[];for(i=0;i<h;i++){if(o=f[i],s=0,a=e("<tr/>"),v.push([]),g.push([]),m.push([]),o)for(u=0;u<o.length;u++){for(c=o[u],r(c.leftCol),l=e('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?l.attr("colspan",c.rightCol-c.leftCol+1):m[i][s]=l;s<=c.rightCol;)g[i][s]=l,v[i][s]=c,s++;a.append(l)}r(d),this.bookendCells(a),p.append(a)}return{row:t,tbodyEl:p,cellMatrix:g,segMatrix:v,segLevels:f,segs:n}},buildSegLevels:function(e){var t,n,r,i=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&ke(n,i[r]);r++);n.level=r,(i[r]||(i[r]=[])).push(n)}for(r=0;r<i.length;r++)i[r].sort(Ce);return i},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),ct.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,r=this.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)),n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){o=Math.max(o,e(n).outerHeight())}var r,i,o,s=this.rowEls.eq(t),a=s.height(),u=this.rowStructs[t].tbodyEl.children();for(r=0;r<u.length;r++)if(i=u.eq(r).removeClass("fc-limited"),o=0,i.find("> td > :first-child").each(n),i.position().top+o>a)return r;return!1},limitRow:function(t,n){function r(r){for(;x<r;)c=b.getCellSegs(t,x,n),c.length&&(f=o[n-1][x],y=b.renderMoreLink(t,x,c),m=e("<div/>").append(y),f.append(m),_.push(m[0])),x++}var i,o,s,a,u,c,l,d,f,h,p,v,g,m,y,b=this,w=this.rowStructs[t],_=[],x=0;if(n&&n<w.segLevels.length){for(i=w.segLevels[n-1],o=w.cellMatrix,s=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<i.length;a++){for(u=i[a],r(u.leftCol),d=[],l=0;x<=u.rightCol;)c=this.getCellSegs(t,x,n),d.push(c),l+=c.length,x++;if(l){for(f=o[n-1][u.leftCol],h=f.attr("rowspan")||1,p=[],v=0;v<d.length;v++)g=e('<td class="fc-more-cell"/>').attr("rowspan",h),c=d[v],y=this.renderMoreLink(t,u.leftCol+v,[u].concat(c)),m=e("<div/>").append(y),g.append(m),p.push(g[0]),_.push(g[0]);f.addClass("fc-limited").after(e(p)),s.push(f[0])}}r(this.colCnt),w.moreEls=e(_),w.limitedEls=e(s)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,r){var i=this,o=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(s){var a=o.opt("eventLimitClick"),u=i.getCellDate(t,n),c=e(this),l=i.getCellEl(t,n),d=i.getCellSegs(t,n),f=i.resliceDaySegs(d,u),h=i.resliceDaySegs(r,u);"function"==typeof a&&(a=o.publiclyTrigger("eventLimitClick",null,{date:u,dayEl:l,moreEl:c,segs:f,hiddenSegs:h},s)),"popover"===a?i.showSegPopover(t,n,c,f):"string"==typeof a&&o.calendar.zoomTo(u,a)})},showSegPopover:function(e,t,n,r){var i,o,s=this,a=this.view,u=n.parent();i=1==this.rowCnt?a.el:this.rowEls.eq(e),o={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,r),parentEl:this.view.el,top:i.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){if(s.popoverSegs)for(var e,t=0;t<s.popoverSegs.length;++t)e=s.popoverSegs[t],a.publiclyTrigger("eventDestroy",e.event,e.event,e.el);s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=u.offset().left+u.outerWidth()+1:o.left=u.offset().left-1,this.segPopover=new tt(o),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(t,n,r){var i,o=this.view,s=o.opt("theme"),a=this.getCellDate(t,n).format(o.opt("dayPopoverFormat")),u=e('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+ee(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=u.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,i=0;i<r.length;i++)this.hitsNeeded(),r[i].hit=this.getCellHit(t,n),this.hitsNotNeeded(),c.append(r[i].el);return u},resliceDaySegs:function(t,n){var r=e.map(t,function(e){return e.event}),i=n.clone(),o=i.clone().add(1,"days"),s={start:i,end:o};return t=this.eventsToSegs(r,function(e){var t=I(e,s);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var r,i=this.rowStructs[e].segMatrix,o=n||0,s=[];o<i.length;)r=i[o][t],r&&s.push(r),o++;return s}});var lt=Ne.TimeGrid=at.extend(ut,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){at.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new nt({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new nt({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,r,i=this.view,o=this.isRTL,s="",a=t.duration(+this.minTime);a<this.maxTime;)e=this.start.clone().time(a),n=se(V(a,this.labelInterval)),r='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(n?"<span>"+ee(e.format(this.labelFormat))+"</span>":"")+"</td>",s+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":r)+'<td class="'+i.widgetContentClass+'"/>'+(o?r:"")+"</tr>",a.add(this.slotDuration);return s},processOptions:function(){var n,r=this.view,i=r.opt("slotDuration"),o=r.opt("snapDuration");i=t.duration(i),o=o?t.duration(o):i,this.slotDuration=i,this.snapDuration=o,this.snapsPerSlot=i/o,this.minResizeDuration=o,this.minTime=t.duration(r.opt("minTime")),this.maxTime=t.duration(r.opt("maxTime")),n=r.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||r.opt("smallTimeFormat"),n=r.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(i)},computeLabelInterval:function(e){var n,r,i;for(n=Ot.length-1;n>=0;n--)if(r=t.duration(Ot[n]),i=V(r,e),se(i)&&i>1)return r;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,r=this.colCoordCache,i=this.slatCoordCache;if(r.isLeftInBounds(e)&&i.isTopInBounds(t)){var o=r.getHorizontalIndex(e),s=i.getVerticalIndex(t);if(null!=o&&null!=s){var a=i.getTopOffset(s),u=i.getHeight(s),c=(t-a)/u,l=Math.floor(c*n),d=s*n+l,f=a+l/n*u,h=a+(l+1)/n*u;return{col:o,snap:d,component:this,left:r.getLeftOffset(o),right:r.getRightOffset(o),top:f,bottom:h}}}},getHitSpan:function(e){var t,n=this.getCellDate(0,e.col),r=this.computeSnapTime(e.snap);return n.time(r),t=n.clone().add(this.snapDuration),{start:n,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,r,i,o=[];for(n=0;n<this.daysPerRow;n++)r=this.dayDates[n].clone(),i={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},t=I(e,i),t&&(t.dayIndex=n,o.push(t));return o},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,r=this.slatEls.length,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(r,i),t=Math.floor(i),t=Math.min(t,r-1),n=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){return t?this.renderEventLocationHelper(e,t):void this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){return this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs());
},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,r=this.spanToSegs({start:t,end:t}),i=this.computeDateTop(t,t),o=[];for(n=0;n<r.length;n++)o.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(r[n].col))[0]);r.length>0&&o.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});lt.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,r="";for(t=0;t<this.colCnt;t++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+r+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,n){var r,i,o,s=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),r=0;r<t.length;r++)i=t[r],n&&n.col===i.col&&(o=n.el,i.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),s.push(i.el[0]);return this.helperSegs=t,e(s)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,r,i;for(n=0;n<this.colCnt;n++)for(r=e[n],i=0;i<r.length;i++)t.eq(n).append(r[i].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,r;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),r=0;r<this.colCnt;r++)this.updateFgSegCoords(n[r]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,r,i,o=this.view,s=e.event,a=o.isEventDraggable(s),u=!t&&e.isStart&&o.isEventResizableFromStart(s),c=!t&&e.isEnd&&o.isEventResizableFromEnd(s),l=this.getSegClasses(e,a,u||c),d=ne(this.getSegSkinCss(e));return l.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),i=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(s),r=this.getEventTimeText(s,"LT"),i=this.getEventTimeText(s,null,!1)),'<a class="'+l.join(" ")+'"'+(s.url?' href="'+ee(s.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+ee(i)+'" data-full="'+ee(r)+'"><span>'+ee(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+ee(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,r;if(this.sortEventSegs(e),t=Ee(e),Te(t),n=t[0]){for(r=0;r<n.length;r++)Oe(n[r]);for(r=0;r<n.length;r++)this.computeFgSegForwardBack(n[r],0,0)}},computeFgSegForwardBack:function(e,t,n){var r,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeFgSegForwardBack(i[0],t+1,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)this.computeFgSegForwardBack(i[r],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(ae(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,r=this.view.opt("slotEventOverlap"),i=e.backwardCoord,o=e.forwardCoord,s=this.generateSegVerticalCss(e);return r&&(o=Math.min(1,i+2*(o-i))),this.isRTL?(t=1-o,n=i):(t=i,n=1-o),s.zIndex=e.level+1,s.left=100*t+"%",s.right=100*n+"%",r&&e.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var dt=Ne.View=le.extend(Ze,et,{type:null,name:null,title:null,calendar:null,options:null,el:null,isDateSet:!1,isDateRendered:!1,dateRenderQueue:null,isEventsBound:!1,isEventsSet:!1,isEventsRendered:!1,eventRenderQueue:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n,r,i){this.calendar=e,this.type=this.name=n,this.options=r,this.intervalDuration=i||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=R(this.opt("eventOrder")),this.dateRenderQueue=new pe,this.eventRenderQueue=new pe(this.opt("eventRenderWait")),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},publiclyTrigger:function(e,t){var n=this.calendar;return n.publiclyTrigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},rejectOn:function(e,t){var n=this;return new he(function(r,i){function o(){n.off(e,i)}n.one(e,i),t.then(function(e){o(),r(e)},function(){o(),i()})})},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,r=q(this.intervalDuration),i=e.clone().startOf(r),o=i.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(i.stripTime(),o.stripTime()):(i.hasTime()||(i=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),t=i.clone(),t=this.skipHiddenDays(t),n=o.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:r,intervalStart:i,intervalEnd:o,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle(),this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){var e,t;return"year"===this.intervalUnit||"month"===this.intervalUnit?(e=this.intervalStart,t=this.intervalEnd):(e=this.start,t=this.end),this.formatRange({start:this.calendar.applyTimezone(e),end:this.calendar.applyTimezone(t)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),Xe(e.start,r,t,n,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||ee(this.opt("allDayText"))},buildGotoAnchorHtml:function(t,n,r){var i,o,s,a;return e.isPlainObject(t)?(i=t.date,o=t.type,s=t.forceOff):i=t,i=Ne.moment(i),a={date:i.format("YYYY-MM-DD"),type:o||"day"},"string"==typeof n&&(r=n,n=null),n=n?" "+re(n):"",r=r||"",!s&&this.opt("navLinks")?"<a"+n+' data-goto="'+ee(JSON.stringify(a))+'">'+r+"</a>":"<span"+n+">"+r+"</span>"},setElement:function(e){this.el=e,this.bindGlobalHandlers(),this.renderSkeleton()},removeElement:function(){this.unsetDate(),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(e){var t=this.isDateSet;this.isDateSet=!0,this.handleDate(e,t),this.trigger(t?"dateReset":"dateSet",e)},unsetDate:function(){this.isDateSet&&(this.isDateSet=!1,this.handleDateUnset(),this.trigger("dateUnset"))},handleDate:function(e,t){var n=this;this.unbindEvents(),this.requestDateRender(e).then(function(){n.bindEvents()})},handleDateUnset:function(){this.unbindEvents(),this.requestDateUnrender()},requestDateRender:function(e){var t=this;return this.dateRenderQueue.add(function(){return t.executeDateRender(e)})},requestDateUnrender:function(){var e=this;return this.dateRenderQueue.add(function(){return e.executeDateUnrender()})},executeDateRender:function(e){var t=this;return e?this.captureInitialScroll():this.captureScroll(),this.freezeHeight(),this.executeDateUnrender().then(function(){e&&t.setRange(t.computeRange(e)),t.render&&t.render(),t.renderDates(),t.updateSize(),t.renderBusinessHours(),t.startNowIndicator(),t.thawHeight(),t.releaseScroll(),t.isDateRendered=!0,t.onDateRender(),t.trigger("dateRender")})},executeDateUnrender:function(){var e=this;return e.isDateRendered?this.requestEventsUnrender().then(function(){e.unselect(),e.stopNowIndicator(),e.triggerUnrender(),e.unrenderBusinessHours(),e.unrenderDates(),e.destroy&&e.destroy(),e.isDateRendered=!1,e.trigger("dateUnrender")}):he.resolve()},onDateRender:function(){this.triggerRender()},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.publiclyTrigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(ot.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){this.stopListeningTo(ot.get())},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,r,i=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(n=ae(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,r=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,n(),r=+t.duration(1,e),r=Math.max(100,r),i.nowIndicatorIntervalID=setInterval(n,r)},r)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){e&&this.captureScroll(),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.releaseScroll()},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},capturedScroll:null,capturedScrollDepth:0,captureScroll:function(){return!this.capturedScrollDepth++&&(this.capturedScroll=this.isDateRendered?this.queryScroll():{},!0)},captureInitialScroll:function(t){this.captureScroll()&&(this.capturedScroll.isInitial=!0,t?e.extend(this.capturedScroll,t):this.capturedScroll.isComputed=!0)},releaseScroll:function(){var t=this.capturedScroll,n=this.discardScroll();t.isComputed&&(n?e.extend(t,this.computeInitialScroll()):t=null),t&&(t.isInitial?this.hardSetScroll(t):this.setScroll(t))},discardScroll:function(){return!--this.capturedScrollDepth&&(this.capturedScroll=null,!0)},computeInitialScroll:function(){return{}},queryScroll:function(){return{}},hardSetScroll:function(e){var t=this,n=function(){t.setScroll(e)};n(),setTimeout(n,0)},setScroll:function(e){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},bindEvents:function(){var e=this;this.isEventsBound||(this.isEventsBound=!0,this.rejectOn("eventsUnbind",this.requestEvents()).then(function(t){e.listenTo(e.calendar,"eventsReset",e.setEvents),e.setEvents(t)}))},unbindEvents:function(){this.isEventsBound&&(this.isEventsBound=!1,this.stopListeningTo(this.calendar,"eventsReset"),this.unsetEvents(),this.trigger("eventsUnbind"))},setEvents:function(e){var t=this.isEventSet;this.isEventsSet=!0,this.handleEvents(e,t),this.trigger(t?"eventsReset":"eventsSet",e)},unsetEvents:function(){this.isEventsSet&&(this.isEventsSet=!1,this.handleEventsUnset(),this.trigger("eventsUnset"))},whenEventsSet:function(){var e=this;return this.isEventsSet?he.resolve(this.getCurrentEvents()):new he(function(t){e.one("eventsSet",t)})},handleEvents:function(e,t){this.requestEventsRender(e)},handleEventsUnset:function(){this.requestEventsUnrender()},requestEventsRender:function(e){var t=this;return this.eventRenderQueue.add(function(){return t.executeEventsRender(e)})},requestEventsUnrender:function(){var e=this;return this.isEventsRendered?this.eventRenderQueue.addQuickly(function(){return e.executeEventsUnrender()}):he.resolve()},requestCurrentEventsRender:function(){return this.isEventsSet?void this.requestEventsRender(this.getCurrentEvents()):he.reject()},executeEventsRender:function(e){var t=this;return this.captureScroll(),this.freezeHeight(),this.executeEventsUnrender().then(function(){t.renderEvents(e),t.thawHeight(),t.releaseScroll(),t.isEventsRendered=!0,t.onEventsRender(),t.trigger("eventsRender")})},executeEventsUnrender:function(){return this.isEventsRendered&&(this.onBeforeEventsUnrender(),this.captureScroll(),this.freezeHeight(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.thawHeight(),this.releaseScroll(),this.isEventsRendered=!1,this.trigger("eventsUnrender")),he.resolve()},onEventsRender:function(){this.renderedEventSegEach(function(e){this.publiclyTrigger("eventAfterRender",e.event,e.event,e.el)}),this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.renderedEventSegEach(function(e){this.publiclyTrigger("eventDestroy",e.event,e.event,e.el)})},renderEvents:function(e){},unrenderEvents:function(){},requestEvents:function(){return this.calendar.requestEvents(this.start,this.end)},getCurrentEvents:function(){return this.calendar.getPrunedEventCache()},resolveEventEl:function(t,n){var r=this.publiclyTrigger("eventRender",t,t,n);return r===!1?n=null:r&&r!==!0&&(n=e(r)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)t&&r[n].event._id!==t._id||r[n].el&&e.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){return this.isEventStartEditable(e)},isEventStartEditable:function(e){return Z(e.startEditable,(e.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(e))},isEventGenerallyEditable:function(e){return Z(e.editable,(e.source||{}).editable,this.opt("editable"))},reportSegDrop:function(e,t,n,r,i){var o=this.calendar,s=o.mutateSeg(e,t,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventDrop(e.event,s.dateDelta,a,r,i),o.reportEventChange()},triggerEventDrop:function(e,t,n,r,i){this.publiclyTrigger("eventDrop",r[0],e,t,n,i,{})},reportExternalDrop:function(t,n,r,i,o){var s,a,u=t.eventProps;u&&(s=e.extend({},u,n),a=this.calendar.renderEvent(s,t.stick)[0]),this.triggerExternalDrop(a,n,r,i,o)},triggerExternalDrop:function(e,t,n,r,i){this.publiclyTrigger("drop",n[0],t.start,r,i),e&&this.publiclyTrigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return Z(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportSegResize:function(e,t,n,r,i){var o=this.calendar,s=o.mutateSeg(e,t,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventResize(e.event,s.durationDelta,a,r,i),o.reportEventChange()},triggerEventResize:function(e,t,n,r,i){this.publiclyTrigger("eventResize",r[0],e,t,n,i,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.publiclyTrigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach(function(e){e.el.addClass("fc-selected")},e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(e){e.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){w(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(e(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,t,n){this.publiclyTrigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],r=[],i=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;t<7;t++)(r[t]=e.inArray(t,n)!==-1)||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var r=e.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),r=e.end,i=null;return r&&(i=r.clone().stripTime(),t=+r.time(),t&&t>=this.nextDayThreshold&&i.add(1,"days")),(!r||i<=n)&&(i=n.clone().add(1,"days")),{start:n,end:i}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),ft=Ne.Scroller=le.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=e('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var t=this.overflowX,n=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":n})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return v(this.scrollEl)}});Re.prototype.proxyCall=function(e){var t=Array.prototype.slice.call(arguments,1),n=[];return this.items.forEach(function(r){n.push(r[e].apply(r,t))}),n};var ht=Ne.Calendar=le.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,footer:null,loadingLevel:0,constructor:Me,initialize:function(){},populateOptionsHash:function(){var e,t,r,i;e=Z(this.dynamicOverrides.locale,this.overrides.locale),t=pt[e],t||(e=ht.defaults.locale,t=pt[e]||{}),r=Z(this.dynamicOverrides.isRTL,this.overrides.isRTL,t.isRTL,ht.defaults.isRTL),i=r?ht.rtlDefaults:{},this.dirDefaults=i,this.localeDefaults=t,this.options=n([ht.defaults,i,t,this.overrides,this.dynamicOverrides]),Pe(this.options)},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,r,i;if(e.inArray(t,ze)!=-1)for(n=this.header.getViewsWithButtons(),e.each(Ne.views,function(e){n.push(e)}),r=0;r<n.length;r++)if(i=this.getViewSpec(n[r]),i&&i.singleUnit==t)return i},buildViewSpec:function(e){for(var r,i,o,s,a=this.overrides.views||{},u=[],c=[],l=[],d=e;d;)r=qe[d],i=a[d],d=null,"function"==typeof r&&(r={class:r}),r&&(u.unshift(r),c.unshift(r.defaults||{}),o=o||r.duration,d=d||r.type),i&&(l.unshift(i),o=o||i.duration,d=d||i.type);return r=$(u),r.type=e,!!r.class&&(o&&(o=t.duration(o),o.valueOf()&&(r.duration=o,s=q(o),1===o.as(s)&&(r.singleUnit=s,l.unshift(a[s]||{})))),r.defaults=n(c),r.overrides=n(l),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,e),r)},buildViewSpecOptions:function(e){e.options=n([ht.defaults,e.defaults,this.dirDefaults,this.localeDefaults,this.overrides,e.overrides,this.dynamicOverrides]),Pe(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var r=n.buttonText||{};return r[t]||(e.buttonTextKey?r[e.buttonTextKey]:null)||(e.singleUnit?r[e.singleUnit]:null)}e.buttonTextOverride=n(this.dynamicOverrides)||n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.localeDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(ht.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t.class(this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.publiclyTrigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.publiclyTrigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var n,r=this.moment(e).stripZone();return n=t?this.moment(t).stripZone():r.hasTime()?r.clone().add(this.defaultTimedEventDuration):r.clone().add(this.defaultAllDayEventDuration),{start:r,end:n}}});ht.mixin(Ze),ht.mixin({optionHandlers:null,bindOption:function(e,t){this.bindOptions([e],t)},bindOptions:function(e,t){var n,r={func:t,names:e};for(n=0;n<e.length;n++)this.registerOptionHandlerObj(e[n],r);this.triggerOptionHandlerObj(r)},registerOptionHandlerObj:function(e,t){(this.optionHandlers[e]||(this.optionHandlers[e]=[])).push(t)},triggerOptionHandlers:function(e){var t,n=this.optionHandlers[e]||[];for(t=0;t<n.length;t++)this.triggerOptionHandlerObj(n[t])},triggerOptionHandlerObj:function(e){var t,n=e.names,r=[];for(t=0;t<n.length;t++)r.push(this.options[n[t]]);e.func.apply(this,r)}}),ht.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},ht.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ht.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var pt=Ne.locales={};Ne.datepickerLocale=function(t,n,r){var i=pt[t]||(pt[t]={});i.isRTL=r.isRTL,i.weekNumberTitle=r.weekHeader,e.each(vt,function(e,t){i[e]=t(r)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},Ne.locale=function(t,r){var i,o;i=pt[t]||(pt[t]={}),r&&(i=pt[t]=n([i,r])),o=Ie(t),e.each(gt,function(e,t){null==i[e]&&(i[e]=t(o,i))}),ht.defaults.locale=t};var vt={buttonText:function(e){return{prev:te(e.prevText),next:te(e.nextText),today:te(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},gt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},mt={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Ne.locale("en",ht.englishDefaults),Ne.sourceNormalizers=[],Ne.sourceFetchers=[];var yt={dataType:"json",cache:!1},bt=1;ht.prototype.mutateSeg=function(e,t){return this.mutateEvent(e.event,t)},ht.prototype.normalizeEvent=function(e){},ht.prototype.spanContainsSpan=function(e,t){var n=e.start.clone().stripZone(),r=this.getEventEnd(e).stripZone();return t.start>=n&&t.end<=r},ht.prototype.getPeerEvents=function(e,t){var n,r,i=this.getEventCache(),o=[];for(n=0;n<i.length;n++)r=i[n],t&&t._id===r._id||o.push(r);return o},ht.prototype.isEventSpanAllowed=function(e,t){var n=t.source||{},r=Z(t.constraint,n.constraint,this.options.eventConstraint),i=Z(t.overlap,n.overlap,this.options.eventOverlap);return this.isSpanAllowed(e,r,i,t)&&(!this.options.eventAllow||this.options.eventAllow(e,t)!==!1)},ht.prototype.isExternalSpanAllowed=function(t,n,r){var i,o;return r&&(i=e.extend({},r,n),o=this.expandEvent(this.buildEventFromInput(i))[0]),o?this.isEventSpanAllowed(t,o):this.isSelectionSpanAllowed(t)},ht.prototype.isSelectionSpanAllowed=function(e){return this.isSpanAllowed(e,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||this.options.selectAllow(e)!==!1)},ht.prototype.isSpanAllowed=function(e,t,n,r){var i,o,s,a,u,c;if(null!=t&&(i=this.constraintToEvents(t))){for(o=!1,a=0;a<i.length;a++)if(this.spanContainsSpan(i[a],e)){o=!0;break}if(!o)return!1}for(s=this.getPeerEvents(e,r),a=0;a<s.length;a++)if(u=s[a],this.eventIntersectsRange(u,e)){if(n===!1)return!1;if("function"==typeof n&&!n(u,r))return!1;if(r){if(c=Z(u.overlap,(u.source||{}).overlap),c===!1)return!1;if("function"==typeof c&&!c(r,u))return!1}}return!0},ht.prototype.constraintToEvents=function(e){return"businessHours"===e?this.getCurrentBusinessHourEvents():"object"==typeof e?null!=e.start?this.expandEvent(this.buildEventFromInput(e)):null:this.clientEvents(e)},ht.prototype.eventIntersectsRange=function(e,t){var n=e.start.clone().stripZone(),r=this.getEventEnd(e).stripZone();return t.start<r&&t.end>n};var wt={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};ht.prototype.getCurrentBusinessHourEvents=function(e){return this.computeBusinessHourEvents(e,this.options.businessHours)},ht.prototype.computeBusinessHourEvents=function(t,n){return n===!0?this.expandBusinessHourEvents(t,[{}]):e.isPlainObject(n)?this.expandBusinessHourEvents(t,[n]):e.isArray(n)?this.expandBusinessHourEvents(t,n,!0):[]},ht.prototype.expandBusinessHourEvents=function(t,n,r){var i,o,s=this.getView(),a=[];for(i=0;i<n.length;i++)o=n[i],r&&!o.dow||(o=e.extend({},wt,o),t&&(o.start=null,o.end=null),a.push.apply(a,this.expandEvent(this.buildEventFromInput(o),s.start,s.end)));return a};var _t=Ne.BasicView=dt.extend({scroller:null,dayGridClass:ct,dayGrid:null,
dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new ft({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var e=this.dayGridClass.extend(xt);return new e(this)},setRange:function(e){dt.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=dt.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),n=e('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,o,s=this.opt("eventLimit");this.scroller.clear(),i(this.headRowEl),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),t||(this.scroller.setHeight(n),o=this.scroller.getScrollbarWidths(),(o.left||o.right)&&(r(this.headRowEl,o),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(o))},computeScrollerHeight:function(e){return e-l(this.el,this.scroller.el)},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):a(this.dayGrid.rowEls,e,!0)},computeInitialScroll:function(){return{top:0}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(e){this.scroller.setScrollTop(e.top)},hitsNeeded:function(){this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),xt={renderHeadIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+ee(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view,n=this.getCellDate(e,0);return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+t.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},renderBgIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},St=Ne.MonthView=_t.extend({computeRange:function(e){var t,n=_t.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t&&(e*=this.rowCnt/6),a(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});qe.basic={class:_t},qe.basicDay={type:"basic",duration:{days:1}},qe.basicWeek={type:"basic",duration:{weeks:1}},qe.month={class:St,duration:{months:1},defaults:{fixedWeekCount:!0}};var kt=Ne.AgendaView=dt.extend({scroller:null,timeGridClass:lt,timeGrid:null,dayGridClass:ct,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new ft({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Ct);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(Et);return new e(this)},setRange:function(e){dt.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),n=e('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),dt.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,o,s;this.bottomRuleEl.hide(),this.scroller.clear(),i(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Tt),n&&this.dayGrid.limitRows(n)),t||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o),s=this.scroller.getScrollbarWidths(),(s.left||s.right)&&(r(this.noScrollRowEls,s),o=this.computeScrollerHeight(e),this.scroller.setHeight(o)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<o&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-l(this.el,this.scroller.el)},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,{top:n}},queryScroll:function(){return{top:this.scroller.getScrollTop()}},setScroll:function(e){this.scroller.setScrollTop(e.top)},hitsNeeded:function(){this.timeGrid.hitsNeeded(),this.dayGrid&&this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.timeGrid.hitsNotNeeded(),this.dayGrid&&this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n,r=[],i=[],o=[];for(n=0;n<e.length;n++)e[n].allDay?r.push(e[n]):i.push(e[n]);t=this.timeGrid.renderEvents(i),this.dayGrid&&(o=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Ct={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+">"+t.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},ee(e))+"</th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Et={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+e.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Tt=5,Ot=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];qe.agenda={class:kt,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},qe.agendaDay={type:"agenda",duration:{days:1}},qe.agendaWeek={type:"agenda",duration:{weeks:1}};var At=dt.extend({grid:null,scroller:null,initialize:function(){this.grid=new Dt(this),this.scroller=new ft({overflowX:"hidden",overflowY:"auto"})},setRange:function(e){dt.prototype.setRange.call(this,e),this.grid.setRange(e)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(e,t){this.scroller.setHeight(this.computeScrollerHeight(e))},computeScrollerHeight:function(e){return e-l(this.el,this.scroller.el)},renderEvents:function(e){this.grid.renderEvents(e)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(e){return!1},isEventDraggable:function(e){return!1}}),Dt=at.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(e){for(var t,n=this.view,r=n.start.clone().time(0),i=0,o=[];r<n.end;)if(t=I(e,{start:r,end:r.clone().add(1,"day")}),t&&(t.dayIndex=i,o.push(t)),r.add(1,"day"),i++,t&&!t.isEnd&&e.end.hasTime()&&e.end<r.clone().add(this.view.nextDayThreshold)){t.end=e.end.clone(),t.isEnd=!0;break}return o},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(t,n){var r;at.prototype.handleSegClick.apply(this,arguments),e(n.target).closest("a[href]").length||(r=t.event.url,r&&!n.isDefaultPrevented()&&(window.location.href=r))},renderFgSegs:function(e){return e=this.renderFgSegEls(e),e.length?this.renderSegList(e):this.renderEmptyMessage(),e},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+ee(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(t){var n,r,i,o=this.groupSegsByDay(t),s=e('<table class="fc-list-table"><tbody/></table>'),a=s.find("tbody");for(n=0;n<o.length;n++)if(r=o[n])for(a.append(this.dayHeaderHtml(this.view.start.clone().add(n,"days"))),this.sortEventSegs(r),i=0;i<r.length;i++)a.append(r[i].el);this.el.empty().append(s)},groupSegsByDay:function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],(r[n.dayIndex]||(r[n.dayIndex]=[])).push(n);return r},dayHeaderHtml:function(e){var t=this.view,n=t.opt("listDayFormat"),r=t.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+e.format("YYYY-MM-DD")+'"><td class="'+t.widgetHeaderClass+'" colspan="3">'+(n?t.buildGotoAnchorHtml(e,{class:"fc-list-heading-main"},ee(e.format(n))):"")+(r?t.buildGotoAnchorHtml(e,{class:"fc-list-heading-alt"},ee(e.format(r))):"")+"</td></tr>"},fgSegHtml:function(e){var t,n=this.view,r=["fc-list-item"].concat(this.getSegCustomClasses(e)),i=this.getSegBackgroundColor(e),o=e.event,s=o.url;return t=o.allDay?n.getAllDayHtml():n.isMultiDayEvent(o)?e.isStart||e.isEnd?ee(this.getEventTimeText(e)):n.getAllDayHtml():ee(this.getEventTimeText(o)),s&&r.push("fc-has-url"),'<tr class="'+r.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+n.widgetContentClass+'">'+(t||"")+"</td>":"")+'<td class="fc-list-item-marker '+n.widgetContentClass+'"><span class="fc-event-dot"'+(i?' style="background-color:'+i+'"':"")+'></span></td><td class="fc-list-item-title '+n.widgetContentClass+'"><a'+(s?' href="'+ee(s)+'"':"")+">"+ee(e.event.title||"")+"</a></td></tr>"}});return qe.list={class:At,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},qe.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},qe.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},qe.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},qe.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},Ne});var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,s,a,u,c,l,d,f,h,p,v,g=n&&n.split("/"),m=S.map,y=m&&m["*"];if(e&&(e=e.split("/"),l=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),t(e),e=e.join("/")),r&&m&&(g||y)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),g)for(u=g.length;u>0;u-=1)if(o=getOwn(m,g.slice(0,u).join("/")),o&&(o=getOwn(o,c))){d=o,f=a;break e}!h&&y&&getOwn(y,c)&&(h=getOwn(y,c),p=a)}!d&&h&&(d=h,f=p),d&&(s.splice(0,f,d),e=s.join("/"))}return i=getOwn(S.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(S.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,r,i){var s,a,u,c,l=null,d=t?t.name:null,f=e,h=!0,p="";return e||(h=!1,e="_@r"+(R+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,d,i),a=getOwn(O,l)),e&&(l?p=r?e:a&&a.normalize?a.normalize(e,function(e){return n(e,d,i)}):e.indexOf("!")===-1?n(e,d,i):e:(p=n(e,d,i),c=o(p),l=c[0],p=c[1],r=!0,s=w.nameToUrl(p))),u=!l||a||r?"":"_unnormalized"+(j+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!u,url:s,originalName:f,isDefine:h,id:(l?l+"!"+p:p)+u}}function a(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new w.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(O,r)||i&&!i.defineEmitComplete?(i=a(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(O[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function l(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),T.push(e)}),globalDefQueue=[])}function d(e){delete k[e],delete C[e]}function f(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,s=getOwn(k,o);!s||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,O[o]),e.check()):f(s,t,n))}),n[r]=!0)}function h(){var e,t,n=1e3*S.waitSeconds,o=n&&w.startTime+n<(new Date).getTime(),s=[],a=[],u=!1,l=!0;if(!y){if(y=!0,eachProp(C,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&o)i(c)?(t=!0,u=!0):(s.push(c),r(c));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return l=!1}),o&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=w.contextName,c(e);l&&each(a,function(e){f(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,h()},50)),y=!1}}function p(e){hasProp(O,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function v(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return v(t,w.onScriptLoad,"load","onreadystatechange"),v(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function m(){var e;for(l();T.length;){if(e=T.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}w.defQueueMap={}}var y,b,w,_,x,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},C={},E={},T=[],O={},A={},D={},R=1,j=1;return _={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?O[e.map.id]=e.exports:e.exports=O[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(E,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,o,r,i)}catch(t){e=t}else i=w.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(O[n]=i,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,s)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=s(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,l,f=getOwn(D,this.map.id),h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,v=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return n(e,p,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap,!0),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(k,o.id),void(l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()))):f?(this.map.url=w.nameToUrl(f),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),c(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=s(o),l=useInteractive;r&&(n=r),l&&(useInteractive=!1),a(u),hasProp(S.config,t)&&(S.config[o]=S.config[t]);try{req.exec(n)}catch(e){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),v([o],i)}),void r.load(e.name,v,i,S))})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(_,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=k[n],hasProp(_,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:S,contextName:e,registry:k,defined:O,urlFetched:A,defQueue:T,defQueueMap:{},Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(n.indexOf("?")===-1?"?":"&")+t}}var n=S.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(D[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),S.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var l,d,f;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(_,n)?_[n](k[t.id]):req.get?req.get(w,n,t,o):(d=s(n,t,!1,!0),l=d.id,hasProp(O,l)?O[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(m(),w.nextTick(function(){m(),f=a(s(null,t)),f.skipMap=i.skipMap,f.init(n,r,u,{enabled:!0}),h()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return i!==-1&&(!s||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(O,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(O,e)||hasProp(k,e)}}),t||(o.undef=function(e){l();var n=s(e,t,!0),i=getOwn(k,e);i.undefed=!0,r(e),delete O[e],delete A[n.url],delete E[e],eachReverse(T,function(t,n){t[0]===e&&T.splice(n,1)}),delete w.defQueueMap[e],i&&(i.events.defined&&(E[e]=i.events),d(e))}),o},enable:function(e){var t=getOwn(k,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(S.shim,e)||{},s=o.exports;for(l();T.length;){if(n=T.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(w.defQueueMap={},r=getOwn(k,e),!t&&!hasProp(O,e)&&r&&!r.inited){if(!(!S.enforceDefine||s&&getGlobal(s)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}h()},nameToUrl:function(e,t,n){var r,i,o,s,a,u,c,l=getOwn(S.pkgs,e);if(l&&(e=l),c=getOwn(D,e))return w.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=S.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(s=i.slice(0,o).join("/"),u=getOwn(r,s)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}a=i.join("/"),a+=t||(/^data\:|^blob\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+a}return S.urlArgs&&!/^blob\:/.test(a)?a+S.urlArgs(e,a):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(k,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),c(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.3",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(s=o.context),i=getOwn(contexts,s),i||(i=contexts[s]=req.s.newContext(s)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||mainScript.indexOf("!")!==-1||(src=mainScript.split("/"),
mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),_aureliaConfigureModuleLoader(),define("aurelia-binding",["exports","aurelia-logging","aurelia-pal","aurelia-task-queue","aurelia-metadata"],function(e,t,n,r,i){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(e in Fe)return Fe[e];var t=e.charAt(0).toLowerCase()+e.slice(1).replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()});return Fe[e]=t,t}function c(e,t){return{bindingContext:e,parentOverrideContext:t||null}}function l(e,t,n){var r=t.overrideContext;if(n){for(;n&&r;)n--,r=r.parentOverrideContext;if(n||!r)return;return e in r?r:r.bindingContext}for(;r&&!(e in r)&&!(r.bindingContext&&e in r.bindingContext);)r=r.parentOverrideContext;return r?e in r?r:r.bindingContext:t.bindingContext||t.overrideContext}function d(e,t){return t?{bindingContext:e,overrideContext:c(e,c(t))}:{bindingContext:e,overrideContext:c(e)}}function f(e){for(var t=void 0===this._observerSlots?0:this._observerSlots,n=t;n--&&this[qe[n]]!==e;);if(n===-1){for(n=0;this[qe[n]];)n++;this[qe[n]]=e,e.subscribe(Ne,this),n===t&&(this._observerSlots=n+1)}void 0===this._version&&(this._version=0),this[Be[n]]=this._version}function h(e,t){var n=this.observerLocator.getObserver(e,t);f.call(this,n)}function p(e){var t=this.observerLocator.getArrayObserver(e);f.call(this,t)}function v(e){for(var t=this._observerSlots;t--;)if(e||this[Be[t]]!==this._version){var n=this[qe[t]];this[qe[t]]=null,n&&n.unsubscribe(Ne,this)}}function g(){return function(e){e.prototype.observeProperty=h,e.prototype.observeArray=p,e.prototype.unobserve=v,e.prototype.addObserver=f}}function m(e){for(var t=0,r=Ve.keys(),i=void 0;(i=r.next())&&!i.done;){var o=i.value;if(Ve.delete(o),o.connect(!0),t++,t%100===0&&n.PLATFORM.performance.now()-e>Ue)break}Ve.size?n.PLATFORM.requestAnimationFrame(m):(We=!1,Ye=0)}function y(e){Ye<ze?(Ye++,e.connect(!1)):Ve.set(e),We||(We=!0,n.PLATFORM.requestAnimationFrame(m))}function b(e,t){return!this.hasSubscriber(e,t)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(e),this._callablesRest.push(t),!0):(this._contextsRest=[e],this._callablesRest=[t],!0):(this._context2=e,this._callable2=t,!0):(this._context1=e,this._callable1=t,!0):(this._context0=e,this._callable0=t,!0))}function w(e,t){if(this._context0===e&&this._callable0===t)return this._context0=null,this._callable0=null,!0;if(this._context1===e&&this._callable1===t)return this._context1=null,this._callable1=null,!0;if(this._context2===e&&this._callable2===t)return this._context2=null,this._callable2=null,!0;var n=this._contextsRest,r=void 0;return!(!n||!n.length||(r=n.indexOf(e))===-1||this._callablesRest[r]!==t)&&(n.splice(r,1),this._callablesRest.splice(r,1),!0)}function _(e,t){var n=this._context0,r=this._callable0,i=this._context1,o=this._callable1,s=this._context2,a=this._callable2,u=this._contextsRest?this._contextsRest.length:0,c=void 0,l=void 0,d=void 0,f=void 0;if(u){for(d=Ke.length;d--&&Ke[d];);for(d<0?(d=Ke.length,c=[],l=[],Ke.push(!0),$e.push(c),Ge.push(l)):(Ke[d]=!0,c=$e[d],l=Ge[d]),f=u;f--;)c[f]=this._contextsRest[f],l[f]=this._callablesRest[f]}if(n&&(r?r.call(n,e,t):n(e,t)),i&&(o?o.call(i,e,t):i(e,t)),s&&(a?a.call(s,e,t):s(e,t)),u){for(f=0;f<u;f++){var h=l[f],p=c[f];h?h.call(p,e,t):p(e,t),c[f]=null,l[f]=null}Ke[d]=!1}}function x(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function S(e,t){var n=this._context0===e&&this._callable0===t||this._context1===e&&this._callable1===t||this._context2===e&&this._callable2===t;if(n)return!0;var r=void 0,i=this._contextsRest;if(!i||0===(r=i.length))return!1;for(var o=this._callablesRest;r--;)if(i[r]===e&&o[r]===t)return!0;return!1}function k(){return function(e){e.prototype.addSubscriber=b,e.prototype.removeSubscriber=w,e.prototype.callSubscribers=_,e.prototype.hasSubscribers=x,e.prototype.hasSubscriber=S}}function C(e){return+e===e>>>0}function E(e){return+e}function T(e,t,n){return{index:e,removed:t,addedCount:n}}function O(){}function A(e,t,n,r,i,o){return tt.calcSplices(e,t,n,r,i,o)}function D(e,t,n,r){return t<n||r<e?-1:t===n||r===e?0:e<n?t<r?t-n:r-n:r<t?r-e:t-e}function R(e,t,n,r){for(var i=T(t,n,r),o=!1,s=0,a=0;a<e.length;a++){var u=e[a];if(u.index+=s,!o){var c=D(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(c>=0){e.splice(a,1),a--,s-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-c;var l=i.removed.length+u.removed.length-c;if(i.addedCount||l){var d=u.removed;if(i.index<u.index){var f=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(f,d),d=f}if(i.index+i.removed.length>u.index+u.addedCount){var h=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(d,h)}i.removed=d,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,e.splice(a,0,i),a++;var p=i.addedCount-i.removed.length;u.index+=p,s+=p}}}o||e.push(i)}function j(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];switch(i.type){case"splice":R(n,i.index,i.removed.slice(),i.addedCount);break;case"add":case"update":case"delete":if(!C(i.name))continue;var o=E(i.name);if(o<0)continue;R(n,o,[i.oldValue],"delete"===i.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(i))}}return n}function M(e,t){var n=[];return j(e,t).forEach(function(t){return 1===t.addedCount&&1===t.removed.length?void(t.removed[0]!==e[t.index]&&n.push(t)):void(n=n.concat(A(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)))}),n}function P(e,t,n,r){return{type:e,object:t,key:n,oldValue:r}}function I(e){for(var t=new Array(e.size),n=e.keys(),r=0,i=void 0;(i=n.next())&&!i.done;)t[r]=P("added",e,i.value),r++;return t}function L(e,t){return dt.for(e,t)}function F(e,t,n){for(var r=t.length,i=[],o=0;o<r;o++)i[o]=t[o].evaluate(e,n);return i}function N(e,t){return null!==e&&null!==t?"string"==typeof e&&"string"!=typeof t?e+t.toString():"string"!=typeof e&&"string"==typeof t?e.toString()+t:e+t:null!==e?e:null!==t?t:0}function q(e,t,n){var r=null===e||void 0===e?null:e[t];if("function"==typeof r)return r;if(!n&&(null===r||void 0===r))return null;throw new Error(t+" is not a function")}function B(e,t){if(Array.isArray(e))return e[parseInt(t,10)];if(e)return e[t];if(null!==e&&void 0!==e)return e[t]}function H(e,t,n){if(Array.isArray(e)){var r=parseInt(t,10);e.length<=r&&(e.length=r+1),e[r]=n}else e[t]=n;return n}function V(e){var t=new jt;return e.accept(t)}function z(e){return e>=qt&&e<=Ut||e===Pn}function U(e){return xn<=e&&e<=Dn||pn<=e&&e<=gn||e===_n||e===$t}function W(e){return xn<=e&&e<=Dn||pn<=e&&e<=gn||fn<=e&&e<=hn||e===_n||e===$t}function Y(e){return fn<=e&&e<=hn}function $(e){return e===Sn||e===vn}function G(e){return e===nn||e===en}function K(e){switch(e){case Cn:return Bt;case kn:return Vt;case En:return zt;case Tn:return qt;case An:return Ht;default:return e}}function Q(e,t){if(!e)throw t||"Assertion failed"}function X(e,t){return qn.for(e,t)}function J(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}function Z(e){e.standardStopPropagation=e.stopPropagation,e.stopPropagation=function(){this.propagationStopped=!0,this.standardStopPropagation()}}function ee(e){var t=!1;e.propagationStopped=!1;for(var n=J(e);n&&!e.propagationStopped;){if(n.delegatedCallbacks){var r=n.delegatedCallbacks[e.type];r&&(t||(Z(e),t=!0),r(e))}n=n.parentNode}}function te(e){return!!(e&&e.get&&e.get.dependencies)}function ne(e,t,n){var r=Object.getOwnPropertyDescriptor(e.prototype,t);r.get.dependencies=n}function re(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){return r.get.dependencies=t,r}}function ie(e,t,n,r){var i=n.get.dependencies;if(!(i instanceof sr)){for(var o=i.length;o--;)i[o]=r.parser.parse(i[o]);i=n.get.dependencies=new sr(t,i)}var s={bindingContext:e,overrideContext:c(e)};return new Qe(s,i,r)}function oe(e){var t=n.DOM.createElement("div");return t.innerHTML=e,t.firstChild}function se(e){return void 0===e||"string"==typeof e?function(t){i.metadata.define(i.metadata.resource,new gr(e),t)}:void i.metadata.define(i.metadata.resource,new gr,e)}function ae(e){return void 0===e||"string"==typeof e?function(t){i.metadata.define(i.metadata.resource,new mr(e),t)}:void i.metadata.define(i.metadata.resource,new mr,e)}function ue(e){var t=e.au;if(void 0===t)throw new Error('No Aurelia APIs are defined for the element: "'+e.tagName+'".');return t}function ce(e,t){return xr.for(e,t)}function le(e,t,n){function r(e,t,n,r){var i=void 0===t;i&&(e=e.prototype,t="string"==typeof r?r:r.name);var o="_"+t,s={configurable:!0,enumerable:!1,writable:!0},a=r&&r.changeHandler||t+"Changed";return n?"function"==typeof n.initializer&&(s.value=n.initializer()):n={},"enumerable"in n||(n.enumerable=!0),delete n.value,delete n.writable,delete n.initializer,Reflect.defineProperty(e,o,s),n.get=function(){return this[o]},n.set=function(e){var n=this[o];this[o]=e,Reflect.defineProperty(this,o,{enumerable:!1}),this[a]&&this[a](e,n,t)},n.get.dependencies=[o],i?void Reflect.defineProperty(e,t,n):n}return void 0===t?function(t,n,i){return r(t,n,i,e)}:r(e,t,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getSetObserver=e.BindingEngine=e.NameExpression=e.Listener=e.ListenerExpression=e.BindingBehaviorResource=e.ValueConverterResource=e.Call=e.CallExpression=e.Binding=e.BindingExpression=e.ObjectObservationAdapter=e.ObserverLocator=e.SVGAnalyzer=e.presentationAttributes=e.presentationElements=e.elements=e.ComputedExpression=e.ClassObserver=e.SelectValueObserver=e.CheckedObserver=e.ValueAttributeObserver=e.StyleObserver=e.DataAttributeObserver=e.dataAttributeAccessor=e.XLinkAttributeObserver=e.SetterObserver=e.PrimitiveObserver=e.propertyAccessor=e.DirtyCheckProperty=e.DirtyChecker=e.EventManager=e.getMapObserver=e.ParserImplementation=e.Parser=e.Scanner=e.Lexer=e.Token=e.bindingMode=e.ExpressionCloner=e.Unparser=e.LiteralObject=e.LiteralArray=e.LiteralString=e.LiteralPrimitive=e.PrefixNot=e.Binary=e.CallFunction=e.CallMember=e.CallScope=e.AccessKeyed=e.AccessMember=e.AccessScope=e.AccessThis=e.Conditional=e.Assign=e.ValueConverter=e.BindingBehavior=e.Chain=e.Expression=e.getArrayObserver=e.CollectionLengthObserver=e.ModifyCollectionObserver=e.ExpressionObserver=e.sourceContext=void 0,e.camelCase=u,e.createOverrideContext=c,e.getContextFor=l,e.createScopeForTest=d,e.connectable=g,e.enqueueBindingConnect=y,e.subscriberCollection=k,e.calcSplices=A,e.mergeSplice=R,e.projectArraySplices=M,e.getChangeRecords=I,e.cloneExpression=V,e.hasDeclaredDependencies=te,e.declarePropertyDependencies=ne,e.computedFrom=re,e.createComputedObserver=ie,e.valueConverter=se,e.bindingBehavior=ae,e.observable=le;for(var de,fe,he,pe,ve,ge,me,ye,be,we,_e,xe,Se,ke,Ce,Ee,Te,Oe,Ae,De,Re,je,Me,Pe=o(t),Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Le=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Fe=Object.create(null),Ne=e.sourceContext="Binding:source",qe=[],Be=[],He=0;He<100;He++)qe.push("_observer"+He),Be.push("_observerVersion"+He);var Ve=new Map,ze=100,Ue=15,We=!1,Ye=0,$e=[],Ge=[],Ke=[],Qe=e.ExpressionObserver=(de=g(),fe=k(),de(he=fe(he=function(){function e(e,t,n,r){this.scope=e,this.expression=t,this.observerLocator=n,this.lookupFunctions=r}return e.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},e.prototype.setValue=function(e){this.expression.assign(this.scope,e)},e.prototype.subscribe=function(e,t){var n=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(e,t),1===arguments.length&&e instanceof Function)return{dispose:function(){n.unsubscribe(e,t)}}},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},e.prototype.call=function(){var e=this.expression.evaluate(this.scope,this.lookupFunctions),t=this.oldValue;e!==t&&(this.oldValue=e,this.callSubscribers(e,t)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},e}())||he)||he),Xe=0,Je=1,Ze=2,et=3;O.prototype={calcEditDistances:function(e,t,n,r,i,o){for(var s=o-i+1,a=n-t+1,u=new Array(s),c=void 0,l=void 0,d=0;d<s;++d)u[d]=new Array(a),u[d][0]=d;for(var f=0;f<a;++f)u[0][f]=f;for(var h=1;h<s;++h)for(var p=1;p<a;++p)this.equals(e[t+p-1],r[i+h-1])?u[h][p]=u[h-1][p-1]:(c=u[h-1][p]+1,l=u[h][p-1]+1,u[h][p]=c<l?c:l);return u},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];t>0||n>0;)if(0!==t)if(0!==n){var o=e[t-1][n-1],s=e[t-1][n],a=e[t][n-1],u=void 0;u=s<a?s<o?s:o:a<o?a:o,u===o?(o===r?i.push(Xe):(i.push(Je),r=o),t--,n--):u===s?(i.push(et),t--,r=s):(i.push(Ze),n--,r=a)}else i.push(et),t--;else i.push(Ze),n--;return i.reverse(),i},calcSplices:function(e,t,n,r,i,o){var s=0,a=0,u=Math.min(n-t,o-i);if(0===t&&0===i&&(s=this.sharedPrefix(e,r,u)),n===e.length&&o===r.length&&(a=this.sharedSuffix(e,r,u-s)),t+=s,i+=s,n-=a,o-=a,n-t===0&&o-i===0)return[];if(t===n){for(var c=T(t,[],0);i<o;)c.removed.push(r[i++]);return[c]}if(i===o)return[T(t,[],n-t)];for(var l=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,r,i,o)),d=void 0,f=[],h=t,p=i,v=0;v<l.length;++v)switch(l[v]){case Xe:d&&(f.push(d),d=void 0),h++,p++;break;case Je:d||(d=T(h,[],0)),d.addedCount++,h++,d.removed.push(r[p]),p++;break;case Ze:d||(d=T(h,[],0)),d.addedCount++,h++;break;case et:d||(d=T(h,[],0)),d.removed.push(r[p]),p++}return d&&f.push(d),f},sharedPrefix:function(e,t,n){for(var r=0;r<n;++r)if(!this.equals(e[r],t[r]))return r;return n},sharedSuffix:function(e,t,n){for(var r=e.length,i=t.length,o=0;o<n&&this.equals(e[--r],t[--i]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};var tt=new O,nt=e.ModifyCollectionObserver=(pe=k(),pe(ve=function(){function e(e,t){this.taskQueue=e,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}return e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.addChangeRecord=function(e){if(this.hasSubscribers()||this.lengthObserver){if("splice"===e.type){var t=e.index,n=e.object.length;t>n?t=n-e.addedCount:t<0&&(t=n+e.removed.length+t-e.addedCount),t<0&&(t=0),e.index=t}null===this.changeRecords?this.changeRecords=[e]:this.changeRecords.push(e),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},e.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},e.prototype.reset=function(e){this.oldCollection=e,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},e.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new rt(this.collection))},e.prototype.call=function(){var e=this.changeRecords,t=this.oldCollection,n=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(n=t?this.collection instanceof Map||this.collection instanceof Set?I(t):A(this.collection,0,this.collection.length,t,0,t.length):this.collection instanceof Map||this.collection instanceof Set?e:M(this.collection,e),this.callSubscribers(n)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},e}())||ve),rt=e.CollectionLengthObserver=(ge=k(),ge(me=function(){function e(e){this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length",this.currentValue=e[this.lengthPropertyName]}return e.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},e.prototype.setValue=function(e){this.collection[this.lengthPropertyName]=e},e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.call=function(e){var t=this.currentValue;this.callSubscribers(e,t),this.currentValue=e},e}())||me),it=Array.prototype.pop,ot=Array.prototype.push,st=Array.prototype.reverse,at=Array.prototype.shift,ut=Array.prototype.sort,ct=Array.prototype.splice,lt=Array.prototype.unshift;Array.prototype.pop=function(){var e=this.length>0,t=it.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:t}),t},Array.prototype.push=function(){var e=ot.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),e},Array.prototype.reverse=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=st.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.shift=function(){var e=this.length>0,t=at.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:t}),t},Array.prototype.sort=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=ut.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},Array.prototype.splice=function(){var e=ct.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:arguments[0],removed:e,addedCount:arguments.length>2?arguments.length-2:0}),e},Array.prototype.unshift=function(){var e=lt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),e},e.getArrayObserver=L;var dt=function(e){function t(t,n){return s(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__array_observer__"in n||Reflect.defineProperty(n,"__array_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__array_observer__},t.create=function(e,n){return new t(e,n)},t}(nt),ft=e.Expression=function(){function e(){this.isChain=!1,this.isAssignable=!1}return e.prototype.evaluate=function(e,t,n){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},e.prototype.assign=function(e,t,n){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},e.prototype.toString=function(){return Rt.unparse(this)},e}(),ht=e.Chain=function(e){function t(t){var n=s(this,e.call(this));return n.expressions=t,n.isChain=!0,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=void 0,r=this.expressions,i=void 0,o=0,s=r.length;o<s;++o)i=r[o].evaluate(e,t),null!==i&&(n=i);return n},t.prototype.accept=function(e){return e.visitChain(this)},t}(ft),pt=e.BindingBehavior=function(e){function t(t,n,r){var i=s(this,e.call(this));return i.expression=t,i.name=n,i.args=r,i}return a(t,e),t.prototype.evaluate=function(e,t){return this.expression.evaluate(e,t)},t.prototype.assign=function(e,t,n){return this.expression.assign(e,t,n)},t.prototype.accept=function(e){return e.visitBindingBehavior(this)},t.prototype.connect=function(e,t){this.expression.connect(e,t)},t.prototype.bind=function(e,t,n){this.expression.expression&&this.expression.bind&&this.expression.bind(e,t,n);var r=n.bindingBehaviors(this.name);if(!r)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var i="behavior-"+this.name;if(e[i])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');e[i]=r,r.bind.apply(r,[e,t].concat(F(t,this.args,e.lookupFunctions)))},t.prototype.unbind=function(e,t){var n="behavior-"+this.name;e[n].unbind(e,t),e[n]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(e,t)},t}(ft),vt=e.ValueConverter=function(e){function t(t,n,r,i){var o=s(this,e.call(this));return o.expression=t,o.name=n,o.args=r,o.allArgs=i,o}return a(t,e),t.prototype.evaluate=function(e,t){var n=t.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in n?n.toView.apply(n,F(e,this.allArgs,t)):this.allArgs[0].evaluate(e,t)},t.prototype.assign=function(e,t,n){var r=n.valueConverters(this.name);if(!r)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in r&&(t=r.fromView.apply(r,[t].concat(F(e,this.args,n)))),this.allArgs[0].assign(e,t,n)},t.prototype.accept=function(e){return e.visitValueConverter(this)},t.prototype.connect=function(e,t){for(var n=this.allArgs,r=n.length;r--;)n[r].connect(e,t)},t}(ft),gt=e.Assign=function(e){function t(t,n){var r=s(this,e.call(this));return r.target=t,r.value=n,r}return a(t,e),t.prototype.evaluate=function(e,t){return this.target.assign(e,this.value.evaluate(e,t))},t.prototype.accept=function(e){e.visitAssign(this)},t.prototype.connect=function(e,t){},t}(ft),mt=e.Conditional=function(e){function t(t,n,r){var i=s(this,e.call(this));return i.condition=t,i.yes=n,i.no=r,i}return a(t,e),t.prototype.evaluate=function(e,t){return this.condition.evaluate(e)?this.yes.evaluate(e):this.no.evaluate(e)},t.prototype.accept=function(e){return e.visitConditional(this)},t.prototype.connect=function(e,t){this.condition.connect(e,t),this.condition.evaluate(t)?this.yes.connect(e,t):this.no.connect(e,t)},t}(ft),yt=e.AccessThis=function(e){function t(t){var n=s(this,e.call(this));return n.ancestor=t,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=e.overrideContext,r=this.ancestor;r--&&n;)n=n.parentOverrideContext;return r<1&&n?n.bindingContext:void 0},t.prototype.accept=function(e){return e.visitAccessThis(this)},t.prototype.connect=function(e,t){},t}(ft),bt=e.AccessScope=function(e){function t(t,n){var r=s(this,e.call(this));return r.name=t,r.ancestor=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){var n=l(this.name,e,this.ancestor);return n[this.name]},t.prototype.assign=function(e,t){var n=l(this.name,e,this.ancestor);return n?n[this.name]=t:void 0},t.prototype.accept=function(e){return e.visitAccessScope(this)},t.prototype.connect=function(e,t){var n=l(this.name,t,this.ancestor);e.observeProperty(n,this.name)},t}(ft),wt=e.AccessMember=function(e){function t(t,n){var r=s(this,e.call(this));return r.object=t,r.name=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){var n=this.object.evaluate(e,t);return null===n||void 0===n?n:n[this.name]},t.prototype.assign=function(e,t){var n=this.object.evaluate(e);return null!==n&&void 0!==n||(n={},this.object.assign(e,n)),n[this.name]=t,t},t.prototype.accept=function(e){return e.visitAccessMember(this)},t.prototype.connect=function(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);n&&e.observeProperty(n,this.name)},t}(ft),_t=e.AccessKeyed=function(e){function t(t,n){var r=s(this,e.call(this));return r.object=t,r.key=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){var n=this.object.evaluate(e,t),r=this.key.evaluate(e,t);return B(n,r)},t.prototype.assign=function(e,t){var n=this.object.evaluate(e),r=this.key.evaluate(e);return H(n,r,t)},t.prototype.accept=function(e){return e.visitAccessKeyed(this)},t.prototype.connect=function(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);if(n instanceof Object){this.key.connect(e,t);var r=this.key.evaluate(t);null===r||void 0===r||Array.isArray(n)&&"number"==typeof r||e.observeProperty(n,r)}},t}(ft),xt=e.CallScope=function(e){function t(t,n,r){var i=s(this,e.call(this));return i.name=t,i.args=n,i.ancestor=r,i}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=F(e,this.args,t),i=l(this.name,e,this.ancestor),o=q(i,this.name,n);if(o)return o.apply(i,r)},t.prototype.accept=function(e){return e.visitCallScope(this)},t.prototype.connect=function(e,t){for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},t}(ft),St=e.CallMember=function(e){function t(t,n,r){var i=s(this,e.call(this));return i.object=t,i.name=n,i.args=r,i}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=this.object.evaluate(e,t),i=F(e,this.args,t),o=q(r,this.name,n);if(o)return o.apply(r,i)},t.prototype.accept=function(e){return e.visitCallMember(this)},t.prototype.connect=function(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);if(q(n,this.name,!1))for(var r=this.args,i=r.length;i--;)r[i].connect(e,t)},t}(ft),kt=e.CallFunction=function(e){function t(t,n){var r=s(this,e.call(this));return r.func=t,r.args=n,r}return a(t,e),t.prototype.evaluate=function(e,t,n){var r=this.func.evaluate(e,t);if("function"==typeof r)return r.apply(null,F(e,this.args,t));if(n||null!==r&&void 0!==r)throw new Error(this.func+" is not a function")},t.prototype.accept=function(e){return e.visitCallFunction(this)},t.prototype.connect=function(e,t){this.func.connect(e,t);var n=this.func.evaluate(t);if("function"==typeof n)for(var r=this.args,i=r.length;i--;)r[i].connect(e,t)},t}(ft),Ct=e.Binary=function(e){function t(t,n,r){var i=s(this,e.call(this));return i.operation=t,i.left=n,i.right=r,i}return a(t,e),t.prototype.evaluate=function(e,t){var n=this.left.evaluate(e);switch(this.operation){case"&&":return n&&this.right.evaluate(e);case"||":return n||this.right.evaluate(e)}var r=this.right.evaluate(e);switch(this.operation){case"==":return n==r;case"===":return n===r;case"!=":return n!=r;case"!==":return n!==r}if(null===n||null===r||void 0===n||void 0===r){switch(this.operation){case"+":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?r:0;case"-":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?0-r:0}return null}switch(this.operation){case"+":return N(n,r);case"-":return n-r;case"*":return n*r;case"/":return n/r;case"%":return n%r;case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"^":return n^r}throw new Error("Internal error ["+this.operation+"] not handled")},t.prototype.accept=function(e){return e.visitBinary(this)},t.prototype.connect=function(e,t){this.left.connect(e,t);var n=this.left.evaluate(t);"&&"===this.operation&&!n||"||"===this.operation&&n||this.right.connect(e,t)},t}(ft),Et=e.PrefixNot=function(e){function t(t,n){var r=s(this,e.call(this));return r.operation=t,r.expression=n,r}return a(t,e),t.prototype.evaluate=function(e,t){return!this.expression.evaluate(e)},t.prototype.accept=function(e){return e.visitPrefix(this)},t.prototype.connect=function(e,t){this.expression.connect(e,t)},t}(ft),Tt=e.LiteralPrimitive=function(e){function t(t){var n=s(this,e.call(this));return n.value=t,n}return a(t,e),t.prototype.evaluate=function(e,t){return this.value},t.prototype.accept=function(e){return e.visitLiteralPrimitive(this)},t.prototype.connect=function(e,t){},t}(ft),Ot=e.LiteralString=function(e){function t(t){var n=s(this,e.call(this));return n.value=t,n}return a(t,e),t.prototype.evaluate=function(e,t){return this.value},t.prototype.accept=function(e){return e.visitLiteralString(this)},t.prototype.connect=function(e,t){},t}(ft),At=e.LiteralArray=function(e){function t(t){var n=s(this,e.call(this));return n.elements=t,n}return a(t,e),t.prototype.evaluate=function(e,t){for(var n=this.elements,r=[],i=0,o=n.length;i<o;++i)r[i]=n[i].evaluate(e,t);return r},t.prototype.accept=function(e){return e.visitLiteralArray(this)},t.prototype.connect=function(e,t){for(var n=this.elements.length,r=0;r<n;r++)this.elements[r].connect(e,t)},t}(ft),Dt=e.LiteralObject=function(e){function t(t,n){var r=s(this,e.call(this));return r.keys=t,r.values=n,r}return a(t,e),t.prototype.evaluate=function(e,t){for(var n={},r=this.keys,i=this.values,o=0,s=r.length;o<s;++o)n[r[o]]=i[o].evaluate(e,t);return n},t.prototype.accept=function(e){return e.visitLiteralObject(this)},t.prototype.connect=function(e,t){for(var n=this.keys.length,r=0;r<n;r++)this.values[r].connect(e,t)},t}(ft),Rt=e.Unparser=function(){function e(e){this.buffer=e}return e.unparse=function(t){var n=[],r=new e(n);return t.accept(r),n.join("")},e.prototype.write=function(e){this.buffer.push(e)},e.prototype.writeArgs=function(e){this.write("(");for(var t=0,n=e.length;t<n;++t)0!==t&&this.write(","),e[t].accept(this);this.write(")")},e.prototype.visitChain=function(e){for(var t=e.expressions,n=0,r=expression.length;n<r;++n)0!==n&&this.write(";"),t[n].accept(this)},e.prototype.visitBindingBehavior=function(e){var t=e.args;e.expression.accept(this),this.write("&"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},e.prototype.visitValueConverter=function(e){var t=e.args;e.expression.accept(this),this.write("|"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},e.prototype.visitAssign=function(e){e.target.accept(this),this.write("="),e.value.accept(this)},e.prototype.visitConditional=function(e){e.condition.accept(this),this.write("?"),e.yes.accept(this),this.write(":"),e.no.accept(this)},e.prototype.visitAccessThis=function(e){if(0===e.ancestor)return void this.write("$this");this.write("$parent");for(var t=e.ancestor-1;t--;)this.write(".$parent")},e.prototype.visitAccessScope=function(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name)},e.prototype.visitAccessMember=function(e){e.object.accept(this),this.write("."+e.name)},e.prototype.visitAccessKeyed=function(e){e.object.accept(this),this.write("["),e.key.accept(this),this.write("]")},e.prototype.visitCallScope=function(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name),this.writeArgs(e.args)},e.prototype.visitCallFunction=function(e){e.func.accept(this),this.writeArgs(e.args)},e.prototype.visitCallMember=function(e){e.object.accept(this),this.write("."+e.name),this.writeArgs(e.args)},e.prototype.visitPrefix=function(e){this.write("("+e.operation),e.expression.accept(this),this.write(")")},e.prototype.visitBinary=function(e){e.left.accept(this),this.write(e.operation),e.right.accept(this)},e.prototype.visitLiteralPrimitive=function(e){this.write(""+e.value)},e.prototype.visitLiteralArray=function(e){var t=e.elements;this.write("[");for(var n=0,r=t.length;n<r;++n)0!==n&&this.write(","),t[n].accept(this);
this.write("]")},e.prototype.visitLiteralObject=function(e){var t=e.keys,n=e.values;this.write("{");for(var r=0,i=t.length;r<i;++r)0!==r&&this.write(","),this.write("'"+t[r]+"':"),n[r].accept(this);this.write("}")},e.prototype.visitLiteralString=function(e){var t=e.value.replace(/'/g,"'");this.write("'"+t+"'")},e}(),jt=e.ExpressionCloner=function(){function e(){}return e.prototype.cloneExpressionArray=function(e){for(var t=[],n=e.length;n--;)t[n]=e[n].accept(this);return t},e.prototype.visitChain=function(e){return new ht(this.cloneExpressionArray(e.expressions))},e.prototype.visitBindingBehavior=function(e){return new pt(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitValueConverter=function(e){return new vt(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitAssign=function(e){return new gt(e.target.accept(this),e.value.accept(this))},e.prototype.visitConditional=function(e){return new mt(e.condition.accept(this),e.yes.accept(this),e.no.accept(this))},e.prototype.visitAccessThis=function(e){return new yt(e.ancestor)},e.prototype.visitAccessScope=function(e){return new bt(e.name,e.ancestor)},e.prototype.visitAccessMember=function(e){return new wt(e.object.accept(this),e.name)},e.prototype.visitAccessKeyed=function(e){return new _t(e.object.accept(this),e.key.accept(this))},e.prototype.visitCallScope=function(e){return new xt(e.name,this.cloneExpressionArray(e.args),e.ancestor)},e.prototype.visitCallFunction=function(e){return new kt(e.func.accept(this),this.cloneExpressionArray(e.args))},e.prototype.visitCallMember=function(e){return new St(e.object.accept(this),e.name,this.cloneExpressionArray(e.args))},e.prototype.visitPrefix=function(e){return new Et(e.operation,e.expression.accept(this))},e.prototype.visitBinary=function(e){return new Ct(e.operation,e.left.accept(this),e.right.accept(this))},e.prototype.visitLiteralPrimitive=function(e){return new Tt(e)},e.prototype.visitLiteralArray=function(e){return new At(this.cloneExpressionArray(e.elements))},e.prototype.visitLiteralObject=function(e){return new Dt(e.keys,this.cloneExpressionArray(e.values))},e.prototype.visitLiteralString=function(e){return new Ot(e.value)},e}(),Mt=e.bindingMode={oneTime:0,oneWay:1,twoWay:2},Pt=e.Token=function(){function e(e,t){this.index=e,this.text=t}return e.prototype.withOp=function(e){return this.opKey=e,this},e.prototype.withGetterSetter=function(e){return this.key=e,this},e.prototype.withValue=function(e){return this.value=e,this},e.prototype.toString=function(){return"Token("+this.text+")"},e}(),It=e.Lexer=function(){function e(){}return e.prototype.lex=function(e){for(var t=new Lt(e),n=[],r=t.scanToken();r;)n.push(r),r=t.scanToken();return n},e}(),Lt=e.Scanner=function(){function e(e){this.input=e,this.length=e.length,this.peek=0,this.index=-1,this.advance()}return e.prototype.scanToken=function(){for(;this.peek<=Ut;){if(++this.index>=this.length)return this.peek=Nt,null;this.peek=this.input.charCodeAt(this.index)}if(U(this.peek))return this.scanIdentifier();if(Y(this.peek))return this.scanNumber(this.index);var e=this.index;switch(this.peek){case rn:return this.advance(),Y(this.peek)?this.scanNumber(e):new Pt(e,".");case Xt:case Jt:case Rn:case Mn:case mn:case bn:case tn:case sn:case an:return this.scanCharacter(e,String.fromCharCode(this.peek));case Qt:case Yt:return this.scanString();case en:case nn:case Zt:case on:case Gt:case wn:case dn:return this.scanOperator(e,String.fromCharCode(this.peek));case un:case ln:case Wt:case cn:return this.scanComplexOperator(e,cn,String.fromCharCode(this.peek),"=");case Kt:return this.scanComplexOperator(e,Kt,"&","&");case jn:return this.scanComplexOperator(e,jn,"|","|");case Pn:for(;z(this.peek);)this.advance();return this.scanToken()}var t=String.fromCharCode(this.peek);return this.error("Unexpected character ["+t+"]"),null},e.prototype.scanCharacter=function(e,t){return Q(this.peek===t.charCodeAt(0)),this.advance(),new Pt(e,t)},e.prototype.scanOperator=function(e,t){return Q(this.peek===t.charCodeAt(0)),Q(Ft.indexOf(t)!==-1),this.advance(),new Pt(e,t).withOp(t)},e.prototype.scanComplexOperator=function(e,t,n,r){Q(this.peek===n.charCodeAt(0)),this.advance();var i=n;return this.peek===t&&(this.advance(),i+=r),this.peek===t&&(this.advance(),i+=r),Q(Ft.indexOf(i)!==-1),new Pt(e,i).withOp(i)},e.prototype.scanIdentifier=function(){Q(U(this.peek));var e=this.index;for(this.advance();W(this.peek);)this.advance();var t=this.input.substring(e,this.index),n=new Pt(e,t);return Ft.indexOf(t)!==-1?n.withOp(t):n.withGetterSetter(t),n},e.prototype.scanNumber=function(e){Q(Y(this.peek));var t=this.index===e;for(this.advance();;){if(!Y(this.peek))if(this.peek===rn)t=!1;else{if(!$(this.peek))break;this.advance(),G(this.peek)&&this.advance(),Y(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var n=this.input.substring(e,this.index),r=t?parseInt(n,10):parseFloat(n);return new Pt(e,n).withValue(r)},e.prototype.scanString=function(){Q(this.peek===Qt||this.peek===Yt);var e=this.index,t=this.peek;this.advance();for(var n=void 0,r=this.index;this.peek!==t;)if(this.peek===yn){n||(n=[]),n.push(this.input.substring(r,this.index)),this.advance();var i=void 0;if(this.peek===On){var o=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(o)||this.error("Invalid unicode escape [\\u"+o+"]"),i=parseInt(o,16);for(var s=0;s<5;++s)this.advance()}else i=K(this.peek),this.advance();n.push(String.fromCharCode(i)),r=this.index}else this.peek===Nt?this.error("Unterminated quote"):this.advance();var a=this.input.substring(r,this.index);this.advance();var u=this.input.substring(e,this.index),c=a;return null!==n&&void 0!==n&&(n.push(a),c=n.join("")),new Pt(e,u).withValue(c)},e.prototype.advance=function(){++this.index>=this.length?this.peek=Nt:this.peek=this.input.charCodeAt(this.index)},e.prototype.error=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.index+t;throw new Error("Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]")},e}(),Ft=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],Nt=0,qt=9,Bt=10,Ht=11,Vt=12,zt=13,Ut=32,Wt=33,Yt=34,$t=36,Gt=37,Kt=38,Qt=39,Xt=40,Jt=41,Zt=42,en=43,tn=44,nn=45,rn=46,on=47,sn=58,an=59,un=60,cn=61,ln=62,dn=63,fn=48,hn=57,pn=65,vn=69,gn=90,mn=91,yn=92,bn=93,wn=94,_n=95,xn=97,Sn=101,kn=102,Cn=110,En=114,Tn=116,On=117,An=118,Dn=122,Rn=123,jn=124,Mn=125,Pn=160,In=new Pt(-1,null),Ln=e.Parser=function(){function e(){this.cache={},this.lexer=new It}return e.prototype.parse=function(e){return e=e||"",this.cache[e]||(this.cache[e]=new Fn(this.lexer,e).parseChain())},e}(),Fn=e.ParserImplementation=function(){function e(e,t){this.index=0,this.input=t,this.tokens=e.lex(t)}return e.prototype.parseChain=function(){for(var e=!1,t=[];this.optional(";");)e=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var n=this.parseBindingBehavior();for(t.push(n);this.optional(";");)e=!0;e&&this.error("Multiple expressions are not allowed.")}return 1===t.length?t[0]:new ht(t)},e.prototype.parseBindingBehavior=function(){for(var e=this.parseValueConverter();this.optional("&");){var t=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());e=new pt(e,t,n)}return e},e.prototype.parseValueConverter=function(){for(var e=this.parseExpression();this.optional("|");){var t=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());e=new vt(e,t,n,[e].concat(n))}return e},e.prototype.parseExpression=function(){for(var e=this.peek.index,t=this.parseConditional();"="===this.peek.text;){if(!t.isAssignable){var n=this.index<this.tokens.length?this.peek.index:this.input.length,r=this.input.substring(e,n);this.error("Expression "+r+" is not assignable")}this.expect("="),t=new gt(t,this.parseConditional())}return t},e.prototype.parseConditional=function(){var e=this.peek.index,t=this.parseLogicalOr();if(this.optional("?")){var n=this.parseExpression();if(!this.optional(":")){var r=this.index<this.tokens.length?this.peek.index:this.input.length,i=this.input.substring(e,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parseExpression();t=new mt(t,n,o)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optional("||");)e=new Ct("||",e,this.parseLogicalAnd());return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optional("&&");)e=new Ct("&&",e,this.parseEquality());return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optional("=="))e=new Ct("==",e,this.parseRelational());else if(this.optional("!="))e=new Ct("!=",e,this.parseRelational());else if(this.optional("==="))e=new Ct("===",e,this.parseRelational());else{if(!this.optional("!=="))return e;e=new Ct("!==",e,this.parseRelational())}},e.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optional("<"))e=new Ct("<",e,this.parseAdditive());else if(this.optional(">"))e=new Ct(">",e,this.parseAdditive());else if(this.optional("<="))e=new Ct("<=",e,this.parseAdditive());else{if(!this.optional(">="))return e;e=new Ct(">=",e,this.parseAdditive())}},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optional("+"))e=new Ct("+",e,this.parseMultiplicative());else{if(!this.optional("-"))return e;e=new Ct("-",e,this.parseMultiplicative())}},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optional("*"))e=new Ct("*",e,this.parsePrefix());else if(this.optional("%"))e=new Ct("%",e,this.parsePrefix());else{if(!this.optional("/"))return e;e=new Ct("/",e,this.parsePrefix())}},e.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Ct("-",new Tt(0),this.parsePrefix()):this.optional("!")?new Et("!",this.parsePrefix()):this.parseAccessOrCallMember()},e.prototype.parseAccessOrCallMember=function(){for(var e=this.parsePrimary();;)if(this.optional(".")){var t=this.peek.text;if(this.advance(),this.optional("(")){var n=this.parseExpressionList(")");this.expect(")"),e=e instanceof yt?new xt(t,n,e.ancestor):new St(e,t,n)}else e=e instanceof yt?new bt(t,e.ancestor):new wt(e,t)}else if(this.optional("[")){var r=this.parseExpression();this.expect("]"),e=new _t(e,r)}else{if(!this.optional("("))return e;var i=this.parseExpressionList(")");this.expect(")"),e=new kt(e,i)}},e.prototype.parsePrimary=function(){if(this.optional("(")){var e=this.parseExpression();return this.expect(")"),e}if(this.optional("null"))return new Tt(null);if(this.optional("undefined"))return new Tt(void 0);if(this.optional("true"))return new Tt(!0);if(this.optional("false"))return new Tt(!1);if(this.optional("[")){var t=this.parseExpressionList("]");return this.expect("]"),new At(t)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var n=this.peek.value;return this.advance(),n instanceof String||"string"==typeof n?new Ot(n):new Tt(n)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},e.prototype.parseAccessOrCallScope=function(){var e=this.peek.key;if(this.advance(),"$this"===e)return new yt(0);for(var t=0;"$parent"===e;)if(t++,this.optional("."))e=this.peek.key,this.advance();else{if(this.peek===In||"("===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text)return new yt(t);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var n=this.parseExpressionList(")");return this.expect(")"),new xt(e,n,t)}return new bt(e,t)},e.prototype.parseObject=function(){var e=[],t=[];if(this.expect("{"),"}"!==this.peek.text)do{var n=this.peek,r=n.value;e.push("string"==typeof r?r:n.text),this.advance(),!n.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),t.push(this.parseExpression())):(--this.index,t.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Dt(e,t)},e.prototype.parseExpressionList=function(e){var t=[];if(this.peek.text!==e)do t.push(this.parseExpression());while(this.optional(","));return t},e.prototype.optional=function(e){return this.peek.text===e&&(this.advance(),!0)},e.prototype.expect=function(e){this.peek.text===e?this.advance():this.error("Missing expected "+e)},e.prototype.advance=function(){this.index++},e.prototype.error=function(e){var t=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+e+" "+t+" ["+this.input+"]")},Le(e,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:In}}]),e}(),Nn=Map.prototype;e.getMapObserver=X;var qn=function(e){function t(t,n){return s(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__map_observer__"in n||Reflect.defineProperty(n,"__map_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__map_observer__},t.create=function(e,n){var r=new t(e,n),i=Nn;return i.add===n.add&&i.delete===n.delete&&i.clear===n.clear||(i={add:n.add,delete:n.delete,clear:n.clear}),n.set=function(){var e=n.has(arguments[0]),t=e?"update":"add",o=n.get(arguments[0]),s=i.set.apply(n,arguments);return e&&o===n.get(arguments[0])||r.addChangeRecord({type:t,object:n,key:arguments[0],oldValue:o}),s},n.delete=function(){var e=n.has(arguments[0]),t=n.get(arguments[0]),o=i.delete.apply(n,arguments);return e&&r.addChangeRecord({type:"delete",object:n,key:arguments[0],oldValue:t}),o},n.clear=function(){var e=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),e},r},t}(nt),Bn=function(){function e(e){this.eventName=e,this.count=0}return e.prototype.increment=function(){this.count++,1===this.count&&n.DOM.addEventListener(this.eventName,ee,!1)},e.prototype.decrement=function(){this.count--,0===this.count&&n.DOM.removeEventListener(this.eventName,ee)},e}(),Hn=function(){function e(){this.delegatedHandlers={}}return e.prototype.subscribe=function(e,t,n,r){var i=this;if(r){var o=function(){var r=i.delegatedHandlers,o=r[t]||(r[t]=new Bn(t)),s=e.delegatedCallbacks||(e.delegatedCallbacks={});return o.increment(),s[t]=n,{v:function(){o.decrement(),s[t]=null}}}();if("object"===("undefined"==typeof o?"undefined":Ie(o)))return o.v}return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n)}},e}(),Vn=e.EventManager=function(){function e(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new Hn}return e.prototype.registerElementConfig=function(e){var t=e.tagName.toLowerCase(),n=e.properties,r=void 0;this.elementHandlerLookup[t]={};for(r in n)n.hasOwnProperty(r)&&this.registerElementPropertyConfig(t,r,n[r])},e.prototype.registerElementPropertyConfig=function(e,t,n){this.elementHandlerLookup[e][t]=this.createElementHandler(n)},e.prototype.createElementHandler=function(e){return{subscribe:function(t,n){return e.forEach(function(e){t.addEventListener(e,n,!1)}),function(){e.forEach(function(e){t.removeEventListener(e,n)})}}}},e.prototype.registerElementHandler=function(e,t){this.elementHandlerLookup[e.toLowerCase()]=t},e.prototype.registerEventStrategy=function(e,t){this.eventStrategyLookup[e]=t},e.prototype.getElementHandler=function(e,t){var n=void 0,r=this.elementHandlerLookup;if(e.tagName){if(n=e.tagName.toLowerCase(),r[n]&&r[n][t])return r[n][t];if("textContent"===t||"innerHTML"===t)return r["content editable"].value;if("scrollTop"===t||"scrollLeft"===t)return r["scrollable element"][t]}return null},e.prototype.addEventListener=function(e,t,n,r){return(this.eventStrategyLookup[t]||this.defaultEventStrategy).subscribe(e,t,n,r)},e}(),zn=e.DirtyChecker=function(){function e(){this.tracked=[],this.checkDelay=120}return e.prototype.addProperty=function(e){var t=this.tracked;t.push(e),1===t.length&&this.scheduleDirtyCheck()},e.prototype.removeProperty=function(e){var t=this.tracked;t.splice(t.indexOf(e),1)},e.prototype.scheduleDirtyCheck=function(){var e=this;setTimeout(function(){return e.check()},this.checkDelay)},e.prototype.check=function(){for(var e=this.tracked,t=e.length;t--;){var n=e[t];n.isDirty()&&n.call()}e.length&&this.scheduleDirtyCheck()},e}(),Un=e.DirtyCheckProperty=(ye=k(),ye(be=function(){function e(e,t,n){this.dirtyChecker=e,this.obj=t,this.propertyName=n}return e.prototype.getValue=function(){return this.obj[this.propertyName]},e.prototype.setValue=function(e){this.obj[this.propertyName]=e},e.prototype.call=function(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},e.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},e}())||be),Wn=Pe.getLogger("property-observation"),Yn=e.propertyAccessor={getValue:function(e,t){return e[t]},setValue:function(e,t,n){t[n]=e}},$n=e.PrimitiveObserver=function(){function e(e,t){this.doNotCache=!0,this.primitive=e,this.propertyName=t}return e.prototype.getValue=function(){return this.primitive[this.propertyName]},e.prototype.setValue=function(){var e=Ie(this.primitive);throw new Error("The "+this.propertyName+" property of a "+e+" ("+this.primitive+") cannot be assigned.")},e.prototype.subscribe=function(){},e.prototype.unsubscribe=function(){},e}(),Gn=e.SetterObserver=(we=k(),we(_e=function(){function e(e,t,n){this.taskQueue=e,this.obj=t,this.propertyName=n,this.queued=!1,this.observing=!1}return e.prototype.getValue=function(){return this.obj[this.propertyName]},e.prototype.setValue=function(e){this.obj[this.propertyName]=e},e.prototype.getterValue=function(){return this.currentValue},e.prototype.setterValue=function(e){var t=this.currentValue;t!==e&&(this.queued||(this.oldValue=t,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=e)},e.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.queued=!1,this.callSubscribers(t,e)},e.prototype.subscribe=function(e,t){this.observing||this.convertProperty(),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Wn.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},e}())||_e),Kn=e.XLinkAttributeObserver=function(){function e(e,t,n){this.element=e,this.propertyName=t,this.attributeName=n}return e.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},e.prototype.setValue=function(e){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,e)},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),Qn=e.dataAttributeAccessor={getValue:function(e,t){return e.getAttribute(t)},setValue:function(e,t,n){return t.setAttribute(n,e)}},Xn=e.DataAttributeObserver=function(){function e(e,t){this.element=e,this.propertyName=t}return e.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},e.prototype.setValue=function(e){return this.element.setAttribute(this.propertyName,e)},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),Jn=e.StyleObserver=function(){function e(e,t){this.element=e,this.propertyName=t,this.styles=null,this.version=0}return e.prototype.getValue=function(){return this.element.style.cssText},e.prototype._setProperty=function(e,t){var n="";null!==t&&void 0!==t&&"function"==typeof t.indexOf&&t.indexOf("!important")!==-1&&(n="important",t=t.replace("!important","")),this.element.style.setProperty(e,t,n)},e.prototype.setValue=function(e){var t=this.styles||{},n=void 0,r=this.version;if(null!==e&&void 0!==e)if(e instanceof Object)for(n in e)e.hasOwnProperty(n)&&(t[n]=r,this._setProperty(n,e[n]));else if(e.length)for(var i=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,o=void 0;null!==(o=i.exec(e));)n=o[1],n&&(t[n]=r,this._setProperty(n,o[2]));if(this.styles=t,this.version+=1,0!==r){r-=1;for(n in t)t.hasOwnProperty(n)&&t[n]===r&&this.element.style.removeProperty(n)}},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},e}(),Zn=e.ValueAttributeObserver=(xe=k(),xe(Se=function(){function e(e,t,n){this.element=e,this.propertyName=t,this.handler=n,"files"===t&&(this.setValue=function(){})}return e.prototype.getValue=function(){return this.element[this.propertyName]},e.prototype.setValue=function(e){e=void 0===e||null===e?"":e,this.element[this.propertyName]!==e&&(this.element[this.propertyName]=e,this.notify())},e.prototype.notify=function(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e}())||Se),er="CheckedObserver:array",tr="CheckedObserver:value",nr=e.CheckedObserver=(ke=k(),ke(Ce=function(){function e(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.value!==e&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(er,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe(er,this)),this.oldValue=this.value,this.value=e,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},e.prototype.call=function(e,t){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(tr,this))},e.prototype.synchronizeElement=function(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r="radio"===t.type,i=t.matcher||function(e,t){return e===t};t.checked=r&&!!i(e,n)||!r&&e===!0||!r&&Array.isArray(e)&&e.findIndex(function(e){return!!i(e,n)})!==-1},e.prototype.synchronizeValue=function(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r=void 0,i=t.matcher||function(e,t){return e===t};if("checkbox"===t.type){if(Array.isArray(e))return r=e.findIndex(function(e){return!!i(e,n)}),void(t.checked&&r===-1?e.push(n):t.checked||r===-1||e.splice(r,1));e=t.checked}else{if(!t.checked)return;e=n}this.oldValue=this.value,this.value=e,this.notify()},e.prototype.notify=function(){var e=this.oldValue,t=this.value;this.callSubscribers(t,e)},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe(er,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(tr,this)},e}())||Ce),rr="SelectValueObserver:array",ir=e.SelectValueObserver=(Ee=k(),Ee(Te=function(){function e(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){if(null!==e&&void 0!==e&&this.element.multiple&&!Array.isArray(e))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==e&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(rr,this),this.arrayObserver=null),Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe(rr,this)),this.oldValue=this.value,this.value=e,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},e.prototype.call=function(e,t){this.synchronizeOptions()},e.prototype.synchronizeOptions=function(){var e=this.value,t=void 0,n=void 0;null===e||void 0===e?t=!0:Array.isArray(e)&&(n=!0);for(var r=this.element.options,i=r.length,o=this.element.matcher||function(e,t){return e===t},s=function(){var s=r.item(i);if(t)return s.selected=!1,"continue";var a=s.hasOwnProperty("model")?s.model:s.value;return n?(s.selected=e.findIndex(function(e){return!!o(a,e)})!==-1,"continue"):void(s.selected=!!o(a,e))};i--;){s()}},e.prototype.synchronizeValue=function(){for(var e=this,t=this.element.options,n=0,r=[],i=0,o=t.length;i<o;i++){var s=t.item(i);s.selected&&(r.push(s.hasOwnProperty("model")?s.model:s.value),n++)}if(this.element.multiple){if(Array.isArray(this.value)){var a=function(){for(var t=e.element.matcher||function(e,t){return e===t},n=0,i=function(){var i=e.value[n];r.findIndex(function(e){return t(i,e)})===-1?e.value.splice(n,1):n++};n<e.value.length;)i();n=0;for(var o=function(){var i=r[n];e.value.findIndex(function(e){return t(i,e)})===-1&&e.value.push(i),n++};n<r.length;)o();return{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":Ie(a)))return a.v}}else r=0===n?null:r[0];r!==this.value&&(this.oldValue=this.value,this.value=r,this.notify())},e.prototype.notify=function(){var e=this.oldValue,t=this.value;this.callSubscribers(t,e)},e.prototype.subscribe=function(e,t){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},e.prototype.bind=function(){var e=this;this.domObserver=n.DOM.createMutationObserver(function(){e.synchronizeOptions(),e.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},e.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(rr,this),this.arrayObserver=null)},e}())||Te),or=e.ClassObserver=function(){function e(e){this.element=e,this.doNotCache=!0,this.value="",this.version=0}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){var t=this.nameIndex||{},n=this.version,r=void 0,i=void 0;if(null!==e&&void 0!==e&&e.length){r=e.split(/\s+/);for(var o=0,s=r.length;o<s;o++)i=r[o],""!==i&&(t[i]=n,this.element.classList.add(i))}if(this.value=e,this.nameIndex=t,this.version+=1,0!==n){n-=1;for(i in t)t.hasOwnProperty(i)&&t[i]===n&&this.element.classList.remove(i)}},e.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},e}(),sr=e.ComputedExpression=function(e){function t(t,n){var r=s(this,e.call(this));return r.name=t,r.dependencies=n,r.isAssignable=!0,r}return a(t,e),t.prototype.evaluate=function(e,t){return e.bindingContext[this.name]},t.prototype.assign=function(e,t){e.bindingContext[this.name]=t},t.prototype.accept=function(e){throw new Error("not implemented")},t.prototype.connect=function(e,t){for(var n=this.dependencies,r=n.length;r--;)n[r].connect(e,t)},t}(ft),ar=e.elements={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],
clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},ur=e.presentationElements={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},cr=e.presentationAttributes={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0},lr=e.SVGAnalyzer=function(){function e(){"altglyph"===oe("<svg><altGlyph /></svg>").firstElementChild.nodeName&&ar.altGlyph&&(ar.altglyph=ar.altGlyph,delete ar.altGlyph,ar.altglyphdef=ar.altGlyphDef,delete ar.altGlyphDef,ar.altglyphitem=ar.altGlyphItem,delete ar.altGlyphItem,ar.glyphref=ar.glyphRef,delete ar.glyphRef)}return e.prototype.isStandardSvgAttribute=function(e,t){return ur[e]&&cr[t]||ar[e]&&ar[e].indexOf(t)!==-1},e}(),dr=e.ObserverLocator=(Ae=Oe=function(){function e(e,t,n,r,i){this.taskQueue=e,this.eventManager=t,this.dirtyChecker=n,this.svgAnalyzer=r,this.parser=i,this.adapters=[],this.logger=Pe.getLogger("observer-locator")}return e.prototype.getObserver=function(e,t){var n=e.__observers__,r=void 0;return n&&t in n?n[t]:(r=this.createPropertyObserver(e,t),r.doNotCache||(void 0===n&&(n=this.getOrCreateObserversLookup(e)),n[t]=r),r)},e.prototype.getOrCreateObserversLookup=function(e){return e.__observers__||this.createObserversLookup(e)},e.prototype.createObserversLookup=function(e){var t={};return Reflect.defineProperty(e,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:t})||this.logger.warn("Cannot add observers to object",e),t},e.prototype.addAdapter=function(e){this.adapters.push(e)},e.prototype.getAdapterObserver=function(e,t,n){for(var r=0,i=this.adapters.length;r<i;r++){var o=this.adapters[r],s=o.getObserver(e,t,n);if(s)return s}return null},e.prototype.createPropertyObserver=function(e,t){var r=void 0,i=void 0,o=void 0;if(!(e instanceof Object))return new $n(e,t);if(e instanceof n.DOM.Element){if("class"===t)return new or(e);if("style"===t||"css"===t)return new Jn(e,t);if(i=this.eventManager.getElementHandler(e,t),"value"===t&&"select"===e.tagName.toLowerCase())return new ir(e,i,this);if("checked"===t&&"input"===e.tagName.toLowerCase())return new nr(e,i,this);if(i)return new Zn(e,t,i);if(o=/^xlink:(.+)$/.exec(t))return new Kn(e,t,o[1]);if("role"===t&&(e instanceof n.DOM.Element||e instanceof n.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(t)||e instanceof n.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return new Xn(e,t)}if(r=Object.getPropertyDescriptor(e,t),te(r))return ie(e,t,r,this);if(r){var s=r.get||r.set;if(s){if(s.getObserver)return s.getObserver(e);var a=this.getAdapterObserver(e,t,r);return a?a:new Un(this.dirtyChecker,e,t)}}return e instanceof Array?"length"===t?this.getArrayObserver(e).getLengthObserver():new Un(this.dirtyChecker,e,t):e instanceof Map?"size"===t?this.getMapObserver(e).getLengthObserver():new Un(this.dirtyChecker,e,t):e instanceof Set?"size"===t?this.getSetObserver(e).getLengthObserver():new Un(this.dirtyChecker,e,t):new Gn(this.taskQueue,e,t)},e.prototype.getAccessor=function(e,t){if(e instanceof n.DOM.Element){if("class"===t||"style"===t||"css"===t||"value"===t&&("input"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase())||"checked"===t&&"input"===e.tagName.toLowerCase()||"model"===t&&"input"===e.tagName.toLowerCase()||/^xlink:.+$/.exec(t))return this.getObserver(e,t);if(/^\w+:|^data-|^aria-/.test(t)||e instanceof n.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return Qn}return Yn},e.prototype.getArrayObserver=function(e){return L(this.taskQueue,e)},e.prototype.getMapObserver=function(e){return X(this.taskQueue,e)},e.prototype.getSetObserver=function(e){return ce(this.taskQueue,e)},e}(),Oe.inject=[r.TaskQueue,Vn,zn,lr,Ln],Ae),fr=(e.ObjectObservationAdapter=function(){function e(){}return e.prototype.getObserver=function(e,t,n){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},e}(),e.BindingExpression=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.attribute=o,this.discrete=!1}return e.prototype.createBinding=function(e){return new pr(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.mode,this.lookupFunctions)},e}()),hr="Binding:target",pr=e.Binding=(De=g(),De(Re=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.sourceExpression=t,this.target=n,this.targetProperty=r,this.mode=i,this.lookupFunctions=o}return e.prototype.updateTarget=function(e){this.targetObserver.setValue(e,this.target,this.targetProperty)},e.prototype.updateSource=function(e){this.sourceExpression.assign(this.source,e,this.lookupFunctions)},e.prototype.call=function(e,t,n){if(this.isBound){if(e===Ne)return n=this.targetObserver.getValue(this.target,this.targetProperty),t=this.sourceExpression.evaluate(this.source,this.lookupFunctions),t!==n&&this.updateTarget(t),void(this.mode!==Mt.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(e===hr)return void(t!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(t));throw new Error("Unexpected call context "+e)}},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions);var t=this.mode;if(!this.targetObserver){var n=t===Mt.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[n](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();var r=this.sourceExpression.evaluate(e,this.lookupFunctions);this.updateTarget(r),t===Mt.oneWay?y(this):t===Mt.twoWay&&(this.sourceExpression.connect(this,e),this.targetObserver.subscribe(hr,this))},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(hr,this),this.unobserve(!0))},e.prototype.connect=function(e){if(this.isBound){if(e){var t=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(t)}this.sourceExpression.connect(this,this.source)}},e}())||Re),vr=(e.CallExpression=function(){function e(e,t,n,r){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.lookupFunctions=r}return e.prototype.createBinding=function(e){return new vr(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.lookupFunctions)},e}(),e.Call=function(){function e(e,t,n,r,i){this.sourceExpression=t,this.target=n,this.targetProperty=e.getObserver(n,r),this.lookupFunctions=i}return e.prototype.callSource=function(e){var t=this.source.overrideContext;Object.assign(t,e),t.$event=e;var n=!0,r=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);delete t.$event;for(var i in e)delete t[i];return r},e.prototype.bind=function(e){var t=this;if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.targetProperty.setValue(function(e){return t.callSource(e)})},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},e}()),gr=e.ValueConverterResource=function(){function e(e){this.name=e}return e.convention=function(t){if(t.endsWith("ValueConverter"))return new e(u(t.substring(0,t.length-14)))},e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerValueConverter(t||this.name,this.instance)},e.prototype.load=function(e,t){},e}(),mr=e.BindingBehaviorResource=function(){function e(e){this.name=e}return e.convention=function(t){if(t.endsWith("BindingBehavior"))return new e(u(t.substring(0,t.length-15)))},e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerBindingBehavior(t||this.name,this.instance)},e.prototype.load=function(e,t){},e}(),yr=(e.ListenerExpression=function(){function e(e,t,n,r,i,o){this.eventManager=e,this.targetEvent=t,this.sourceExpression=n,this.delegate=r,this.discrete=!0,this.preventDefault=i,this.lookupFunctions=o}return e.prototype.createBinding=function(e){return new yr(this.eventManager,this.targetEvent,this.delegate,this.sourceExpression,e,this.preventDefault,this.lookupFunctions)},e}(),e.Listener=function(){function e(e,t,n,r,i,o,s){this.eventManager=e,this.targetEvent=t,this.delegate=n,this.sourceExpression=r,this.target=i,this.preventDefault=o,this.lookupFunctions=s}return e.prototype.callSource=function(e){var t=this.source.overrideContext;t.$event=e;var n=!0,r=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);return delete t.$event,r!==!0&&this.preventDefault&&e.preventDefault(),r},e.prototype.bind=function(e){var t=this;if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,function(e){return t.callSource(e)},this.delegate)},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},e}()),br=(e.NameExpression=function(){function e(e,t,n){this.sourceExpression=e,this.apiName=t,this.lookupFunctions=n,this.discrete=!0}return e.prototype.createBinding=function(t){return new br(this.sourceExpression,e.locateAPI(t,this.apiName),this.lookupFunctions)},e.locateAPI=function(e,t){switch(t){case"element":return e;case"controller":return ue(e).controller;case"view-model":return ue(e).controller.viewModel;case"view":return ue(e).controller.view;default:var n=ue(e)[t];if(void 0===n)throw new Error('Attempted to reference "'+t+"\", but it was not found amongst the target's API.");return n.viewModel}},e}(),function(){function e(e,t,n){this.sourceExpression=e,this.target=t,this.lookupFunctions=n}return e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},e.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},e}()),wr={bindingBehaviors:function(e){return null},valueConverters:function(e){return null}},_r=(e.BindingEngine=(Me=je=function(){function e(e,t){this.observerLocator=e,this.parser=t}return e.prototype.createBindingExpression=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?Mt.oneWay:arguments[2],r=arguments.length<=3||void 0===arguments[3]?wr:arguments[3];return new fr(this.observerLocator,e,this.parser.parse(t),n,r)},e.prototype.propertyObserver=function(e,t){var n=this;return{subscribe:function(r){var i=n.observerLocator.getObserver(e,t);return i.subscribe(r),{dispose:function(){return i.unsubscribe(r)}}}}},e.prototype.collectionObserver=function(e){var t=this;return{subscribe:function(n){var r=void 0;if(e instanceof Array)r=t.observerLocator.getArrayObserver(e);else if(e instanceof Map)r=t.observerLocator.getMapObserver(e);else{if(!(e instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");r=t.observerLocator.getSetObserver(e)}return r.subscribe(n),{dispose:function(){return r.unsubscribe(n)}}}}},e.prototype.expressionObserver=function(e,t){var n={bindingContext:e,overrideContext:c(e)};return new Qe(n,this.parser.parse(t),this.observerLocator,wr)},e.prototype.parseExpression=function(e){return this.parser.parse(e)},e.prototype.registerAdapter=function(e){this.observerLocator.addAdapter(e)},e}(),je.inject=[dr,Ln],Me),Set.prototype);e.getSetObserver=ce;var xr=function(e){function t(t,n){return s(this,e.call(this,t,n))}return a(t,e),t.for=function(e,n){return"__set_observer__"in n||Reflect.defineProperty(n,"__set_observer__",{value:t.create(e,n),enumerable:!1,configurable:!1}),n.__set_observer__},t.create=function(e,n){var r=new t(e,n),i=_r;return i.add===n.add&&i.delete===n.delete&&i.clear===n.clear||(i={add:n.add,delete:n.delete,clear:n.clear}),n.add=function(){var e="add",t=n.size,o=i.add.apply(n,arguments),s=n.size===t;return s||r.addChangeRecord({type:e,object:n,value:Array.from(n).pop()}),o},n.delete=function(){var e=n.has(arguments[0]),t=i.delete.apply(n,arguments);return e&&r.addChangeRecord({type:"delete",object:n,value:arguments[0]}),t},n.clear=function(){var e=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),e},r},t}(nt)}),define("aurelia-bootstrapper",["module","exports","aurelia-pal","aurelia-polyfills"],function(e,t,n){"use strict";function r(){return h.document&&"complete"!==h.document.readyState?new Promise(function(e){function t(){h.document.removeEventListener("DOMContentLoaded",t),h.removeEventListener("load",t),e()}h.document.addEventListener("DOMContentLoaded",t),h.addEventListener("load",t)}):Promise.resolve()}function i(){if(n.PLATFORM.Loader)return Promise.resolve(new n.PLATFORM.Loader);if("undefined"==typeof AURELIA_WEBPACK_2_0){if("undefined"!=typeof __webpack_require__){var t=__webpack_require__(require.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(h.System&&"function"==typeof h.System.config)return h.System.normalize("aurelia-bootstrapper").then(function(e){return h.System.normalize("aurelia-loader-default",e)}).then(function(e){return h.System.import(e).then(function(e){return new e.DefaultLoader})});if("function"==typeof h.require&&"string"==typeof h.require.version)return new Promise(function(e,t){return h.require(["aurelia-loader-default"],function(t){return e(new t.DefaultLoader)},t)});if(p&&"undefined"!=typeof e&&"undefined"!=typeof e.require){var r=e.require("aurelia-loader-nodejs");return Promise.resolve(new r.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function o(e){var t=void 0,r=p&&("renderer"===process.type||process.versions["node-webkit"]);if(p&&!r)t="nodejs";else if("undefined"!=typeof window)t="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");t="worker"}return e.loadModule("aurelia-pal-"+t).then(function(e){return"nodejs"===t&&!n.isInitialized&&e.globalize()||e.initialize()})}function s(e){var t=function(t,n){return e.normalize(t,n).then(function(n){return e.map(t,n),n})};return o(e).then(function(){return e.normalize("aurelia-bootstrapper")}).then(function(e){var r=t(n.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),e);return Promise.all([r,r.then(function(e){return t("aurelia-dependency-injection",e)}),t("aurelia-router",e),t("aurelia-logging-console",e)])}).then(function(t){var n=t[0];return e.loadModule(n)}).then(function(t){return d(function(){return new t.Aurelia(e)})})}function a(e,t,n){return n.host=e,n.configModuleId=t||null,t?n.loader.loadModule(t).then(function(e){if(!e.configure)throw new Error("Cannot initialize module '"+t+"' without a configure function.");return e.configure(n)}):(n.use.standardConfiguration().developmentLogging(),n.start().then(function(){return n.setRoot()}))}function u(){return r().then(i).then(s).then(function(){for(var e=h.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),t=0,n=e.length;t<n;++t){var r=e[t],i=r.getAttribute("aurelia-app")||r.getAttribute("data-aurelia-app");c(a.bind(null,r,i))}var o=console.error.bind(console),s=l.map(function(e){return e.catch(o)});return l=null,Promise.all(s)})}function c(e){var t=f.then(function(t){return e(t())});return l&&l.push(t),t}Object.defineProperty(t,"__esModule",{value:!0}),t.starting=void 0,t.bootstrap=c;var l=[],d=void 0,f=new Promise(function(e){return d=e}),h=n.PLATFORM.global,p="undefined"!=typeof process&&!process.browser;
t.starting=u()}),define("aurelia-dependency-injection",["exports","aurelia-metadata","aurelia-pal"],function(e,t,n){"use strict";function r(e,n){var r=e.inject;if("function"==typeof r)throw new Error("Decorator "+n+' cannot be used with "inject()".  Please use an array instead.');return r||(r=t.metadata.getOwn(t.metadata.paramTypes,e).slice(),e.inject=r),r}function i(e){return function(t,n,i){var o=r(t,"lazy");o[i]=L.of(e)}}function o(e){return function(t,n,i){var o=r(t,"all");o[i]=F.of(e)}}function s(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=function(e){return function(t,n,i){var o=r(t,"optional");o[i]=N.of(o[i],e)}};return t("boolean"==typeof e?e:!0)}function a(e,t,n){var i=r(e,"parent");i[n]=q.of(i[n])}function u(e,t){return function(n,i,o){var s=r(n,"factory"),a=H.of(e);s[o]=t?a.as(t):a}}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=function(e){return function(t,i,o){var s=r(t,"newInstance");s[o]=V.of.apply(V,[s[o]].concat(n)),e&&s[o].as(e)}};return arguments.length>=1?o(e):o()}function l(e){return function(n){t.metadata.define(t.metadata.invoker,e,n)}}function d(e){var n=function(e){t.metadata.define(t.metadata.invoker,z.instance,e)};return e?n(e):n}function f(e){return function(n){t.metadata.define(t.metadata.registration,e,n)}}function h(e){return f(new U(e))}function p(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return f(new W(e,t))}function v(e){if(null===e||void 0===e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function g(e,t,n,r){for(var i=n.length,o=new Array(i);i--;)o[i]=e.get(n[i]);return void 0!==r&&(o=o.concat(r)),Reflect.construct(t,o)}function m(e){return e.hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]}function y(e){var n=function(e){var n=e.inject,r=t.metadata.getOwn(t.metadata.paramTypes,e)||Y;if(n)for(var i=0;i<r.length;i++)if(n[i]&&n[i]!==r[i]){var o=n.indexOf(r[i]);o>-1&&n.splice(o,1),n.splice(o>-1&&o<i?i-1:i,0,r[i])}else n[i]||(n[i]=r[i]);else e.inject=r};return e?n(e):n}function b(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,r,i){if("number"==typeof i&&1===n.length){var o=e.inject;if("function"==typeof o)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return o||(o=t.metadata.getOwn(t.metadata.paramTypes,e).slice(),e.inject=o),void(o[i]=n[0])}if(i){var s=i.value;s.inject=n}else e.inject=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.Container=e.InvocationHandler=e._emptyParameters=e.SingletonRegistration=e.TransientRegistration=e.FactoryInvoker=e.NewInstance=e.Factory=e.StrategyResolver=e.Parent=e.Optional=e.All=e.Lazy=e.resolver=void 0,e.getDecoratorDependencies=r,e.lazy=i,e.all=o,e.optional=s,e.parent=a,e.factory=u,e.newInstance=c,e.invoker=l,e.invokeAsFactory=d,e.registration=f,e.transient=h,e.singleton=p,e.autoinject=y,e.inject=b;var w,_,x,S,k,C,E,T,O,A,D,R,j,M,P,I=e.resolver=t.protocol.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}),L=e.Lazy=(w=I(),w(_=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},e.of=function(t){return new e(t)},e}())||_),F=e.All=(x=I(),x(S=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.getAll(this._key)},e.of=function(t){return new e(t)},e}())||S),N=e.Optional=(k=I(),k(C=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=e,this._checkParent=t}return e.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},e.of=function(t){var n=arguments.length<=1||void 0===arguments[1]||arguments[1];return new e(t,n)},e}())||C),q=e.Parent=(E=I(),E(T=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},e.of=function(t){return new e(t)},e}())||T),B=e.StrategyResolver=(O=I(),O(A=function(){function e(e,t){this.strategy=e,this.state=t}return e.prototype.get=function(e,t){switch(this.strategy){case 0:return this.state;case 1:var n=e.invoke(this.state);return this.state=n,this.strategy=0,n;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},e}())||A),H=e.Factory=(D=I(),D(R=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.invoke(t._key,r)}},e.of=function(t){return new e(t)},e}())||R),V=e.NewInstance=(j=I(),j(M=function(){function e(e){this.key=e,this.asKey=e;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.dynamicDependencies=n}return e.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)}):void 0,n=e.invoke(this.key,t);return e.registerInstance(this.asKey,n),n},e.prototype.as=function(e){return this.asKey=e,this},e.of=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new(Function.prototype.bind.apply(e,[null].concat([t],r)))},e}())||M),z=e.FactoryInvoker=function(){function e(){}return e.prototype.invoke=function(e,t,n){for(var r=n.length,i=new Array(r);r--;)i[r]=e.get(n[r]);return t.apply(void 0,i)},e.prototype.invokeWithDynamicDependencies=function(e,t,n,r){for(var i=n.length,o=new Array(i);i--;)o[i]=e.get(n[i]);return void 0!==r&&(o=o.concat(r)),t.apply(void 0,o)},e}();z.instance=new z;var U=e.TransientRegistration=function(){function e(e){this._key=e}return e.prototype.registerResolver=function(e,t,n){return e.registerTransient(this._key||t,n)},e}(),W=e.SingletonRegistration=function(){function e(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return e.prototype.registerResolver=function(e,t,n){return this._registerInChild?e.registerSingleton(this._key||t,n):e.root.registerSingleton(this._key||t,n)},e}(),Y=e._emptyParameters=Object.freeze([]);t.metadata.registration="aurelia:registration",t.metadata.invoker="aurelia:invoker";var $=I.decorates,G=e.InvocationHandler=function(){function e(e,t,n){this.fn=e,this.invoker=t,this.dependencies=n}return e.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},e}(),K=(P={},P[0]={invoke:function(e,t){return new t},invokeWithDynamicDependencies:g},P[1]={invoke:function(e,t,n){return new t(e.get(n[0]))},invokeWithDynamicDependencies:g},P[2]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]))},invokeWithDynamicDependencies:g},P[3]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]))},invokeWithDynamicDependencies:g},P[4]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]))},invokeWithDynamicDependencies:g},P[5]={invoke:function(e,t,n){return new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]),e.get(n[4]))},invokeWithDynamicDependencies:g},P.fallback={invoke:g,invokeWithDynamicDependencies:g},P);e.Container=function(){function e(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return e.prototype.makeGlobal=function(){return e.instance=this,this},e.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},e.prototype.registerInstance=function(e,t){return this.registerResolver(e,new B(0,void 0===t?e:t))},e.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new B(1,void 0===t?e:t))},e.prototype.registerTransient=function(e,t){return this.registerResolver(e,new B(2,void 0===t?e:t))},e.prototype.registerHandler=function(e,t){return this.registerResolver(e,new B(3,t))},e.prototype.registerAlias=function(e,t){return this.registerResolver(t,new B(5,e))},e.prototype.registerResolver=function(e,t){v(e);var n=this._resolvers,r=n.get(e);return void 0===r?n.set(e,t):4===r.strategy?r.state.push(t):n.set(e,new B(4,[r,t])),t},e.prototype.autoRegister=function(e,n){if(n=void 0===n?e:n,"function"==typeof n){var r=t.metadata.get(t.metadata.registration,n);return void 0===r?this.registerResolver(e,new B(1,n)):r.registerResolver(this,e,n)}return this.registerResolver(e,new B(0,n))},e.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},e.prototype.unregister=function(e){this._resolvers.delete(e)},e.prototype.hasResolver=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return v(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},e.prototype.get=function(t){if(v(t),t===e)return this;if($(t))return t.get(this,t);var n=this._resolvers.get(t);return void 0===n?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):n.get(this,t)},e.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},e.prototype.getAll=function(e){v(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?Y:this.parent.getAll(e);if(4===t.strategy){for(var n=t.state,r=n.length,i=new Array(r);r--;)i[r]=n[r].get(this,e);return i}return[t.get(this,e)]},e.prototype.createChild=function(){var t=new e(this._configuration);return t.root=this.root,t.parent=this,t},e.prototype.invoke=function(e,t){try{var r=this._handlers.get(e);return void 0===r&&(r=this._createInvocationHandler(e),this._handlers.set(e,r)),r.invoke(this,t)}catch(t){throw new n.AggregateError("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},e.prototype._createInvocationHandler=function(e){var n=void 0;if(void 0===e.inject)n=t.metadata.getOwn(t.metadata.paramTypes,e)||Y;else{n=[];for(var r=e;"function"==typeof r;){var i;(i=n).push.apply(i,m(r)),r=Object.getPrototypeOf(r)}}var o=t.metadata.getOwn(t.metadata.invoker,e)||K[n.length]||K.fallback,s=new G(e,o,n);return void 0!==this._onHandlerCreated?this._onHandlerCreated(s):s},e}()}),define("aurelia-dialog/aurelia-dialog",["exports","./ai-dialog","./ai-dialog-header","./ai-dialog-body","./ai-dialog-footer","./attach-focus","./dialog-configuration","./dialog-service","./dialog-controller","./dialog-result"],function(e,t,n,r,i,o,s,a,u,c){"use strict";function l(e,t){var n=new s.DialogConfiguration(e);"function"==typeof t?t(n):n.useDefaults(),n._apply()}Object.defineProperty(e,"__esModule",{value:!0}),e.DialogResult=e.DialogController=e.DialogService=e.DialogConfiguration=e.AttachFocus=e.AiDialogFooter=e.AiDialogBody=e.AiDialogHeader=e.AiDialog=void 0,Object.defineProperty(e,"AiDialog",{enumerable:!0,get:function(){return t.AiDialog}}),Object.defineProperty(e,"AiDialogHeader",{enumerable:!0,get:function(){return n.AiDialogHeader}}),Object.defineProperty(e,"AiDialogBody",{enumerable:!0,get:function(){return r.AiDialogBody}}),Object.defineProperty(e,"AiDialogFooter",{enumerable:!0,get:function(){return i.AiDialogFooter}}),Object.defineProperty(e,"AttachFocus",{enumerable:!0,get:function(){return o.AttachFocus}}),e.configure=l,Object.defineProperty(e,"DialogConfiguration",{enumerable:!0,get:function(){return s.DialogConfiguration}}),Object.defineProperty(e,"DialogService",{enumerable:!0,get:function(){return a.DialogService}}),Object.defineProperty(e,"DialogController",{enumerable:!0,get:function(){return u.DialogController}}),Object.defineProperty(e,"DialogResult",{enumerable:!0,get:function(){return c.DialogResult}})}),define("aurelia-dialog",["aurelia-dialog/aurelia-dialog"],function(e){return e}),define("aurelia-event-aggregator",["exports","aurelia-logging"],function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){var t=new u;return e.subscribeOnce=function(e,n){return t.subscribeOnce(e,n)},e.subscribe=function(e,n){return t.subscribe(e,n)},e.publish=function(e,n){t.publish(e,n)},t}function i(e){e.instance(u,r(e.aurelia))}Object.defineProperty(e,"__esModule",{value:!0}),e.EventAggregator=void 0,e.includeEventsIn=r,e.configure=i;var o=n(t),s=o.getLogger("event-aggregator"),a=function(){function e(e,t){this.messageType=e,this.callback=t}return e.prototype.handle=function(e){e instanceof this.messageType&&this.callback.call(null,e)},e}(),u=e.EventAggregator=function(){function e(){this.eventLookup={},this.messageHandlers=[]}return e.prototype.publish=function(e,t){var n=void 0,r=void 0;if(!e)throw new Error("Event was invalid.");if("string"==typeof e){if(n=this.eventLookup[e]){n=n.slice(),r=n.length;try{for(;r--;)n[r](t,e)}catch(e){s.error(e)}}}else{n=this.messageHandlers.slice(),r=n.length;try{for(;r--;)n[r].handle(e)}catch(e){s.error(e)}}},e.prototype.subscribe=function(e,t){var n=void 0,r=void 0;if(!e)throw new Error("Event channel/type was invalid.");return"string"==typeof e?(n=t,r=this.eventLookup[e]||(this.eventLookup[e]=[])):(n=new a(e,t),r=this.messageHandlers),r.push(n),{dispose:function(){var e=r.indexOf(n);e!==-1&&r.splice(e,1)}}},e.prototype.subscribeOnce=function(e,t){var n=this.subscribe(e,function(e,r){return n.dispose(),t(e,r)});return n},e}()}),define("aurelia-fetch-client",["exports"],function(e){"use strict";function t(e){return new Blob([JSON.stringify(e)],{type:"application/json"})}function n(e){if(!e.ok)throw e;return e}function r(){this.isRequesting=!!++this.activeRequestCount}function i(){this.isRequesting=!!--this.activeRequestCount}function o(e){var t=i.bind(this);return e.then(t,t),e}function s(e){var t={};for(var n in e||{})e.hasOwnProperty(n)&&(t[n]="function"==typeof e[n]?e[n]():e[n]);return t}function a(e,t){var n=this.defaults||{},r=void 0,i=void 0,o=void 0,a=s(n.headers);if(Request.prototype.isPrototypeOf(e))r=e,o=new Headers(r.headers).get("Content-Type");else{t||(t={}),i=t.body;var l=i?{body:i}:null,d=Object.assign({},n,{headers:{}},t,l);o=new Headers(d.headers).get("Content-Type"),r=new Request(u(this.baseUrl,e),d)}return!o&&new Headers(a).has("content-type")&&r.headers.set("Content-Type",new Headers(a).get("content-type")),c(r.headers,a),i&&Blob.prototype.isPrototypeOf(i)&&i.type&&r.headers.set("Content-Type",i.type),r}function u(e,t){return m.test(t)?t:(e||"")+t}function c(e,t){for(var n in t||{})t.hasOwnProperty(n)&&!e.has(n)&&e.set(n,t[n])}function l(e,t){return f(e,t,"request","requestError")}function d(e,t,n){return f(e,t,"response","responseError",n)}function f(e,t,n,r){for(var i=arguments.length,o=Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];return(t||[]).reduce(function(e,t){var i=t[n],s=t[r];return e.then(i&&function(e){return i.call.apply(i,[t,e].concat(o))}||h,s&&function(e){return s.call.apply(s,[t,e].concat(o))}||p)},Promise.resolve(e))}function h(e){return e}function p(e){throw e}Object.defineProperty(e,"__esModule",{value:!0}),e.json=t;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},g=e.HttpClientConfiguration=function(){function e(){this.baseUrl="",this.defaults={},this.interceptors=[]}return e.prototype.withBaseUrl=function(e){return this.baseUrl=e,this},e.prototype.withDefaults=function(e){return this.defaults=e,this},e.prototype.withInterceptor=function(e){return this.interceptors.push(e),this},e.prototype.useStandardConfiguration=function(){var e={credentials:"same-origin"};return Object.assign(this.defaults,e,this.defaults),this.rejectErrorResponses()},e.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:n})},e}(),m=(e.HttpClient=function(){function e(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return e.prototype.configure=function(e){var t=void 0;if("object"===("undefined"==typeof e?"undefined":v(e)))t={defaults:e};else{if("function"!=typeof e)throw new Error("invalid config");t=new g,t.baseUrl=this.baseUrl,t.defaults=Object.assign({},this.defaults),t.interceptors=this.interceptors;var n=e(t);g.prototype.isPrototypeOf(n)&&(t=n)}var r=t.defaults;if(r&&Headers.prototype.isPrototypeOf(r.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=t.baseUrl,this.defaults=r,this.interceptors=t.interceptors||[],this.isConfigured=!0,this},e.prototype.fetch=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this;r.call(this);var i=Promise.resolve().then(function(){return a.call(n,e,t,n.defaults)}),s=l(i,this.interceptors).then(function(e){var t=null;if(Response.prototype.isPrototypeOf(e))t=e;else{if(!Request.prototype.isPrototypeOf(e))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]");i=Promise.resolve(e),t=fetch(e)}return i.then(function(e){return d(t,n.interceptors,e)})});return o.call(this,s)}),e}(),/^([a-z][a-z0-9+\-.]*:)?\/\//i)}),define("aurelia-framework",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-metadata","aurelia-templating","aurelia-loader","aurelia-task-queue","aurelia-path","aurelia-pal","aurelia-logging"],function(e,t,n,r,i,o,s,a,u,c){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(){u.DOM.addEventListener("submit",function(e){var t=e.target,n=t.action;"form"!==t.tagName.toLowerCase()||n||e.preventDefault()})}function f(e,t){var n=void 0,r=function r(){return n=t.shift(),n?Promise.resolve(n(e)).then(r):Promise.resolve()};return r()}function h(e,t,n){function r(r){return t.loadModule(r).then(function(t){return"configure"in t?Promise.resolve(t.configure(e,n.config||{})).then(function(){e.resourcesRelativeTo=null,y.debug("Configured plugin "+n.moduleId+".")}):(e.resourcesRelativeTo=null,void y.debug("Loaded plugin "+n.moduleId+"."))})}y.debug("Loading plugin "+n.moduleId+"."),e.resourcesRelativeTo=n.resourcesRelativeTo;var i=n.moduleId;return n.resourcesRelativeTo.length>1?t.normalize(n.moduleId,n.resourcesRelativeTo[1]).then(function(e){return r(e)}):r(i)}function p(e,t,n){function r(t){var n=t.moduleId,r=v(n);return o(n)&&(n=s(n)),e.loader.normalize(n,t.relativeTo).then(function(e){return{name:t.moduleId,importId:o(t.moduleId)?a(e,r):e}})}function o(e){var t=v(e);return!!t&&(""!==t&&(".js"!==t&&".ts"!==t))}function s(e){return e.replace(b,"")}function a(e,t){return s(e)+"."+t}var u=e.container.get(i.ViewEngine);return Promise.all(Object.keys(t).map(function(e){return r(t[e])})).then(function(e){var t=[],r=[];return e.forEach(function(e){t.push(void 0),r.push(e.importId)}),u.importViewResources(r,t,n)})}function v(e){var t=e.match(b);if(t&&t.length>0)return t[0].split(".")[1]}function g(e){if(e.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}Object.defineProperty(e,"__esModule",{value:!0}),e.LogManager=e.FrameworkConfiguration=e.Aurelia=void 0,Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var m=l(c),y=(e.Aurelia=function(){function e(n,r,s){this.loader=n||new u.PLATFORM.Loader,this.container=r||(new t.Container).makeGlobal(),this.resources=s||new i.ViewResources,this.use=new w(this),this.logger=m.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(e,this),this.use.instance(o.Loader,this.loader),this.use.instance(i.ViewResources,this.resources)}return e.prototype.start=function(){var e=this;return this.started?Promise.resolve(this):(this.started=!0,this.logger.info("Aurelia Starting"),this.use.apply().then(function(){if(d(),!e.container.hasResolver(i.BindingLanguage)){var t="You must configure Aurelia with a BindingLanguage implementation.";throw e.logger.error(t),new Error(t)}e.logger.info("Aurelia Started");var n=u.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return u.DOM.dispatchEvent(n),e}))},e.prototype.enhance=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(n||u.DOM.querySelectorAll("body")[0]),new Promise(function(n){var r=e.container.get(i.TemplatingEngine);e.root=r.enhance({container:e.container,element:e.host,resources:e.resources,bindingContext:t}),e.root.attached(),e._onAureliaComposed(),n(e)})},e.prototype.setRoot=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(n);var o=this.container.get(i.TemplatingEngine),s=this.container.get(i.CompositionTransaction);return delete s.initialComposition,t||(t=this.configModuleId?(0,a.relativeToFile)("./app",this.configModuleId):"app"),r.viewModel=t,r.container=r.childContainer=this.container,r.viewSlot=this.hostSlot,r.host=this.host,o.compose(r).then(function(t){return e.root=t,r.viewSlot.attached(),e._onAureliaComposed(),e})},e.prototype._configureHost=function(e){if(!this.hostConfigured){if(e=e||this.host,e&&"string"!=typeof e?this.host=e:this.host=u.DOM.getElementById(e||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new i.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(u.DOM.boundary,this.host)}},e.prototype._onAureliaComposed=function(){var e=u.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return u.DOM.dispatchEvent(e)},1)},e}(),m.getLogger("aurelia")),b=/\.[^\/.]+$/,w=function(){function e(e){var t=this;this.aurelia=e,this.container=e.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return e.loader.normalize("aurelia-bootstrapper").then(function(e){return t.bootstrapperName=e})}),this.postTask(function(){return p(e,t.resourcesToLoad,e.resources)})}return e.prototype.instance=function(e,t){return this.container.registerInstance(e,t),this},e.prototype.singleton=function(e,t){return this.container.registerSingleton(e,t),this},e.prototype.transient=function(e,t){return this.container.registerTransient(e,t),this},e.prototype.preTask=function(e){return g(this),this.preTasks.push(e),this},e.prototype.postTask=function(e){return g(this),this.postTasks.push(e),this},e.prototype.feature=function(e,t){return v(e)?this.plugin({moduleId:e,resourcesRelativeTo:[e,""],config:t||{}}):this.plugin({moduleId:e+"/index",resourcesRelativeTo:[e,""],config:t||{}})},e.prototype.globalResources=function(e){g(this);for(var t=Array.isArray(e)?e:arguments,n=void 0,r=this.resourcesRelativeTo||["",""],i=0,o=t.length;i<o;++i){if(n=t[i],"string"!=typeof n)throw new Error("Invalid resource path ["+n+"]. Resources must be specified as relative module IDs.");var s=r[0],u=r[1],c=n;(n.startsWith("./")||n.startsWith("../"))&&""!==s&&(c=(0,a.join)(s,n)),this.resourcesToLoad[c]={moduleId:c,relativeTo:u}}return this},e.prototype.globalName=function(e,t){return g(this),this.resourcesToLoad[e]={moduleId:t,relativeTo:""},this},e.prototype.plugin=function(e,t){return g(this),"string"==typeof e?this.plugin({moduleId:e,resourcesRelativeTo:[e,""],config:t||{}}):(this.info.push(e),this)},e.prototype._addNormalizedPlugin=function(e,t){var n=this,r={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};return this.plugin(r),this.preTask(function(){var t=[e,n.bootstrapperName];return r.moduleId=e,r.resourcesRelativeTo=t,Promise.resolve()}),this},e.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},e.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},e.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},e.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},e.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},e.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},e.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},e.prototype.developmentLogging=function(){var e=this;return this.preTask(function(){return e.aurelia.loader.normalize("aurelia-logging-console",e.bootstrapperName).then(function(t){return e.aurelia.loader.loadModule(t).then(function(e){m.addAppender(new e.ConsoleAppender),m.setLevel(m.logLevel.debug)})})}),this},e.prototype.apply=function(){var e=this;return this.processed?Promise.resolve():f(this,this.preTasks).then(function(){var t=e.aurelia.loader,n=e.info,r=void 0,i=function i(){return(r=n.shift())?h(e,t,r).then(i):(e.processed=!0,Promise.resolve())};return i().then(function(){return f(e,e.postTasks)})})},e}();e.FrameworkConfiguration=w;e.LogManager=m}),define("aurelia-history",["exports"],function(e){"use strict";function t(e){throw new Error("History must implement "+e+"().")}Object.defineProperty(e,"__esModule",{value:!0});e.History=function(){function e(){}return e.prototype.activate=function(e){t("activate")},e.prototype.deactivate=function(){t("deactivate")},e.prototype.getAbsoluteRoot=function(){t("getAbsoluteRoot")},e.prototype.navigate=function(e,n){t("navigate")},e.prototype.navigateBack=function(){t("navigateBack")},e.prototype.setTitle=function(e){t("setTitle")},e}()}),define("aurelia-history-browser",["exports","aurelia-pal","aurelia-history"],function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){e.singleton(n.History,f),e.transient(l,d)}function s(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}function a(e,t,n){return e+"//"+t+(n?":"+n:"")}Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserHistory=e.DefaultLinkHandler=e.LinkHandler=void 0,e.configure=o;var u,c,l=e.LinkHandler=function(){function e(){}return e.prototype.activate=function(e){},e.prototype.deactivate=function(){},e}(),d=e.DefaultLinkHandler=function(e){function n(){var t=r(this,e.call(this));return t.handler=function(e){var r=n.getEventInfo(e),i=r.shouldHandleEvent,o=r.href;i&&(e.preventDefault(),t.history.navigate(o))},t}return i(n,e),n.prototype.activate=function(e){e._hasPushState&&(this.history=e,t.DOM.addEventListener("click",this.handler,!0))},n.prototype.deactivate=function(){t.DOM.removeEventListener("click",this.handler)},n.getEventInfo=function(e){var t={shouldHandleEvent:!1,href:null,anchor:null},r=n.findClosestAnchor(e.target);if(!r||!n.targetIsThisWindow(r))return t;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return t;var i=r.getAttribute("href");t.anchor=r,t.href=i;var o=1===e.which,s=i&&!("#"===i.charAt(0)||/^[a-z]+:/i.test(i));return t.shouldHandleEvent=o&&s,t},n.findClosestAnchor=function(e){for(;e;){if("A"===e.tagName)return e;e=e.parentNode}},n.targetIsThisWindow=function(e){var n=e.getAttribute("target"),r=t.PLATFORM.global;return!n||n===r.name||"_self"===n||"top"===n&&r===r.top},n}(l),f=e.BrowserHistory=(c=u=function(e){function n(n){var i=r(this,e.call(this));return i._isActive=!1,i._checkUrlCallback=i._checkUrl.bind(i),i.location=t.PLATFORM.location,i.history=t.PLATFORM.history,i.linkHandler=n,i}return i(n,e),n.prototype.activate=function(e){if(this._isActive)throw new Error("History has already been activated.");var n=!!e.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,e),this.root=("/"+this.options.root+"/").replace(p,"/"),this._wantsHashChange=this.options.hashChange!==!1,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=void 0;if(this._hasPushState?r="popstate":this._wantsHashChange&&(r="hashchange"),t.PLATFORM.addEventListener(r,this._checkUrlCallback),this._wantsHashChange&&n){var i=this.location,o=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!o)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&i.hash&&(this.fragment=this._getHash().replace(h,""),this.history.replaceState({},t.DOM.title,this.root+this.fragment+i.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},n.prototype.deactivate=function(){t.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),t.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},n.prototype.getAbsoluteRoot=function(){var e=a(this.location.protocol,this.location.hostname,this.location.port);return""+e+this.root},n.prototype.navigate=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.trigger,i=void 0===r||r,o=n.replace,a=void 0!==o&&o;if(e&&g.test(e))return this.location.href=e,!0;if(!this._isActive)return!1;if(e=this._getFragment(e||""),this.fragment===e&&!a)return!1;this.fragment=e;var u=this.root+e;if(""===e&&"/"!==u&&(u=u.slice(0,-1)),this._hasPushState)u=u.replace("//","/"),this.history[a?"replaceState":"pushState"]({},t.DOM.title,u);else{if(!this._wantsHashChange)return this.location.assign(u);s(this.location,e,a)}return i?this._loadUrl(e):void 0},n.prototype.navigateBack=function(){this.history.back()},n.prototype.setTitle=function(e){t.DOM.title=e},n.prototype._getHash=function(){
return this.location.hash.substr(1)},n.prototype._getFragment=function(e,t){var n=void 0;return e||(this._hasPushState||!this._wantsHashChange||t?(e=this.location.pathname+this.location.search,n=this.root.replace(v,""),e.indexOf(n)||(e=e.substr(n.length))):e=this._getHash()),"/"+e.replace(h,"")},n.prototype._checkUrl=function(){var e=this._getFragment();e!==this.fragment&&this._loadUrl()},n.prototype._loadUrl=function(e){var t=this.fragment=this._getFragment(e);return!!this.options.routeHandler&&this.options.routeHandler(t)},n}(n.History),u.inject=[l],c),h=/^#?\/*|\s+$/g,p=/^\/+|\/+$/g,v=/\/$/,g=/^([a-z][a-z0-9+\-.]*:)?\/\//i}),define("aurelia-loader",["exports","aurelia-path","aurelia-metadata"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=e.TemplateRegistryEntry=e.TemplateDependency=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e.TemplateDependency=function(e,t){this.src=e,this.name=t},o=e.TemplateRegistryEntry=function(){function e(e){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=e,this.onReady=null,this._template=null,this._factory=null}return e.prototype.addDependency=function(e,r){var o="string"==typeof e?(0,t.relativeToFile)(e,this.address):n.Origin.get(e).moduleId;this.dependencies.push(new i(o,r))},r(e,[{key:"template",get:function(){return this._template},set:function(e){var n=this.address,r=void 0,o=void 0,s=void 0,a=void 0;this._template=e,this.templateIsLoaded=!0,r=e.content.querySelectorAll("require"),a=this.dependencies=new Array(r.length);for(var u=0,c=r.length;u<c;++u){if(o=r[u],s=o.getAttribute("from"),!s)throw new Error("<require> element in "+n+' has no "from" attribute.');a[u]=new i((0,t.relativeToFile)(s,n),o.getAttribute("as")),o.parentNode&&o.parentNode.removeChild(o)}}},{key:"factory",get:function(){return this._factory},set:function(e){this._factory=e,this.factoryIsReady=!0}}]),e}();e.Loader=function(){function e(){this.templateRegistry={}}return e.prototype.map=function(e,t){throw new Error("Loaders must implement map(id, source).")},e.prototype.normalizeSync=function(e,t){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},e.prototype.normalize=function(e,t){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},e.prototype.loadModule=function(e){throw new Error("Loaders must implement loadModule(id).")},e.prototype.loadAllModules=function(e){throw new Error("Loader must implement loadAllModules(ids).")},e.prototype.loadTemplate=function(e){throw new Error("Loader must implement loadTemplate(url).")},e.prototype.loadText=function(e){throw new Error("Loader must implement loadText(url).")},e.prototype.applyPluginToUrl=function(e,t){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},e.prototype.addPlugin=function(e,t){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},e.prototype.getOrCreateTemplateRegistryEntry=function(e){return this.templateRegistry[e]||(this.templateRegistry[e]=new o(e))},e}()}),define("aurelia-loader-default",["exports","aurelia-loader","aurelia-pal","aurelia-metadata"],function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=e,i=void 0,o=void 0;n.__useDefault&&(n=n.default),r.Origin.set(n,new r.Origin(t,"default"));for(i in n)o=n[i],"function"==typeof o&&r.Origin.set(o,new r.Origin(t,i));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLoader=e.TextTemplateLoader=void 0;var a=e.TextTemplateLoader=function(){function e(){}return e.prototype.loadTemplate=function(e,t){return e.loadText(t.address).then(function(e){t.template=n.DOM.createTemplateFromMarkup(e)})},e}(),u=e.DefaultLoader=function(e){function t(){var t=i(this,e.call(this));t.textPluginName="text",t.moduleRegistry=Object.create(null),t.useTemplateLoader(new a);var n=t;return t.addPlugin("template-registry-entry",{fetch:function(e){var t=n.getOrCreateTemplateRegistryEntry(e);return t.templateIsLoaded?t:n.templateLoader.loadTemplate(n,t).then(function(e){return t})}}),t}return o(t,e),t.prototype.useTemplateLoader=function(e){this.templateLoader=e},t.prototype.loadAllModules=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(this.loadModule(e[n]));return Promise.all(t)},t.prototype.loadTemplate=function(e){return this._import(this.applyPluginToUrl(e,"template-registry-entry"))},t.prototype.loadText=function(e){return this._import(this.applyPluginToUrl(e,this.textPluginName)).then(function(e){return"string"==typeof e?e:e.default})},t}(t.Loader);n.PLATFORM.Loader=u,n.PLATFORM.global.System&&n.PLATFORM.global.System.import?(n.PLATFORM.eachModule=function(e){var t=System._loader.modules;for(var n in t)try{if(e(n,t[n].module))return}catch(e){}},System.set("text",System.newModule({translate:function(e){return'module.exports = "'+e.source.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")+'";'}})),u.prototype._import=function(e){return System.import(e)},u.prototype.loadModule=function(e){var t=this;return System.normalize(e).then(function(e){var n=t.moduleRegistry[e];return void 0!==n?Promise.resolve(n):System.import(e).then(function(n){return t.moduleRegistry[e]=n,s(n,e)})})},u.prototype.map=function(e,t){System.map[e]=t},u.prototype.normalizeSync=function(e,t){return System.normalizeSync(e,t)},u.prototype.normalize=function(e,t){return System.normalize(e,t)},u.prototype.applyPluginToUrl=function(e,t){return e+"!"+t},u.prototype.addPlugin=function(e,t){System.set(e,System.newModule({fetch:function(e,n){var r=t.fetch(e.address);return Promise.resolve(r).then(function(t){return e.metadata.result=t,""})},instantiate:function(e){return e.metadata.result}}))}):(n.PLATFORM.global.requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._&&requirejs.s.contexts._.defined?n.PLATFORM.eachModule=function(e){var t=requirejs.s.contexts._.defined;for(var n in t)try{if(e(n,t[n]))return}catch(e){}}:n.PLATFORM.eachModule=function(e){},u.prototype._import=function(e){return new Promise(function(t,n){require([e],t,n)})},u.prototype.loadModule=function(e){var t=this,n=this.moduleRegistry[e];return void 0!==n?Promise.resolve(n):new Promise(function(n,r){require([e],function(r){t.moduleRegistry[e]=r,n(s(r,e))},r)})},u.prototype.map=function(e,t){},u.prototype.normalize=function(e,t){return Promise.resolve(e)},u.prototype.normalizeSync=function(e,t){return e},u.prototype.applyPluginToUrl=function(e,t){return t+"!"+e},u.prototype.addPlugin=function(e,t){var n=define;n(e,[],{load:function(e,n,r){var i=t.fetch(e);Promise.resolve(i).then(r)}})})}),define("aurelia-logging",["exports"],function(e){"use strict";function t(){return[this].concat(Array.prototype.slice.call(arguments))}function n(e){var n=c[e];return function(){if(!(this.level<n))for(var r=t.apply(this,arguments),i=d.length;i--;){var o;(o=d[i])[e].apply(o,r)}}}function r(){Object.assign(h.prototype,{debug:n("debug"),info:n("info"),warn:n("warn"),error:n("error")})}function i(e){return l[e]||new h(e)}function o(e){1===d.push(e)&&r()}function s(e){d=d.filter(function(t){return t!==e})}function a(e){f=e;for(var t in l)l[t].setLevel(e)}function u(){return f}Object.defineProperty(e,"__esModule",{value:!0}),e.getLogger=i,e.addAppender=o,e.removeAppender=s,e.setLevel=a,e.getLevel=u;var c=e.logLevel={none:0,error:1,warn:2,info:3,debug:4},l={},d=[],f=c.none,h=e.Logger=function(){function e(e){var t=l[e];return t?t:(l[e]=this,this.id=e,void(this.level=f))}return e.prototype.debug=function(e){},e.prototype.info=function(e){},e.prototype.warn=function(e){},e.prototype.error=function(e){},e.prototype.setLevel=function(e){this.level=e},e}()}),define("aurelia-logging-console",["exports","aurelia-logging"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleAppender=void 0;e.ConsoleAppender=function(){function e(){}return e.prototype.debug=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).debug.apply(t,["DEBUG ["+e.id+"]"].concat(r))},e.prototype.info=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).info.apply(t,["INFO ["+e.id+"]"].concat(r))},e.prototype.warn=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).warn.apply(t,["WARN ["+e.id+"]"].concat(r))},e.prototype.error=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).error.apply(t,["ERROR ["+e.id+"]"].concat(r))},e}()}),define("aurelia-metadata",["exports","aurelia-pal"],function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,n,r){var i=t.length;if(n){for(r=r||{value:e[n],writable:!0,configurable:!0,enumerable:!0};i--;)r=t[i](e,n,r)||r;Object.defineProperty(e,n,r)}else for(;i--;)e=t[i](e)||e;return e};return r.on=r,r}function r(e,t,n){function r(n,r,i){var o=n.constructor.name+"#"+r,s=t?{}:e||{},a="DEPRECATION - "+o;if("function"!=typeof i.value)throw new SyntaxError("Only methods can be marked as deprecated.");return s.message&&(a+=" - "+s.message),d({},i,{value:function(){if(s.error)throw new Error(a);return console.warn(a),i.value.apply(this,arguments)}})}return t?r(e,t,n):r}function i(e){function t(t){var r=function(t){for(var r="function"==typeof t?t.prototype:t,i=n.length;i--;){var o=n[i];Object.defineProperty(r,o,{value:e[o],writable:!0})}};return t?r(t):r}var n=Object.keys(e);return t}function o(){return!0}function s(){}function a(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=o),e.compose||(e.compose=s),e}function u(e){return function(t){var n=e(t);return n===!0}}function c(e,t){return function(n){var r=t(n);if(r!==!0)throw new Error(r||e+" was not correctly implemented.")}}function l(e,t){t=a(t);var n=function n(r){var i="function"==typeof r?r.prototype:r;t.compose(i),n.assert(i),Object.defineProperty(i,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return n.validate=u(t.validate),n.assert=c(e,t.validate),n}Object.defineProperty(e,"__esModule",{value:!0}),e.Origin=e.metadata=void 0,e.decorators=n,e.deprecated=r,e.mixin=i,e.protocol=l;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=e.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(e,t,n){if(t){var r=h.getOwn(e,t,n);return void 0===r?h.get(e,Object.getPrototypeOf(t),n):r}},getOwn:function(e,t,n){if(t)return Reflect.getOwnMetadata(e,t,n)},define:function(e,t,n,r){Reflect.defineMetadata(e,t,n,r)},getOrCreateOwn:function(e,t,n,r){var i=h.getOwn(e,n,r);return void 0===i&&(i=new t,Reflect.defineMetadata(e,i,n,r)),i}},p=new Map,v=Object.freeze({moduleId:void 0,moduleMember:void 0});e.Origin=function(){function e(e,t){this.moduleId=e,this.moduleMember=t}return e.get=function(n){var r=p.get(n);return void 0===r&&t.PLATFORM.eachModule(function(t,i){if("object"===("undefined"==typeof i?"undefined":f(i)))for(var o in i){var s=i[o];if(s===n)return p.set(n,r=new e(t,o)),!0}return i===n&&(p.set(n,r=new e(t,"default")),!0)}),r||v},e.set=function(e,t){p.set(e,t)},e}();l.create=function(e,t){t=a(t);var n="protocol:"+e,r=function(n){var r=l(e,t);return n?r(n):r};return r.decorates=function(e){return e[n]===!0},r.validate=u(t.validate),r.assert=c(e,t.validate),r}}),define("aurelia-pal",["exports"],function(e){"use strict";function t(e,t,n){if(t){if(t.innerError&&n)return t;var r="\n------------------------------------------------\n";e+=r+"Inner Error:\n","string"==typeof t?e+="Message: "+t:(e+=t.message?"Message: "+t.message:"Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  "),t.stack&&(e+="\nInner Error Stack:\n"+t.stack,e+="\nEnd Inner Error Stack")),e+=r}var i=new Error(e);return t&&(i.innerError=t),i}function n(t){a||(e.isInitialized=a=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){for(var n=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);"undefined"==typeof n&&null!==r;)n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return n}),t(o,i,s))}function r(){e.isInitialized=a=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateError=t,e.initializePAL=n,e.reset=r;var i=e.FEATURE={},o=e.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return e})};o.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")()}();var s=e.DOM={},a=e.isInitialized=!1}),define("aurelia-pal-browser",["exports","aurelia-pal"],function(e,t){"use strict";function n(){function e(){}e.name||Object.defineProperty(Function.prototype,"name",{get:function(){var e=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:e}),e}})}function r(){if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var n=0,r=arguments.length;n<r;++n)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}e.classList.toggle("c3",!1),e.classList.contains("c3")&&!function(){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)==!n?n:e.call(this,t)}}(),e=null}else!function(){var e="prototype",t=String.prototype.trim,n=Array.prototype.indexOf,r=[],i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},o=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(e,t)},s=function(e){for(var n=t.call(e.getAttribute("class")||""),i=n?n.split(/\s+/):r,o=0,s=i.length;o<s;++o)this.push(i[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},a=s[e]=[];i[e]=Error[e],a.item=function(e){return this[e]||null},a.contains=function(e){return e+="",o(this,e)!==-1},a.add=function(){var e=arguments,t=0,n=e.length,r=void 0,i=!1;do r=e[t]+"",o(this,r)===-1&&(this.push(r),i=!0);while(++t<n);i&&this._updateClassName()},a.remove=function(){var e=arguments,t=0,n=e.length,r=void 0,i=!1,s=void 0;do for(r=e[t]+"",s=o(this,r);s!==-1;)this.splice(s,1),i=!0,s=o(this,r);while(++t<n);i&&this._updateClassName()},a.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),t===!0||t===!1?t:!n},a.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new s(this)},enumerable:!0,configurable:!0})}()}function i(){"performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&!function(){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}(),l.performance=window.performance}function o(){if(!window.CustomEvent||"function"!=typeof window.CustomEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}function s(){if(Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}}function a(){function e(e){return"template"===e.tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI}function t(e){var t=e.ownerDocument.createElement("template"),r=e.attributes,i=r.length,o=void 0;for(e.parentNode.insertBefore(t,e);i-- >0;)o=r[i],t.setAttribute(o.name,o.value),e.removeAttribute(o.name);return e.parentNode.removeChild(e),n(t)}function n(e){for(var t=e.content=document.createDocumentFragment(),n=void 0;n=e.firstChild;)t.appendChild(n);return e}function r(r){for(var i=n(r).content,o=i.querySelectorAll("template"),s=0,a=o.length;s<a;++s){var u=o[s];e(u)?t(u):n(u)}return r}d.htmlTemplateElement?d.ensureHTMLTemplateElement=function(e){return e}:d.ensureHTMLTemplateElement=r}function u(){p||(p=!0,o(),n(),a(),s(),r(),i(),(0,t.initializePAL)(function(e,t,n){Object.assign(e,l),Object.assign(t,d),Object.assign(n,h),function(e){e.console=e.console||{};for(var t=e.console,n=void 0,r=void 0,i={},o=function(){},s="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");n=s.pop();)t[n]||(t[n]=i);for(;r=a.pop();)t[r]||(t[r]=o)}(e.global),e.global.console&&"object"===c(console.log)&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call),Object.defineProperty(n,"title",{get:function(){return document.title},set:function(e){document.title=e}}),Object.defineProperty(n,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(e,"XMLHttpRequest",{get:function(){return e.global.XMLHttpRequest}})}))}Object.defineProperty(e,"__esModule",{value:!0}),e._DOM=e._FEATURE=e._PLATFORM=void 0,e._ensureFunctionName=n,e._ensureClassList=r,e._ensurePerformance=i,e._ensureCustomEvent=o,e._ensureElementMatches=s,e._ensureHTMLTemplateElement=a,e.initialize=u;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=e._PLATFORM={location:window.location,history:window.history,addEventListener:function(e,t,n){this.global.addEventListener(e,t,n)},removeEventListener:function(e,t,n){this.global.removeEventListener(e,t,n)},performance:window.performance,requestAnimationFrame:function(e){return this.global.requestAnimationFrame(e)}},d=e._FEATURE={};d.shadowDOM=function(){return!!HTMLElement.prototype.attachShadow}(),d.scopedCSS=function(){return"scoped"in document.createElement("style")}(),d.htmlTemplateElement=function(){return"content"in document.createElement("template")}(),d.mutationObserver=function(){return!(!window.MutationObserver&&!window.WebKitMutationObserver)}();var f=window.ShadowDOMPolyfill||null,h=e._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(e,t,n){document.addEventListener(e,t,n)},removeEventListener:function(e,t,n){document.removeEventListener(e,t,n)},adoptNode:function(e){return document.adoptNode(e,!0)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},createDocumentFragment:function(){return document.createDocumentFragment()},createMutationObserver:function(e){return new(window.MutationObserver||window.WebKitMutationObserver)(e)},createCustomEvent:function(e,t){return new window.CustomEvent(e,t)},dispatchEvent:function(e){document.dispatchEvent(e)},getComputedStyle:function(e){return window.getComputedStyle(e)},getElementById:function(e){return document.getElementById(e)},querySelectorAll:function(e){return document.querySelectorAll(e)},nextElementSibling:function(e){if(e.nextElementSibling)return e.nextElementSibling;do e=e.nextSibling;while(e&&1!==e.nodeType);return e},createTemplateFromMarkup:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;if(!n||"TEMPLATE"!==n.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>");return d.ensureHTMLTemplateElement(n)},appendNode:function(e,t){(t||document.body).appendChild(e)},replaceNode:function(e,t,n){t.parentNode?t.parentNode.replaceChild(e,t):null!==f?f.unwrap(n).replaceChild(f.unwrap(e),f.unwrap(t)):n.replaceChild(e,t)},removeNode:function(e,t){e.parentNode?e.parentNode.removeChild(e):t&&(null!==f?f.unwrap(t).removeChild(f.unwrap(e)):t.removeChild(e))},injectStyles:function(e,t,n){var r=document.createElement("style");return r.innerHTML=e,r.type="text/css",t=t||document.head,n&&t.childNodes.length>0?t.insertBefore(r,t.childNodes[0]):t.appendChild(r),r}},p=!1}),define("aurelia-path",["exports"],function(e){"use strict";function t(e){for(var t=0;t<e.length;++t){var n=e[t];if("."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}}function n(e,n){var r=n&&n.split("/"),i=e.trim().split("/");if("."===i[0].charAt(0)&&r){var o=r.slice(0,r.length-1);i.unshift.apply(i,o)}return t(i),i.join("/")}function r(e,t){if(!e)return t;if(!t)return e;var n=e.match(/^([^\/]*?:)\//),r=n&&n.length>0?n[1]:"";e=e.substr(r.length);var i=void 0;i=0===e.indexOf("///")&&"file:"===r?"///":0===e.indexOf("//")?"//":0===e.indexOf("/")?"/":"";for(var o="/"===t.slice(-1)?"/":"",s=e.split("/"),a=t.split("/"),u=[],c=0,l=s.length;c<l;++c)if(".."===s[c])u.pop();else{if("."===s[c]||""===s[c])continue;u.push(s[c])}for(var d=0,f=a.length;d<f;++d)if(".."===a[d])u.pop();else{if("."===a[d]||""===a[d])continue;u.push(a[d])}return r+i+u.join("/")+o}function i(e,t,n){var r=[];if(null===t||void 0===t)return r;if(Array.isArray(t))for(var o=0,s=t.length;o<s;o++)if(n)r.push(d(e)+"="+l(t[o]));else{var a=e+"["+("object"===c(t[o])&&null!==t[o]?o:"")+"]";r=r.concat(i(a,t[o]))}else if("object"!==("undefined"==typeof t?"undefined":c(t))||n)r.push(d(e)+"="+l(t));else for(var u in t)r=r.concat(i(e+"["+u+"]",t[u]));return r}function o(e,t){for(var n=[],r=Object.keys(e||{}).sort(),o=0,s=r.length;o<s;o++){var a=r[o];n=n.concat(i(a,e[a],t))}return 0===n.length?"":n.join("&")}function s(e,t){return Array.isArray(e)?(e.push(t),e):void 0!==e?[e,t]:t}function a(e,t,n){for(var r=e,i=t.length-1,o=0;o<=i;o++){var s=""===t[o]?r.length:t[o];if(o<i){var a=r[s]&&"object"!==c(r[s])?[r[s]]:r[s];r=r[s]=a||(isNaN(t[o+1])?{}:[])}else r=r[s]=n}}function u(e){var t={};if(!e||"string"!=typeof e)return t;var n=e;"?"===n.charAt(0)&&(n=n.substr(1));for(var r=n.replace(/\+/g," ").split("&"),i=0;i<r.length;i++){var o=r[i].split("="),u=decodeURIComponent(o[0]);if(u){var c=u.split("]["),l=c.length-1;if(/\[/.test(c[0])&&/\]$/.test(c[l])?(c[l]=c[l].replace(/\]$/,""),c=c.shift().split("[").concat(c),l=c.length-1):l=0,o.length>=2){var d=o[1]?decodeURIComponent(o[1]):"";l?a(t,c,d):t[u]=s(t[u],d)}else t[u]=!0}}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.relativeToFile=n,e.join=r,e.buildQueryString=o,e.parseQueryString=u;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=encodeURIComponent,d=function(e){return l(e).replace("%24","$")}}),define("aurelia-polyfills",["aurelia-pal"],function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(t,n){if(!(n in t)){var r,i=e.PLATFORM.global,o=0,s=""+Math.random(),a="__symbol:",u=a.length,c="__symbol@@"+s,l="defineProperty",d="defineProperties",f="getOwnPropertyNames",h="getOwnPropertyDescriptor",p="propertyIsEnumerable",v=t[f],g=t[h],m=t.create,y=t.keys,b=t[l],w=t[d],_=g(t,f),x=t.prototype,S=x.hasOwnProperty,k=x[p],C=x.toString,E=(Array.prototype.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},function(e,t,n){S.call(e,c)||b(e,c,{enumerable:!1,configurable:!1,writable:!1,value:{}}),e[c]["@@"+t]=n}),T=function(e,t){var n=m(e);return v(t).forEach(function(e){j.call(t,e)&&N(n,e,t[e])}),n},O=function(e){var t=m(e);return t.enumerable=!1,t},A=function(){},D=function(e){return e!=c&&!S.call(I,e)},R=function(e){return e!=c&&S.call(I,e)},j=function(e){var t=""+e;return R(t)?S.call(this,t)&&this[c]["@@"+t]:k.call(this,e)},M=function(e){var n={enumerable:!1,configurable:!0,get:A,set:function(t){r(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),E(this,e,!0)}};return b(x,e,n),I[e]=b(t(e),"constructor",L)},P=function(e){if(this&&this!==i)throw new TypeError("Symbol is not a constructor");return M(a.concat(e||"",s,++o))},I=m(null),L={value:P},F=function(e){return I[e]},N=function(e,t,n){var i=""+t;return R(i)?(r(e,i,n.enumerable?O(n):n),E(e,i,!!n.enumerable)):b(e,t,n),e},q=function(e){var n=C.call(e);return e="[object String]"===n?e.split(""):t(e),v(e).filter(R).map(F)};_.value=N,b(t,l,_),_.value=q,b(t,n,_),_.value=function(e){return v(e).filter(D)},b(t,f,_),_.value=function(e,t){var n=q(t);return n.length?y(t).concat(n).forEach(function(n){j.call(t,n)&&N(e,n,t[n])}):w(e,t),e},b(t,d,_),_.value=j,b(x,p,_),_.value=P,b(i,"Symbol",_),_.value=function(e){var t=a.concat(a,e,s);return t in x?I[t]:M(t)},b(P,"for",_),_.value=function(e){return S.call(I,e)?e.slice(2*u,-s.length):void 0},b(P,"keyFor",_),_.value=function(e,t){var n=g(e,t);return n&&R(t)&&(n.enumerable=j.call(e,t)),n},b(t,h,_),_.value=function(e,t){return 1===arguments.length?m(e):T(e,t)},b(t,"create",_),_.value=function(){var e=C.call(this);return"[object String]"===e&&R(this)?"[object Symbol]":e},b(x,"toString",_);try{r=m(b({},a,{get:function(){return b(this,a,{value:!1})[a]}}))[a]||b}catch(e){r=function(e,t,n){var r=g(x,t);delete x[t],b(e,t,n),b(x,t,r)}}}}(Object,"getOwnPropertySymbols"),function(e,t){var n,r=e.defineProperty,i=e.prototype,o=i.toString,s="toStringTag";["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",s].forEach(function(t){if(!(t in Symbol))switch(r(Symbol,t,{value:Symbol(t)}),t){case s:n=e.getOwnPropertyDescriptor(i,"toString"),n.value=function(){var e=o.call(this),t="undefined"==typeof this||null===this?void 0:this[Symbol.toStringTag];return"undefined"==typeof t?e:"[object "+t+"]"},r(i,"toString",n)}})}(Object,Symbol),function(e,t,n){function r(){return this}t[e]||(t[e]=function(){var t=0,n=this,i={next:function(){var e=n.length<=t;return e?{done:e}:{done:e,value:n[t++]}}};return i[e]=r,i}),n[e]||(n[e]=function(){var t=String.fromCodePoint,n=this,i=0,o=n.length,s={next:function(){var e=o<=i,r=e?"":t(n.codePointAt(i));return i+=r.length,e?{done:e}:{done:e,value:r}}};return s[e]=r,s})}(Symbol.iterator,Array.prototype,String.prototype),Number.isNaN=Number.isNaN||function(e){return e!==e},Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(e){return!0}}()||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(e){return!0}}()||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Array.from||(Array.from=function(){var e=function(e){return isNaN(e=+e)?0:(e>0?Math.floor:Math.ceil)(e)},t=function(t){return t>0?Math.min(e(t),9007199254740991):0},n=function(e,t,n,r){try{return t(n,r)}catch(t){throw"function"==typeof e.return&&e.return(),t}};return function(e){var r,i,o,s,a=Object(e),u="function"==typeof this?this:Array,c=arguments.length,l=c>1?arguments[1]:void 0,d=void 0!==l,f=0,h=a[Symbol.iterator];if(d&&(l=l.bind(c>2?arguments[2]:void 0)),void 0==h||Array.isArray(e))for(r=t(a.length),i=new u(r);r>f;f++)i[f]=d?l(a[f],f):a[f];else for(s=h.call(a),i=new u;!(o=s.next()).done;f++)i[f]=d?n(s,l,o.value,f):o.value;return i.length=f,i}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function e(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function e(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return o;return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(e){var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,i=parseInt(arguments[1])||0;i>=0?r=i:(r=n+i,r<0&&(r=0));for(var o;r<n;){if(o=t[r],e===o||e!==e&&o!==o)return!0;r++}return!1}}),function(){var e=!1;try{var t=Object.keys("a");e=1!==t.length||"0"!==t[0]}catch(t){e=!0}e&&(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(void 0===i||null===i)throw TypeError("Cannot convert undefined or null to object");i=Object(i);var o,s,a=[];for(o in i)e.call(i,o)&&a.push(o);if(t)for(s=0;s<r;s++)e.call(i,n[s])&&a.push(n[s]);return a}}())}(),function(e){"assign"in e||e.defineProperty(e,"assign",{configurable:!0,writable:!0,value:function(){var t=e.getOwnPropertySymbols,n=e.propertyIsEnumerable,r=t?function(e){return t(e).filter(n,e)}:function(){return Array.prototype};return function(n){function i(e){n[e]=a[e]}!t||n instanceof e||console.warn("problematic Symbols",n);for(var o=1,s=arguments.length;o<s;++o){var a=arguments[o];null!==a&&void 0!==a&&e.keys(a).concat(r(a)).forEach(i)}return n}}()})}(Object),function(e){function t(e,t){function r(e){return this&&this.constructor===r?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,void(e&&n.call(this,e))):new r(e)}return t||b(e,"size",{get:g}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(e){y<e[0]&&e[0]--})),-1<y}function i(e){return this.has(e)?this._values[y]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(y=e.length;y--&&!w(e[y],t););else y=e.indexOf(t);
return-1<y}function s(e){return o.call(this,this._values,e)}function a(e){return o.call(this,this._keys,e)}function u(e,t){return this.has(e)?this._values[y]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function l(){(this._keys||0).length=this._values.length=0}function d(){return v(this._itp,this._keys)}function f(){return v(this._itp,this._values)}function h(){return v(this._itp,this._keys,this._values)}function p(){return v(this._itp,this._values,this._values)}function v(e,t,n){var r,i=[0],o=!1;return e.push(i),r={},r[Symbol.iterator]=function(){return this},r.next=function(){var r,s=i[0];return!o&&s<t.length?(r=n?[t[s],n[s]]:t[s],i[0]++):(o=!0,e.splice(e.indexOf(i),1)),{done:o,value:r}},r}function g(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var y,b=Object.defineProperty,w=function(e,t){return e===t||e!==e&&t!==t};if("undefined"==typeof WeakMap&&(e.WeakMap=t({delete:r,clear:l,get:i,has:a,set:u},!0)),"undefined"==typeof Map||"function"!=typeof(new Map).values||!(new Map).values().next){var _;e.Map=t((_={delete:r,has:a,get:i,set:u,keys:d,values:f,entries:h,forEach:m,clear:l},_[Symbol.iterator]=h,_))}if("undefined"==typeof Set||"function"!=typeof(new Set).values||!(new Set).values().next){var x;e.Set=t((x={has:s,add:c,delete:r,clear:l,keys:f,values:f,entries:p,forEach:m},x[Symbol.iterator]=f,x))}"undefined"==typeof WeakSet&&(e.WeakSet=t({delete:r,add:c,clear:l,has:s},!0))}(e.PLATFORM.global);var n=Object.freeze({}),r="__metadata__",i=Function.prototype.bind;"undefined"==typeof e.PLATFORM.global.Reflect&&(e.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(e,t,i){if(t.hasOwnProperty(r))return(t[r][i]||n)[e]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,t,n,i){var o=n.hasOwnProperty(r)?n[r]:n[r]={},s=o[i]||(o[i]={});s[e]=t}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(e,t){return function(n,r){Reflect.defineMetadata(e,t,n,r)}}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(e,n,r){if("object"===("undefined"==typeof e?"undefined":t(e))?null===e:"function"!=typeof e)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(e,n,r),!0}catch(e){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,t){if(t)switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(i.apply(e,n))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))})}),define("aurelia-route-recognizer",["exports","aurelia-path"],function(e,t){"use strict";function n(e,t,n,r){var i=e;"/"===e.charAt(0)&&(i=e.substr(1));for(var o=[],s=i.split("/"),a=0,u=s.length;a<u;++a){var c=s[a],p=c.match(/^:([^?]+)(\?)?$/);if(p){var v=p,g=v[1],m=v[2];if(g.indexOf("=")!==-1)throw new Error("Parameter "+g+" in route "+e+" has a default value, which is not supported.");o.push(new d(g,!!m)),t.push(g),n.dynamics++}else p=c.match(/^\*(.+)$/),p?(o.push(new f(p[1])),t.push(p[1]),n.stars++):""===c?o.push(new h):(o.push(new l(c,r)),n.statics++)}return o}function r(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function i(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push.apply(n,o.match(t))}for(var s=n.filter(function(e){return e.epsilon}),a=function(){var e=[];s.forEach(function(t){n.push.apply(n,t.epsilon),e.push.apply(e,t.epsilon)}),s=e.filter(function(e){return e.epsilon})};s.length>0;)a();return n}function o(e,t,n){for(var r=e.handlers,i=e.regex,o=t.match(i),s=1,a=new p(n),u=0,c=r.length;u<c;u++){for(var l=r[u],d=l.names,f={},h=0,v=d.length;h<v;h++)f[d[h]]=o[s++];a.push({handler:l.handler,params:f,isDynamic:!!d.length})}return a}function s(e,t){var n=e.put({validChars:"/"});return t.eachChar(function(e){n=n.put(e)}),t.optional&&(e.epsilon=e.epsilon||[],e.epsilon.push(n)),n}Object.defineProperty(e,"__esModule",{value:!0}),e.RouteRecognizer=e.EpsilonSegment=e.StarSegment=e.DynamicSegment=e.StaticSegment=e.State=void 0;var a=e.State=function(){function e(e){this.charSpec=e,this.nextStates=[]}return e.prototype.get=function(e){for(var t=this.nextStates,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i,s=o.charSpec.validChars===e.validChars&&o.charSpec.invalidChars===e.invalidChars;if(s)return o}},e.prototype.put=function(t){var n=this.get(t);return n?n:(n=new e(t),this.nextStates.push(n),t.repeat&&n.nextStates.push(n),n)},e.prototype.match=function(e){for(var t=this.nextStates,n=[],r=0,i=t.length;r<i;r++){var o=t[r],s=o.charSpec;void 0!==s.validChars?s.validChars.indexOf(e)!==-1&&n.push(o):void 0!==s.invalidChars&&s.invalidChars.indexOf(e)===-1&&n.push(o)}return n},e}(),u=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],c=new RegExp("(\\"+u.join("|\\")+")","g"),l=e.StaticSegment=function(){function e(e,t){this.string=e,this.caseSensitive=t}return e.prototype.eachChar=function(e){for(var t=this.string,n=0,r=t.length;n<r;++n){var i=t[n];e({validChars:this.caseSensitive?i:i.toUpperCase()+i.toLowerCase()})}},e.prototype.regex=function(){return this.string.replace(c,"\\$1")},e.prototype.generate=function(){return this.string},e}(),d=e.DynamicSegment=function(){function e(e,t){this.name=e,this.optional=t}return e.prototype.eachChar=function(e){e({invalidChars:"/",repeat:!0})},e.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},e.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},e}(),f=e.StarSegment=function(){function e(e){this.name=e}return e.prototype.eachChar=function(e){e({invalidChars:"",repeat:!0})},e.prototype.regex=function(){return"(.+)"},e.prototype.generate=function(e,t){return t[this.name]=!0,e[this.name]},e}(),h=e.EpsilonSegment=function(){function e(){}return e.prototype.eachChar=function(){},e.prototype.regex=function(){return""},e.prototype.generate=function(){return""},e}(),p=(e.RouteRecognizer=function(){function e(){this.rootState=new a,this.names={}}return e.prototype.add=function(e){var t=this;if(Array.isArray(e))return void e.forEach(function(e){return t.add(e)});for(var r=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},a=[],u=e.handler.name,c=!0,l=!0,d=n(e.path,a,o,e.caseSensitive),f=0,p=d.length;f<p;f++){var v=d[f];v instanceof h||(c=!1,l=l&&v.optional,r=s(r,v),i+=v.optional?"/?":"/",i+=v.regex())}if(l)if(c)r=r.put({validChars:"/"}),i+="/";else{var g=this.rootState.put({validChars:"/"});r.epsilon=[g],r=g}var m=[{handler:e.handler,names:a}];if(u)for(var y=Array.isArray(u)?u:[u],b=0;b<y.length;b++)this.names[y[b]]={segments:d,handlers:m};return r.handlers=m,r.regex=new RegExp(i+"$",e.caseSensitive?"":"i"),r.types=o,r},e.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);return[].concat(t.handlers)},e.prototype.hasRoute=function(e){return!!this.names[e]},e.prototype.generate=function(e,n){var r=this.names[e];if(!r)throw new Error("There is no route named "+e);var i=r.handlers[0].handler;if(i.generationUsesHref)return i.href;for(var o=Object.assign({},n),s=r.segments,a={},u="",c=0,l=s.length;c<l;c++){var d=s[c];if(!(d instanceof h)){var f=d.generate(o,a);if(null===f||void 0===f){if(!d.optional)throw new Error("A value is required for route parameter '"+d.name+"' in route '"+e+"'.")}else u+="/",u+=f}}"/"!==u.charAt(0)&&(u="/"+u);for(var p in a)delete o[p];var v=(0,t.buildQueryString)(o);return u+=v?"?"+v:""},e.prototype.recognize=function(e){var n=[this.rootState],s={},a=!1,u=e,c=u.indexOf("?");if(c!==-1){var l=u.substr(c+1,u.length);u=u.substr(0,c),s=(0,t.parseQueryString)(l)}u=decodeURI(u),"/"!==u.charAt(0)&&(u="/"+u);var d=u.length;d>1&&"/"===u.charAt(d-1)&&(u=u.substr(0,d-1),a=!0);for(var f=0,h=u.length;f<h&&(n=i(n,u.charAt(f)),n.length);f++);for(var p=[],v=0,g=n.length;v<g;v++)n[v].handlers&&p.push(n[v]);n=r(p);var m=p[0];if(m&&m.handlers)return a&&"(.+)$"===m.regex.source.slice(-5)&&(u+="/"),o(m,u,s)},e}(),function(e){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=e||{}})}),define("aurelia-router",["exports","aurelia-logging","aurelia-route-recognizer","aurelia-dependency-injection","aurelia-history","aurelia-event-aggregator"],function(e,t,n,r,i,o){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return t||"#"===e[0]||(e="#"+e),t&&n&&(e=e.substring(1,e.length)),e}function l(e,t,n,r){if(N.test(e))return e;var i="";return t.length&&"/"!==t[0]&&(i+="/"),i+=t,i.length&&"/"===i[i.length-1]||"/"===e[0]||(i+="/"),i.length&&"/"===i[i.length-1]&&"/"===e[0]&&(i=i.substring(0,i.length-1)),c(i+e,n,r)}function d(e,t,n){return F.test(e)?c(e,n):l(e,t,n)}function f(e,t){return function(e){return Promise.resolve({status:t,output:e,completed:t===q.completed})}}function h(e){e.previousInstruction=null,e.plan=null}function p(e){return e&&"function"==typeof e.navigate}function v(e,t){var n=e.previousInstruction,r=e.config,i={};if("redirect"in r){var o=d(r.redirect,m(e));return e.queryString&&(o+="?"+e.queryString),Promise.reject(new U(o))}if(n){var s=g(n,e),a=[],u=function(o){var u=n.viewPortInstructions[o],c=r.viewPorts[o];if(!c)throw new Error('Invalid Route Config: Configuration for viewPort "'+o+'" was not found for route: "'+e.config.route+'."');var l=i[o]={name:o,config:c,prevComponent:u.component,prevModuleId:u.moduleId};if(u.moduleId!==c.moduleId)l.strategy=Y.replace;else if("determineActivationStrategy"in u.component.viewModel){var d;l.strategy=(d=u.component.viewModel).determineActivationStrategy.apply(d,e.lifecycleArgs)}else r.activationStrategy?l.strategy=r.activationStrategy:s||t?l.strategy=Y.invokeLifecycle:l.strategy=Y.noChange;if(l.strategy!==Y.replace&&u.childRouter){var f=e.getWildcardPath(),h=u.childRouter._createNavigationInstruction(f,e).then(function(e){return l.childNavigationInstruction=e,v(e,l.strategy===Y.invokeLifecycle).then(function(t){e.plan=t})});a.push(h)}};for(var c in n.viewPortInstructions)u(c);return Promise.all(a).then(function(){return i})}for(var l in r.viewPorts)i[l]={name:l,strategy:Y.replace,config:e.config.viewPorts[l]};return Promise.resolve(i)}function g(e,t){var n=e.params,r=t.params,i=t.config.hasChildRouter?t.getWildCardName():null;for(var o in r)if(o!==i&&n[o]!==r[o])return!0;for(var s in n)if(s!==i&&n[s]!==r[s])return!0;if(!t.options.compareQueryParams)return!1;var a=e.queryParams,u=t.queryParams;for(var c in u)if(a[c]!==u[c])return!0;for(var l in a)if(a[l]!==u[l])return!0;return!1}function m(e){var t=[];for(e=e.parentInstruction;e;)t.unshift(e.getBaseUrl()),e=e.parentInstruction;return t.unshift("/"),t.join("")}function y(e,t){if("object"!==("undefined"==typeof e?"undefined":I(e)))throw new Error("Invalid Route Config");if("string"!=typeof e.route){var n=e.name||"(no name)";throw new Error('Invalid Route Config for "'+n+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts))throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function b(e,t,n){return Promise.resolve(t.call(n,e)).then(function(){return"viewPorts"in e.config||(e.config.viewPorts={default:{moduleId:e.config.moduleId}}),e})}function w(e,t,n,r){function i(e){return r||C(e)?o():n.cancel(e)}function o(){if(a--)try{var e=s[a],r=e[t]();return E(r,i,n.cancel)}catch(e){return n.cancel(e)}return n()}var s=_(e,t),a=s.length;return o()}function _(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var r in e){var i=e[r],o=i.prevComponent;if((i.strategy===Y.invokeLifecycle||i.strategy===Y.replace)&&o){var s=o.viewModel;t in s&&n.push(s)}i.childNavigationInstruction?_(i.childNavigationInstruction.plan,t,n):o&&x(o,t,n)}return n}function x(e,t,n){var r=e.childRouter;if(r&&r.currentInstruction){var i=r.currentInstruction.viewPortInstructions;for(var o in i){var s=i[o],a=s.component,u=a.viewModel;t in u&&n.push(u),x(a,t,n)}}}function S(e,t,n,r){function i(e,t){return r||C(e,t)?o():n.cancel(e)}function o(){if(u++,u<a)try{var e=function(){var e,r=s[u],o=(e=r.viewModel)[t].apply(e,r.lifecycleArgs);return{v:E(o,function(e){return i(e,r.router)},n.cancel)}}();if("object"===("undefined"==typeof e?"undefined":I(e)))return e.v}catch(e){return n.cancel(e)}return n()}var s=k(e,t),a=s.length,u=-1;return o()}function k(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=arguments[3],i=e.plan;return Object.keys(i).filter(function(o){var s=i[o],a=e.viewPortInstructions[o],u=a.component.viewModel;(s.strategy===Y.invokeLifecycle||s.strategy===Y.replace)&&t in u&&n.push({viewModel:u,lifecycleArgs:a.lifecycleArgs,router:r}),s.childNavigationInstruction&&k(s.childNavigationInstruction,t,n,a.component.childRouter||r)}),n}function C(e,t){return!(e instanceof Error)&&(p(e)?("function"==typeof e.setRouter&&e.setRouter(t),!!e.shouldContinueProcessing):void 0===e||e)}function E(e,t,n){if(e&&"function"==typeof e.then)return Promise.resolve(e).then(t).catch(n);if(e&&"function"==typeof e.subscribe){var r=function(){var r=e;return{v:new Z(function(i){return r.subscribe({next:function(){i.subscribed&&(i.unsubscribe(),t(e))},error:function(e){i.subscribed&&(i.unsubscribe(),n(e))},complete:function(){i.subscribed&&(i.unsubscribe(),t(e))}})})}}();if("object"===("undefined"==typeof r?"undefined":I(r)))return r.v}try{return t(e)}catch(e){return n(e)}}function T(e,t){var n=O(t),r=n.map(function(t){return A(e,t.navigationInstruction,t.viewPortPlan)});return Promise.all(r)}function O(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=e.plan;for(var r in n){var i=n[r];if(i.strategy===Y.replace)t.push({viewPortPlan:i,navigationInstruction:e}),i.childNavigationInstruction&&O(i.childNavigationInstruction,t);else{var o=e.addViewPortInstruction(r,i.strategy,i.prevModuleId,i.prevComponent);i.childNavigationInstruction&&(o.childNavigationInstruction=i.childNavigationInstruction,O(i.childNavigationInstruction,t))}}return t}function A(e,t,n){var r=n.config.moduleId;return D(e,t,n.config).then(function(i){var o=t.addViewPortInstruction(n.name,n.strategy,r,i),s=i.childRouter;if(s){var a=t.getWildcardPath();return s._createNavigationInstruction(a,t).then(function(t){return n.childNavigationInstruction=t,v(t).then(function(n){return t.plan=n,o.childNavigationInstruction=t,T(e,t)})})}})}function D(e,t,n){var r=t.router,i=t.lifecycleArgs;return e.loadRoute(r,n,t).then(function(e){var t=e.viewModel,o=e.childContainer;if(e.router=r,e.config=n,"configureRouter"in t){var s=function(){var n=o.getChildRouter();return e.childRouter=n,{v:n.configure(function(e){return t.configureRouter.apply(t,[e,n].concat(i))}).then(function(){return e})}}();if("object"===("undefined"==typeof s?"undefined":I(s)))return s.v}return e})}function R(e,t,n,r){t&&"completed"in t&&"output"in t||(t=t||{},t.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(t)+"] instead."));var i=null;return p(t.output)?t.output.navigate(r):(i=t,t.completed||(t.output instanceof Error&&ie.error(t.output),M(r))),r._dequeueInstruction(n+1).then(function(e){return i||e||t})}function j(e,t,n,r){if(e.resolve(t),!n){r.isNavigating=!1;var i={instruction:e,result:t},o=void 0;if(t.output instanceof Error)o="error";else if(t.completed){var s=e.queryString?"?"+e.queryString:"";r.history.previousLocation=e.fragment+s,o="success"}else o="canceled";r.events.publish("router:navigation:"+o,i),r.events.publish("router:navigation:complete",i)}return t}function M(e){var t=e.history.previousLocation;t?e.navigate(e.history.previousLocation,{trigger:!1,replace:!0}):ie.error("Router navigation failed, and no previous location could be restored.")}Object.defineProperty(e,"__esModule",{value:!0}),e.AppRouter=e.PipelineProvider=e.LoadRouteStep=e.RouteLoader=e.ActivateNextStep=e.DeactivatePreviousStep=e.CanActivateNextStep=e.CanDeactivatePreviousStep=e.Router=e.BuildNavigationPlanStep=e.activationStrategy=e.RouterConfiguration=e.RedirectToRoute=e.Redirect=e.NavModel=e.NavigationInstruction=e.CommitChangesStep=e.Pipeline=e.pipelineStatus=void 0,e._normalizeAbsolutePath=c,e._createRootedPath=l,e._resolveUrl=d,e.isNavigationCommand=p,e._buildNavigationPlan=v;var P=s(t),I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=/^#?\//,N=/^([a-z][a-z0-9+\-.]*:)?\/\//i,q=e.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},B=e.Pipeline=function(){function e(){this.steps=[]}return e.prototype.addStep=function(e){var t=void 0;if("function"==typeof e)t=e;else{if("function"==typeof e.getSteps){for(var n=e.getSteps(),r=0,i=n.length;r<i;r++)this.addStep(n[r]);return this}t=e.run.bind(e)}return this.steps.push(t),this},e.prototype.run=function(e){function t(){if(n++,!(n<r.length))return t.complete();var i=r[n];try{return i(e,t)}catch(e){return t.reject(e)}}var n=-1,r=this.steps;return t.complete=f(t,q.completed),t.cancel=f(t,q.canceled),t.reject=f(t,q.rejected),t()},e}(),H=e.CommitChangesStep=function(){function e(){}return e.prototype.run=function(e,t){return e._commitChanges(!0).then(function(){return e._updateTitle(),t()})},e}(),V=e.NavigationInstruction=function(){function e(e){this.plan=null,this.options={},Object.assign(this,e),this.params=this.params||{},this.viewPortInstructions={};var t=[],n=this;do{var r=Object.assign({},n.params);n.config&&n.config.hasChildRouter&&delete r[n.getWildCardName()],t.unshift(r),n=n.parentInstruction}while(n);var i=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[i,this.config,this]}return e.prototype.getAllInstructions=function(){var e=[this];for(var t in this.viewPortInstructions){var n=this.viewPortInstructions[t].childNavigationInstruction;n&&e.push.apply(e,n.getAllInstructions())}return e},e.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(e){return e.previousInstruction}).filter(function(e){return e})},e.prototype.addViewPortInstruction=function(e,t,n,r){var i=this.viewPortInstructions[e]={name:e,strategy:t,moduleId:n,component:r,childRouter:r.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return i},e.prototype.getWildCardName=function(){var e=this.config.route.lastIndexOf("*");return this.config.route.substr(e+1)},e.prototype.getWildcardPath=function(){var e=this.getWildCardName(),t=this.params[e]||"";return this.queryString&&(t+="?"+this.queryString),t},e.prototype.getBaseUrl=function(){if(!this.params)return this.fragment;var e=this.getWildCardName(),t=this.params[e]||"";return t?(t=encodeURI(t),this.fragment.substr(0,this.fragment.lastIndexOf(t))):this.fragment},e.prototype._commitChanges=function(e){var t=this,n=this.router;n.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n._refreshBaseUrl(),n.refreshNavigation();var r=[],i=[],o=function(o){var s=t.viewPortInstructions[o],a=n.viewPorts[o];if(!a)throw new Error("There was no router-view found in the view for "+s.moduleId+".");s.strategy===Y.replace?(e&&i.push({viewPort:a,viewPortInstruction:s}),r.push(a.process(s,e).then(function(e){if(s.childNavigationInstruction)return s.childNavigationInstruction._commitChanges()}))):s.childNavigationInstruction&&r.push(s.childNavigationInstruction._commitChanges(e))};for(var s in this.viewPortInstructions)o(s);return Promise.all(r).then(function(){return i.forEach(function(e){return e.viewPort.swap(e.viewPortInstruction)}),null}).then(function(){return h(t)})},e.prototype._updateTitle=function(){var e=this._buildTitle();e&&this.router.history.setTitle(e)},e.prototype._buildTitle=function(){var e=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],t=this.config.navModel.title||"",n=[];for(var r in this.viewPortInstructions){var i=this.viewPortInstructions[r];if(i.childNavigationInstruction){var o=i.childNavigationInstruction._buildTitle(e);o&&n.push(o)}}return n.length&&(t=n.join(e)+(t?e:"")+t),this.router.title&&(t+=(t?e:"")+this.router.title),t},e}(),z=e.NavModel=function(){function e(e,t){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=e,this.relativeHref=t}return e.prototype.setTitle=function(e){this.title=e,this.isActive&&this.router.updateTitle()},e}(),U=e.Redirect=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.url=e,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}return e.prototype.setRouter=function(e){this.router=e},e.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigate(this.url,this.options)},e}(),W=(e.RedirectToRoute=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.route=e,this.params=t,this.options=Object.assign({trigger:!0,replace:!0},n),this.shouldContinueProcessing=!1}return e.prototype.setRouter=function(e){this.router=e},e.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigateToRoute(this.route,this.params,this.options)},e}(),e.RouterConfiguration=function(){function e(){this.instructions=[],this.options={},this.pipelineSteps=[]}return e.prototype.addPipelineStep=function(e,t){return this.pipelineSteps.push({name:e,step:t}),this},e.prototype.addAuthorizeStep=function(e){return this.addPipelineStep("authorize",e)},e.prototype.addPreActivateStep=function(e){return this.addPipelineStep("preActivate",e)},e.prototype.addPreRenderStep=function(e){return this.addPipelineStep("preRender",e)},e.prototype.addPostRenderStep=function(e){return this.addPipelineStep("postRender",e)},e.prototype.map=function(e){return Array.isArray(e)?(e.forEach(this.map.bind(this)),this):this.mapRoute(e)},e.prototype.mapRoute=function(e){return this.instructions.push(function(t){var n=[];if(Array.isArray(e.route))for(var r=0,i=e.route.length;r<i;++r){var o=Object.assign({},e);o.route=e.route[r],n.push(o)}else n.push(Object.assign({},e));for(var s=void 0,a=0,u=n.length;a<u;++a){var c=n[a];c.settings=c.settings||{},s||(s=t.createNavModel(c)),t.addRoute(c,s)}}),this},e.prototype.mapUnknownRoutes=function(e){return this.unknownRouteConfig=e,this},e.prototype.exportToRouter=function(e){for(var t=this.instructions,n=0,r=t.length;n<r;++n)t[n](e);this.title&&(e.title=this.title),this.unknownRouteConfig&&e.handleUnknownRoutes(this.unknownRouteConfig),e.options=this.options;var i=this.pipelineSteps;if(i.length){if(!e.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=e.pipelineProvider,s=0,a=i.length;s<a;++s){var u=i[s],c=u.name,l=u.step;o.addStep(c,l)}}},e}()),Y=e.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},$=e.BuildNavigationPlanStep=function(){function e(){}return e.prototype.run=function(e,t){return v(e).then(function(n){return e.plan=n,t()}).catch(t.cancel)},e}(),G=e.Router=function(){function e(e,t){this.parent=null,this.options={},this.container=e,this.history=t,this.reset()}return e.prototype.reset=function(){var e=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new n.RouteRecognizer,this._childRecognizer=new n.RouteRecognizer,this._configuredPromise=new Promise(function(t){e._resolveConfiguredPromise=t})},e.prototype.registerViewPort=function(e,t){t=t||"default",this.viewPorts[t]=e},e.prototype.ensureConfigured=function(){return this._configuredPromise},e.prototype.configure=function(e){var t=this;this.isConfigured=!0;var n=e,r=void 0;return"function"==typeof e&&(r=new W,n=e(r)),Promise.resolve(n).then(function(e){e&&e.exportToRouter&&(r=e),r.exportToRouter(t),t.isConfigured=!0,t._resolveConfiguredPromise()})},e.prototype.navigate=function(e,t){return!this.isConfigured&&this.parent?this.parent.navigate(e,t):this.history.navigate(d(e,this.baseUrl,this.history._hasPushState),t)},e.prototype.navigateToRoute=function(e,t,n){var r=this.generate(e,t);return this.navigate(r,n)},e.prototype.navigateBack=function(){this.history.navigateBack()},e.prototype.createChild=function(t){var n=new e(t||this.container.createChild(),this.history);return n.parent=this,n},e.prototype.generate=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=this._recognizer.hasRoute(e);if((!this.isConfigured||!r)&&this.parent)return this.parent.generate(e,t);if(!r)throw new Error("A route with name '"+e+"' could not be found. Check that `name: '"+e+"'` was specified in the route's config.");var i=this._recognizer.generate(e,t),o=l(i,this.baseUrl,this.history._hasPushState,n.absolute);return n.absolute?""+this.history.getAbsoluteRoot()+o:o},e.prototype.createNavModel=function(e){var t=new z(this,"href"in e?e.href:e.route);return t.title=e.title,t.order=e.nav,t.href=e.href,t.settings=e.settings,t.config=e,t},e.prototype.addRoute=function(e,t){y(e,this.routes),"viewPorts"in e||e.navigationStrategy||(e.viewPorts={default:{moduleId:e.moduleId,view:e.view}}),t||(t=this.createNavModel(e)),this.routes.push(e);var n=e.route;"/"===n.charAt(0)&&(n=n.substr(1));var r=e.caseSensitive===!0,i=this._recognizer.add({path:n,handler:e,caseSensitive:r});if(n){var o=e.settings;delete e.settings;var s=JSON.parse(JSON.stringify(e));e.settings=o,s.route=n+"/*childRoute",s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:r}),s.navModel=t,s.settings=e.settings,s.navigationStrategy=e.navigationStrategy}if(e.navModel=t,(t.order||0===t.order)&&this.navigation.indexOf(t)===-1){if(!t.href&&""!==t.href&&(i.types.dynamics||i.types.stars))throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof t.order&&(t.order=++this._fallbackOrder),this.navigation.push(t),this.navigation=this.navigation.sort(function(e,t){return e.order-t.order})}},e.prototype.hasRoute=function(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))},e.prototype.hasOwnRoute=function(e){return this._recognizer.hasRoute(e)},e.prototype.handleUnknownRoutes=function(e){var t=this;if(!e)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(n){return t._createRouteConfig(e,n).then(function(e){return n.config=e,n})}},e.prototype.updateTitle=function(){return this.parent?this.parent.updateTitle():void this.currentInstruction._updateTitle()},e.prototype.refreshNavigation=function(){for(var e=this.navigation,t=0,n=e.length;t<n;t++){var r=e[t];r.config.href?r.href=c(r.config.href,this.history._hasPushState):r.href=l(r.relativeHref,this.baseUrl,this.history._hasPushState)}},e.prototype._refreshBaseUrl=function(){if(this.parent){var e=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+e}},e.prototype._createNavigationInstruction=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=e,r="",i=e.indexOf("?");i!==-1&&(n=e.substr(0,i),r=e.substr(i+1));var o=this._recognizer.recognize(e);o&&o.length||(o=this._childRecognizer.recognize(e));var s={fragment:n,queryString:r,config:null,parentInstruction:t,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(o&&o.length){var a=o[0],u=new V(Object.assign({},s,{params:a.params,queryParams:a.queryParams||o.queryParams,config:a.config||a.handler}));return"function"==typeof a.handler?b(u,a.handler,a):a.handler&&"function"==typeof a.handler.navigationStrategy?b(u,a.handler.navigationStrategy,a.handler):Promise.resolve(u)}if(this.catchAllHandler){var c=new V(Object.assign({},s,{params:{path:n},queryParams:o&&o.queryParams,config:null}));return b(c,this.catchAllHandler)}return Promise.reject(new Error("Route not found: "+e))},e.prototype._createRouteConfig=function(e,t){var n=this;return Promise.resolve(e).then(function(e){return"string"==typeof e?{moduleId:e}:"function"==typeof e?e(t):e}).then(function(e){return"string"==typeof e?{moduleId:e}:e}).then(function(e){return e.route=t.params.path,y(e,n.routes),e.navModel||(e.navModel=n.createNavModel(e)),e})},L(e,[{key:"isRoot",get:function(){return!this.parent}}]),e}(),K=e.CanDeactivatePreviousStep=function(){function e(){}return e.prototype.run=function(e,t){return w(e.plan,"canDeactivate",t)},e}(),Q=e.CanActivateNextStep=function(){function e(){}return e.prototype.run=function(e,t){return S(e,"canActivate",t)},e}(),X=e.DeactivatePreviousStep=function(){function e(){}return e.prototype.run=function(e,t){return w(e.plan,"deactivate",t,!0)},e}(),J=e.ActivateNextStep=function(){function e(){}return e.prototype.run=function(e,t){return S(e,"activate",t,!0)},e}(),Z=function(){function e(e){this._subscribed=!0,this._subscription=e(this),this._subscribed||this.unsubscribe()}return e.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},L(e,[{key:"subscribed",get:function(){return this._subscribed}}]),e}(),ee=e.RouteLoader=function(){function e(){}return e.prototype.loadRoute=function(e,t,n){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},e}(),te=e.LoadRouteStep=function(){function e(e){this.routeLoader=e}return e.inject=function(){return[ee]},e.prototype.run=function(e,t){return T(this.routeLoader,e).then(t).catch(t.cancel)},e}(),ne=function(){function e(e,t,n){this.steps=[],this.container=e,this.slotName=t,this.slotAlias=n}return e.prototype.getSteps=function(){var e=this;return this.steps.map(function(t){return e.container.get(t)})},e}(),re=e.PipelineProvider=function(){function e(e){this.container=e,this.steps=[$,K,te,this._createPipelineSlot("authorize"),Q,this._createPipelineSlot("preActivate","modelbind"),X,J,this._createPipelineSlot("preRender","precommit"),H,this._createPipelineSlot("postRender","postcomplete")]}return e.inject=function(){return[r.Container]},e.prototype.createPipeline=function(){
var e=this,t=new B;return this.steps.forEach(function(n){return t.addStep(e.container.get(n))}),t},e.prototype._findStep=function(e){return this.steps.find(function(t){return t.slotName===e||t.slotAlias===e})},e.prototype.addStep=function(e,t){var n=this._findStep(e);if(!n)throw new Error("Invalid pipeline slot name: "+e+".");n.steps.includes(t)||n.steps.push(t)},e.prototype.removeStep=function(e,t){var n=this._findStep(e);n&&n.steps.splice(n.steps.indexOf(t),1)},e.prototype._clearSteps=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this._findStep(e);t&&(t.steps=[])},e.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},e.prototype._createPipelineSlot=function(e,t){return new ne(this.container,e,t)},e}(),ie=P.getLogger("app-router");e.AppRouter=function(e){function t(t,n,r,i){var o=a(this,e.call(this,t,n));return o.pipelineProvider=r,o.events=i,o}return u(t,e),t.inject=function(){return[r.Container,i.History,re,o.EventAggregator]},t.prototype.reset=function(){e.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},t.prototype.loadUrl=function(e){var t=this;return this._createNavigationInstruction(e).then(function(e){return t._queueInstruction(e)}).catch(function(e){ie.error(e),M(t)})},t.prototype.registerViewPort=function(t,n){var r=this;if(e.prototype.registerViewPort.call(this,t,n),this.isActive)this._dequeueInstruction();else{var i=function(){var e=r._findViewModel(t);if("configureRouter"in e){if(!r.isConfigured){var n=function(){var t=r._resolveConfiguredPromise;return r._resolveConfiguredPromise=function(){},{v:{v:r.configure(function(t){return e.configureRouter(t,r)}).then(function(){r.activate(),t()})}}}();if("object"===("undefined"==typeof n?"undefined":I(n)))return n.v}}else r.activate()}();if("object"===("undefined"==typeof i?"undefined":I(i)))return i.v}return Promise.resolve()},t.prototype.activate=function(e){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e),this.history.activate(this.options),this._dequeueInstruction())},t.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},t.prototype._queueInstruction=function(e){var t=this;return new Promise(function(n){e.resolve=n,t._queue.unshift(e),t._dequeueInstruction()})},t.prototype._dequeueInstruction=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return Promise.resolve().then(function(){if(!e.isNavigating||t){var n=e._queue.shift();if(e._queue.length=0,n){if(e.isNavigating=!0,n.previousInstruction=e.currentInstruction,t){if(t===e.maxInstructionCount-1)return ie.error(t+1+" navigation instructions have been attempted without success. Restoring last known good location."),M(e),e._dequeueInstruction(t+1);if(t>e.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else e.events.publish("router:navigation:processing",{instruction:n});var r=e.pipelineProvider.createPipeline();return r.run(n).then(function(r){return R(n,r,t,e)}).catch(function(e){return{output:e instanceof Error?e:new Error(e)}}).then(function(r){return j(n,r,!!t,e)})}}})},t.prototype._findViewModel=function(e){if(this.container.viewModel)return this.container.viewModel;if(e.container)for(var t=e.container;t;){if(t.viewModel)return this.container.viewModel=t.viewModel,t.viewModel;t=t.parent}},t}(G)}),define("aurelia-task-queue",["exports","aurelia-pal"],function(e,t){"use strict";function n(e){var n=1,r=t.DOM.createMutationObserver(e),i=t.DOM.createTextNode("");return r.observe(i,{characterData:!0}),function(){n=-n,i.data=n}}function r(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}function i(e,t){"onError"in t?t.onError(e):o?setImmediate(function(){throw e}):setTimeout(function(){throw e},0)}Object.defineProperty(e,"__esModule",{value:!0}),e.TaskQueue=void 0;var o="function"==typeof setImmediate;e.TaskQueue=function(){function e(){var e=this;this.flushing=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],t.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=n(function(){return e.flushMicroTaskQueue()}):this.requestFlushMicroTaskQueue=r(function(){return e.flushMicroTaskQueue()}),this.requestFlushTaskQueue=r(function(){return e.flushTaskQueue()})}return e.prototype.queueMicroTask=function(e){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.microTaskQueue.push(e)},e.prototype.queueTask=function(e){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.taskQueue.push(e)},e.prototype.flushTaskQueue=function(){var e=this.taskQueue,t=0,n=void 0;this.taskQueue=[];try{for(this.flushing=!0;t<e.length;)n=e[t],n.call(),t++}catch(e){i(e,n)}finally{this.flushing=!1}},e.prototype.flushMicroTaskQueue=function(){var e=this.microTaskQueue,t=this.microTaskQueueCapacity,n=0,r=void 0;try{for(this.flushing=!0;n<e.length;)if(r=e[n],r.call(),n++,n>t){for(var o=0,s=e.length-n;o<s;o++)e[o]=e[o+n];e.length-=n,n=0}}catch(e){i(e,r)}finally{this.flushing=!1}e.length=0},e}()}),define("aurelia-templating",["exports","aurelia-logging","aurelia-metadata","aurelia-pal","aurelia-path","aurelia-loader","aurelia-dependency-injection","aurelia-binding","aurelia-task-queue"],function(e,t,n,r,i,o,s,a,u){"use strict";function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return"-"+e.toLowerCase()}function d(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(ze,l)}function f(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}function h(e){var t=function(e){n.metadata.define(n.metadata.resource,new Ue,e)};return e?t(e):t}function p(e){throw new Error("BindingLanguage must implement "+e+"().")}function v(e,t,n,r){if(t){var i=e[t];if(i){if(i!==n)throw new Error("Attempted to register "+r+" when one with the same name already exists. Name: "+t+".")}else e[t]=n}}function g(e){if(void 0!==e.animatableElement)return e.animatableElement;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t&&1===t.nodeType?e.animatableElement=t.classList.contains("au-animate")?t:null:e.animatableElement=null}function m(e){if(e===r.DOM.Element)return this.element;if(e===pt){if(this.boundViewFactory)return this.boundViewFactory;var t=this.instruction.viewFactory,n=this.partReplacements;return n&&(t=n[t.part]||t),this.boundViewFactory=new pt(this,t,n),this.boundViewFactory}return e===dt?(void 0===this.viewSlot&&(this.viewSlot=new dt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):e===We?this.elementEvents||(this.elementEvents=new We(this.element)):e===Ve?this.compositionTransaction||(this.compositionTransaction=this.parent.get(e)):e===ct?this.viewResources:e===Ke?this.instruction:this.superGet(e)}function y(e,t,n,r,i,o){var s=e.createChild(),a=void 0,u=void 0;for(s.element=t,s.instruction=n,s.children=r,s.viewResources=o,s.partReplacements=i,a=n.providers,u=a.length;u--;)s._resolvers.set(a[u],ht);return s.superGet=s.get,s.get=m,s}function b(e,t){var n=r.DOM.createComment("anchor");if(t){var i=e.firstChild;i&&"AU-CONTENT"===i.tagName&&(n.contentElement=i),n.hasAttribute=function(t){return e.hasAttribute(t)},n.getAttribute=function(t){return e.getAttribute(t)},n.setAttribute=function(t,n){e.setAttribute(t,n)}}return r.DOM.replaceNode(n,e),n}function w(e,t,n,i,o,s,a,u,c){var l=n.behaviorInstructions,d=n.expressions,f=void 0,h=void 0,p=void 0,v=void 0,g=void 0;if(n.contentExpression)return o.push(n.contentExpression.createBinding(t.nextSibling)),t.nextSibling.auInterpolationTarget=!0,void t.parentNode.removeChild(t);if(n.shadowSlot){var m=r.DOM.createComment("slot"),w=void 0;return w=n.slotDestination?new st(m,n.slotName,n.slotDestination,n.slotFallbackFactory):new at(m,n.slotName,n.slotFallbackFactory),r.DOM.replaceNode(m,t),a[n.slotName]=w,void i.push(w)}if(l.length)for(n.anchorIsContainer||(t=b(t,n.elementInstruction)),e[n.injectorId]=f=y(e[n.parentInjectorId],t,n,s,u,c),h=0,p=l.length;h<p;++h)v=l[h],g=v.type.create(f,v,t,o),i.push(g);for(h=0,p=d.length;h<p;++h)o.push(d[h].createBinding(t))}function _(e,t){var n=e.split(";"),r=void 0,i=void 0,o=void 0,s=void 0,a=void 0;for(t=t||{},i=0;i<n.length;i++)o=n[i],r=o.indexOf(":"),s=o.substring(0,r).trim(),a=o.substring(r+1).trim(),t[s]=a;return t}function x(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}function S(e,t,n,r,i,o){var s=n.behaviorInstructions,a=n.expressions,u=n.providers,c=n.values,l=void 0,d=void 0,f=void 0,h=void 0,p=void 0;for(l=u.length;l--;)e._resolvers.set(u[l],ht);for(var v in c)if(p=t.getAttribute(v)){if("class"===v)t.setAttribute("class",p+" "+c[v]);else if("style"===v){var g=_(c[v]);_(p,g),t.setAttribute("style",x(g))}}else t.setAttribute(v,c[v]);if(s.length)for(l=0,d=s.length;l<d;++l)f=s[l],h=f.type.create(e,f,t,i),h.contentView&&o.push(h.contentView),r.push(h);for(l=0,d=a.length;l<d;++l)i.push(a[l].createBinding(t))}function k(){return++gt}function C(e,t){var n=e.type,r=e.attrName,i=e.attributes,o=void 0,s=void 0,a=void 0,u=t.mapAttribute(r);u&&r in i&&u!==r&&(i[u]=i[r],delete i[r]);for(s in i)a=i[s],null!==a&&"object"===("undefined"==typeof a?"undefined":Ne(a))&&(o=n.attributes[s],void 0!==o?a.targetProperty=o.name:a.targetProperty=s)}function E(){return(++mt).toString()}function T(e){var t=e.getAttribute("class"),n=E();return e.setAttribute("class",t?t+=" au-target":"au-target"),e.setAttribute("au-target-id",n),n}function O(e,t,n,i,o){var s=r.DOM.createElement("au-shadow-slot");r.DOM.replaceNode(s,n);var a=T(s),u=Ke.shadowSlot(o);if(u.slotName=n.getAttribute("name")||ut.defaultSlotKey,u.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var c=r.DOM.createDocumentFragment(),l=void 0;l=n.firstChild;)c.appendChild(l);u.slotFallbackFactory=e.compile(c,t)}return i[a]=u,s}function A(e,t){return t instanceof o.TemplateRegistryEntry?Promise.resolve(t):e.loadTemplate(t)}function D(e,t,n){var r=t.__observers__;return void 0===r&&(e.isInitialized||e.initialize(s.Container.instance||new s.Container,t.constructor),r=e.observerLocator.getOrCreateObserversLookup(t),e._ensurePropertiesDefined(t,r)),r[n]}function R(){return++Ot}function j(){return!0}function M(){}function P(e,t){return function(r,i,o){var s="string"==typeof i?r.constructor:r,a=n.metadata.getOrCreateOwn(n.metadata.resource,At,s);"string"==typeof e&&(e={selector:e,name:i}),o&&(o.writable=!0),e.all=t,a.addChildBinding(new Dt(e))}}function I(e){return P(e,!0)}function L(e){return P(e,!1)}function F(e,t,n){var r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}function N(e,t){for(var n=t.binders,r=n.length,i=new Map,o=0,s=e.length;o<s;++o){for(var a=e[o],u=a.addedNodes,c=a.removedNodes,l=0,d=c.length;l<d;++l){var f=c[l];if(1===f.nodeType)for(var h=0;h<r;++h){var p=n[h];p.onRemove(f)&&F(i,p,a)}}for(var v=0,g=u.length;v<g;++v){var m=u[v];if(1===m.nodeType)for(var y=0;y<r;++y){var b=n[y];b.onAdd(m)&&F(i,b,a)}}}i.forEach(function(e,t){null!==t.changeHandler&&t.viewModel[t.changeHandler](e)})}function q(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?Promise.resolve():e.viewModel.activate(e.model)||Promise.resolve()}function B(e,t){if(/[A-Z]/.test(e)){var n=d(e);return Le.getLogger("templating").warn("'"+e+"' is not a valid "+t+" name and has been converted to '"+n+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),n}return e}function H(e){return function(t){n.metadata.define(n.metadata.resource,e,t)}}function V(e){return function(t){if(e instanceof At)n.metadata.define(n.metadata.resource,e,t);else{var r=n.metadata.getOrCreateOwn(n.metadata.resource,At,t);Object.assign(r,e)}}}function z(e){return function(t){var r=n.metadata.getOrCreateOwn(n.metadata.resource,At,t);r.elementName=B(e,"custom element")}}function U(e,t){return function(r){var i=n.metadata.getOrCreateOwn(n.metadata.resource,At,r);i.attributeName=B(e,"custom attribute"),i.attributeDefaultBindingMode=t}}function W(e){var t=function(e){var t=n.metadata.getOrCreateOwn(n.metadata.resource,At,e);t.liftsContent=!0};return e?t(e):t}function Y(e,t,r){var i=function(t,r,i){var o=r?t.constructor:t,s=n.metadata.getOrCreateOwn(n.metadata.resource,At,o),a=void 0;return r&&(e=e||{},e.name=r),a=new Tt(e),a.registerWith(o,s,i)};if(!e)return i;if(t){var o=e;return e=null,i(o,t,r)}return i}function $(e){var t=function(e){var t=n.metadata.getOrCreateOwn(n.metadata.resource,At,e);t.hasDynamicOptions=!0};return e?t(e):t}function G(e){var t="function"!=typeof e&&e?e:It,r=function(e){var r=n.metadata.getOrCreateOwn(n.metadata.resource,At,e);r.targetShadowDOM=!0,r.shadowDOMOptions=t};return"function"==typeof e?r(e):r}function K(e){return function(t){var r=n.metadata.getOrCreateOwn(n.metadata.resource,At,t);r.processAttributes=function(t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){Le.getLogger("templating").error(e)}}}}function Q(){return!1}function X(e){return function(t){var r=n.metadata.getOrCreateOwn(n.metadata.resource,At,t);r.processContent=e?function(t,n,r,i){try{return e(t,n,r,i)}catch(e){return Le.getLogger("templating").error(e),!1}}:Q}}function J(e){var t=function(e){var t=n.metadata.getOrCreateOwn(n.metadata.resource,At,e);t.containerless=!0};return e?t(e):t}function Z(e){return function(t){n.metadata.define(nt.viewStrategyMetadataKey,e,t)}}function ee(e){return Z(new Xe(e))}function te(e,t,n){return Z(new tt(e,t,n))}function ne(e,t){var r=void 0,i=void 0;"function"==typeof e?r=e:(i=e,r=void 0);var o=function(e){n.metadata.define(nt.viewStrategyMetadataKey,new Ze(i,t),e)};return r?o(r):o}function re(e){var t=function(e){n.metadata.define(n.metadata.resource,new Pt,e)};return e?t(e):t}function ie(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){n.metadata.define(kt.viewModelRequireMetadataKey,t,e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingEngine=e.ElementConfigResource=e.CompositionEngine=e.HtmlBehaviorResource=e.BindableProperty=e.BehaviorPropertyObserver=e.Controller=e.ViewEngine=e.ModuleAnalyzer=e.ResourceDescription=e.ResourceModule=e.ViewCompiler=e.ViewFactory=e.BoundViewFactory=e.ViewSlot=e.View=e.ViewResources=e.ShadowDOM=e.ShadowSlot=e.PassThroughSlot=e.SlotCustomAttribute=e.BindingLanguage=e.ViewLocator=e.InlineViewStrategy=e.TemplateRegistryViewStrategy=e.NoViewStrategy=e.ConventionalViewStrategy=e.RelativeViewStrategy=e.viewStrategy=e.TargetInstruction=e.BehaviorInstruction=e.ViewCompileInstruction=e.ResourceLoadContext=e.ElementEvents=e.ViewEngineHooksResource=e.CompositionTransaction=e.CompositionTransactionOwnershipToken=e.CompositionTransactionNotifier=e.Animator=e.animationEvent=void 0,e._hyphenate=d,e._isAllWhitespace=f,e.viewEngineHooks=h,e.children=I,e.child=L,e.resource=H,e.behavior=V,e.customElement=z,e.customAttribute=U,e.templateController=W,e.bindable=Y,e.dynamicOptions=$,e.useShadowDOM=G,e.processAttributes=K,e.processContent=X,e.containerless=J,e.useViewStrategy=Z,e.useView=ee,e.inlineView=te,e.noView=ne,e.elementConfig=re,e.viewResources=ie;var oe,se,ae,ue,ce,le,de,fe,he,pe,ve,ge,me,ye,be,we,_e,xe,Se,ke,Ce,Ee,Te,Oe,Ae,De,Re,je,Me,Pe,Ie,Le=c(t),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},qe=(e.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},e.Animator=function(){function e(){}return e.prototype.enter=function(e){return Promise.resolve(!1)},e.prototype.leave=function(e){return Promise.resolve(!1)},e.prototype.removeClass=function(e,t){return e.classList.remove(t),Promise.resolve(!1)},e.prototype.addClass=function(e,t){return e.classList.add(t),Promise.resolve(!1)},e.prototype.animate=function(e,t){return Promise.resolve(!1)},e.prototype.runSequence=function(e){},e.prototype.registerEffect=function(e,t){},e.prototype.unregisterEffect=function(e){},e}()),Be=e.CompositionTransactionNotifier=function(){function e(e){this.owner=e,this.owner._compositionCount++}return e.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},e}(),He=e.CompositionTransactionOwnershipToken=function(){function e(e){this.owner=e,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return e.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},e.prototype.resolve=function(){this._resolveCallback()},e.prototype._createThenable=function(){var e=this;return new Promise(function(t,n){e._resolveCallback=t})},e}(),Ve=e.CompositionTransaction=function(){function e(){this._ownershipToken=null,this._compositionCount=0}return e.prototype.tryCapture=function(){return null===this._ownershipToken?new He(this):null},e.prototype.enlist=function(){return new Be(this)},e.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var e=this._ownershipToken;this._ownershipToken=null,e.resolve()}},e}(),ze=/([A-Z])/g,Ue=e.ViewEngineHooksResource=function(){function e(){}return e.prototype.initialize=function(e,t){this.instance=e.get(t)},e.prototype.register=function(e,t){e.registerViewEngineHooks(this.instance)},e.prototype.load=function(e,t){},e.convention=function(t){if(t.endsWith("ViewEngineHooks"))return new e},e}(),We=e.ElementEvents=function(){function e(e){this.element=e,this.subscriptions={}}return e.prototype._enqueueHandler=function(e){this.subscriptions[e.eventName]=this.subscriptions[e.eventName]||[],this.subscriptions[e.eventName].push(e)},e.prototype._dequeueHandler=function(e){var t=void 0,n=this.subscriptions[e.eventName];return n&&(t=n.indexOf(e),t>-1&&n.splice(t,1)),e},e.prototype.publish=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]||arguments[2],i=arguments.length<=3||void 0===arguments[3]||arguments[3],o=r.DOM.createCustomEvent(e,{cancelable:i,bubbles:n,detail:t});this.element.dispatchEvent(o)},e.prototype.subscribe=function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]||arguments[2];if(t&&"function"==typeof t)return t.eventName=e,t.handler=t,t.bubbles=r,t.dispose=function(){n.element.removeEventListener(e,t,r),n._dequeueHandler(t)},this.element.addEventListener(e,t,r),this._enqueueHandler(t),t},e.prototype.subscribeOnce=function(e,t){var n=this,r=arguments.length<=2||void 0===arguments[2]||arguments[2];if(t&&"function"==typeof t){var i=function(){var i=function e(n){t(n),e.dispose()};return{v:n.subscribe(e,i,r)}}();if("object"===("undefined"==typeof i?"undefined":Ne(i)))return i.v}},e.prototype.dispose=function(e){if(e&&"string"==typeof e){var t=this.subscriptions[e];if(t)for(;t.length;){var n=t.pop();n&&n.dispose()}}else this.disposeAll()},e.prototype.disposeAll=function(){for(var e in this.subscriptions)this.dispose(e)},e}(),Ye=e.ResourceLoadContext=function(){function e(){this.dependencies={}}return e.prototype.addDependency=function(e){this.dependencies[e]=!0},e.prototype.hasDependency=function(e){return e in this.dependencies},e}(),$e=e.ViewCompileInstruction=function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.targetShadowDOM=e,this.compileSurrogate=t,this.associatedModuleId=null};$e.normal=new $e;var Ge=e.BehaviorInstruction=function(){function e(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return e.enhance=function(){var t=new e;return t.enhance=!0,t},e.unitTest=function(t,n){var r=new e;return r.type=t,r.attributes=n||{},r},e.element=function(t,n){var r=new e;return r.type=n,r.attributes={},r.anchorIsContainer=!(t.hasAttribute("containerless")||n.containerless),r.initiatedByBehavior=!0,r},e.attribute=function(t,n){var r=new e;return r.attrName=t,r.type=n||null,r.attributes={},r},e.dynamic=function(t,n,r){var i=new e;return i.host=t,i.viewModel=n,i.viewFactory=r,i.inheritBindingContext=!0,i},e}();Ge.normal=new Ge;var Ke=e.TargetInstruction=(se=oe=function(){function e(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return e.shadowSlot=function(t){var n=new e;return n.parentInjectorId=t,n.shadowSlot=!0,n},e.contentExpression=function(t){var n=new e;return n.contentExpression=t,n},e.lifting=function(t,n){var r=new e;return r.parentInjectorId=t,r.expressions=e.noExpressions,r.behaviorInstructions=[n],r.viewFactory=n.viewFactory,r.providers=[n.type.target],r.lifting=!0,r},e.normal=function(t,n,r,i,o,s){var a=new e;return a.injectorId=t,a.parentInjectorId=n,a.providers=r,a.behaviorInstructions=i,a.expressions=o,a.anchorIsContainer=!s||s.anchorIsContainer,a.elementInstruction=s,a},e.surrogate=function(t,n,r,i){var o=new e;return o.expressions=r,o.behaviorInstructions=n,o.providers=t,o.values=i,o},e}(),oe.noExpressions=Object.freeze([]),se),Qe=e.viewStrategy=n.protocol.create("aurelia:view-strategy",{validate:function(e){return"function"==typeof e.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(e){"function"!=typeof e.makeRelativeTo&&(e.makeRelativeTo=r.PLATFORM.noop)}}),Xe=e.RelativeViewStrategy=(ae=Qe(),ae(ue=function(){function e(e){this.path=e,this.absolutePath=null}return e.prototype.loadViewFactory=function(e,t,n,r){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,i.relativeToFile)(this.path,this.moduleId)),t.associatedModuleId=this.moduleId,e.loadViewFactory(this.absolutePath||this.path,t,n,r)},e.prototype.makeRelativeTo=function(e){null===this.absolutePath&&(this.absolutePath=(0,i.relativeToFile)(this.path,e))},e}())||ue),Je=e.ConventionalViewStrategy=(ce=Qe(),ce(le=function(){function e(e,t){this.moduleId=t.moduleId,this.viewUrl=e.convertOriginToViewUrl(t)}return e.prototype.loadViewFactory=function(e,t,n,r){return t.associatedModuleId=this.moduleId,e.loadViewFactory(this.viewUrl,t,n,r)},e}())||le),Ze=e.NoViewStrategy=(de=Qe(),de(fe=function(){function e(e,t){this.dependencies=e||null,this.dependencyBaseUrl=t||""}return e.prototype.loadViewFactory=function(e,t,n,r){var i=this.entry,s=this.dependencies;if(i&&i.factoryIsReady)return Promise.resolve(null);if(this.entry=i=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),i.dependencies=[],i.templateIsLoaded=!0,null!==s)for(var a=0,u=s.length;a<u;++a){var c=s[a];"string"==typeof c||"function"==typeof c?i.addDependency(c):i.addDependency(c.from,c.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(i,t,n,r)},e}())||fe),et=e.TemplateRegistryViewStrategy=(he=Qe(),he(pe=function(){function e(e,t){this.moduleId=e,this.entry=t}return e.prototype.loadViewFactory=function(e,t,n,r){var i=this.entry;return i.factoryIsReady?Promise.resolve(i.factory):(t.associatedModuleId=this.moduleId,e.loadViewFactory(i,t,n,r))},e}())||pe),tt=e.InlineViewStrategy=(ve=Qe(),ve(ge=function(){function e(e,t,n){this.markup=e,this.dependencies=t||null,this.dependencyBaseUrl=n||""}return e.prototype.loadViewFactory=function(e,t,n,i){var s=this.entry,a=this.dependencies;if(s&&s.factoryIsReady)return Promise.resolve(s.factory);if(this.entry=s=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),s.template=r.DOM.createTemplateFromMarkup(this.markup),null!==a)for(var u=0,c=a.length;u<c;++u){var l=a[u];"string"==typeof l||"function"==typeof l?s.addDependency(l):s.addDependency(l.from,l.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(s,t,n,i)},e}())||ge),nt=e.ViewLocator=(ye=me=function(){function e(){}return e.prototype.getViewStrategy=function(t){if(!t)return null;if("object"===("undefined"==typeof t?"undefined":Ne(t))&&"getViewStrategy"in t){var r=n.Origin.get(t.constructor);return t=t.getViewStrategy(),"string"==typeof t&&(t=new Xe(t)),Qe.assert(t),r.moduleId&&t.makeRelativeTo(r.moduleId),t}if("string"==typeof t&&(t=new Xe(t)),Qe.validate(t))return t;"function"!=typeof t&&(t=t.constructor);var i=n.Origin.get(t),o=n.metadata.get(e.viewStrategyMetadataKey,t);if(o)i.moduleId&&(o.moduleId=i.moduleId);else{if(!i.moduleId)throw new Error("Cannot determine default view strategy for object.",t);o=this.createFallbackViewStrategy(i)}return o},e.prototype.createFallbackViewStrategy=function(e){return new Je(this,e)},e.prototype.convertOriginToViewUrl=function(e){var t=e.moduleId,n=t.endsWith(".js")||t.endsWith(".ts")?t.substring(0,t.length-3):t;return n+".html"},e}(),me.viewStrategyMetadataKey="aurelia:view-strategy",ye),rt=e.BindingLanguage=function(){function e(){}return e.prototype.inspectAttribute=function(e,t,n,r){p("inspectAttribute")},e.prototype.createAttributeInstruction=function(e,t,n,r){p("createAttributeInstruction")},e.prototype.inspectTextContent=function(e,t){p("inspectTextContent")},e}(),it=Object.freeze([]),ot=e.SlotCustomAttribute=(be=(0,s.inject)(r.DOM.Element),be(we=function(){function e(e){this.element=e,this.element.auSlotAttribute=this}return e.prototype.valueChanged=function(e,t){},e}())||we),st=e.PassThroughSlot=function(){function e(e,t,n,r){this.anchor=e,this.anchor.viewSlot=this,this.name=t,this.destinationName=n,this.fallbackFactory=r,this.destinationSlot=null,this.projections=0,this.contentView=null;var i=new ot(this.anchor);i.value=this.destinationName}return e.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var i=Object.create(null);i[this.destinationSlot.name]=this.destinationSlot,ut.distributeView(this.contentView,i,n,r,this.destinationSlot.name)}},e.prototype.passThroughTo=function(e){this.destinationSlot=e},e.prototype.addNode=function(t,n,r,i){return null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),n.viewSlot instanceof e?void n.viewSlot.passThroughTo(this):(this.projections++,void this.destinationSlot.addNode(t,n,r,i))},e.prototype.removeView=function(e,t){this.projections--,this.destinationSlot.removeView(e,t),this.needsFallbackRendering&&this.renderFallbackContent(null,it,t)},e.prototype.removeAll=function(e){this.projections=0,this.destinationSlot.removeAll(e),this.needsFallbackRendering&&this.renderFallbackContent(null,it,e)},e.prototype.projectFrom=function(e,t){this.destinationSlot.projectFrom(e,t)},e.prototype.created=function(e){this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Fe(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),at=e.ShadowSlot=function(){function e(e,t,n){this.anchor=e,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=t,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return e.prototype.addNode=function(e,t,n,r,i){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),t.viewSlot instanceof st)return void t.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)ut.distributeNodes(e,[t],this.destinationSlots,this,r);else{t.auOwnerView=e,t.auProjectionSource=n,t.auAssignedSlot=this;var o=this._findAnchor(e,t,n,r),s=o.parentNode;s.insertBefore(t,o),this.children.push(t),this.projections++}},e.prototype.removeView=function(e,t){if(null!==this.destinationSlots)ut.undistributeView(e,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ut.undistributeView(e,this.contentView.slots,t);else{var n=this.children.find(function(e){return e.auSlotProjectFrom===t});if(n){for(var r=n.auProjectionChildren,i=0,o=r.length;i<o;++i){var s=r[i];s.auOwnerView===e&&(r.splice(i,1),e.fragment.appendChild(s),i--,o--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(e,it,t)}}},e.prototype.removeAll=function(e){if(null!==this.destinationSlots)ut.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ut.undistributeAll(this.contentView.slots,e);else{var t=this.children.find(function(t){return t.auSlotProjectFrom===e});if(t){for(var n=t.auProjectionChildren,r=0,i=n.length;r<i;++r){var o=n[r];o.auOwnerView.fragment.appendChild(o),this.projections--}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,it,e)}}},e.prototype._findAnchor=function(e,t,n,r){if(n){var i=this.children.find(function(e){return e.auSlotProjectFrom===n});if(i){if(void 0!==r)for(var o=i.auProjectionChildren,s=-1,a=void 0,u=0,c=o.length;u<c;++u){var l=o[u];if(l.auOwnerView!==a&&(s++,a=l.auOwnerView,s>=r&&a!==e))return o.splice(u,0,t),l}return i.auProjectionChildren.push(t),i}}return this.anchor},e.prototype.projectTo=function(e){this.destinationSlots=e},e.prototype.projectFrom=function(e,t){var n=r.DOM.createComment("anchor"),i=this.anchor.parentNode;n.auSlotProjectFrom=t,n.auOwnerView=e,n.auProjectionChildren=[],i.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},e.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var i=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var s in i)for(var a=i[s],u=0,c=o.length;u<c;++u){var l=o[u];a.projectFrom(l.auOwnerView,l.auSlotProjectFrom)}this.fallbackSlots=i,ut.distributeNodes(e,t,i,n,r)}},e.prototype.created=function(e){
this.ownerView=e},e.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},e.prototype.attached=function(){this.contentView&&this.contentView.attached()},e.prototype.detached=function(){this.contentView&&this.contentView.detached()},e.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Fe(e,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),e}(),ut=e.ShadowDOM=(xe=_e=function(){function e(){}return e.getSlotName=function(t){return void 0===t.auSlotAttribute?e.defaultSlotKey:t.auSlotAttribute.value},e.distributeView=function(t,n,r,i,o){var s=void 0;if(null===t)s=it;else{var a=t.fragment.childNodes,u=a.length;s=new Array(u);for(var c=0;c<u;++c)s[c]=a[c]}e.distributeNodes(t,s,n,r,i,o)},e.undistributeView=function(e,t,n){for(var r in t)t[r].removeView(e,n)},e.undistributeAll=function(e,t){for(var n in e)e[n].removeAll(t)},e.distributeNodes=function(t,n,r,i,o,s){for(var a=0,u=n.length;a<u;++a){var c=n[a],l=c.nodeType;if(c.isContentProjectionSource){c.viewSlot.projectTo(r);for(var d in r)r[d].projectFrom(t,c.viewSlot);n.splice(a,1),u--,a--}else if(1===l||3===l||c.viewSlot instanceof st)if(3===l&&f(c))n.splice(a,1),u--,a--;else{var h=r[s||e.getSlotName(c)];h&&(h.addNode(t,c,i,o),n.splice(a,1),u--,a--)}else n.splice(a,1),u--,a--}for(var p in r){var v=r[p];v.needsFallbackRendering&&v.renderFallbackContent(t,n,i,o)}},e}(),_e.defaultSlotKey="__au-default-slot-key__",xe),ct=e.ViewResources=function(){function e(e,t){this.bindingLanguage=null,this.parent=e||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return e.prototype._tryAddHook=function(e,t){if("function"==typeof e[t]){for(var n=e[t].bind(e),r=1,i=void 0;void 0!==this[i=t+r.toString()];)r++;this[t]=!0,this[i]=n}},e.prototype._invokeHook=function(e,t,n,r,i){if(this.hasParent&&this.parent._invokeHook(e,t,n,r,i),this[e]){this[e+"1"](t,n,r,i);var o=e+"2";if(this[o]&&(this[o](t,n,r,i),o=e+"3",this[o])){this[o](t,n,r,i);for(var s=4;void 0!==this[o=e+s.toString()];)this[o](t,n,r,i),s++}}},e.prototype.registerViewEngineHooks=function(e){this._tryAddHook(e,"beforeCompile"),this._tryAddHook(e,"afterCompile"),this._tryAddHook(e,"beforeCreate"),this._tryAddHook(e,"afterCreate"),this._tryAddHook(e,"beforeBind"),this._tryAddHook(e,"beforeUnbind")},e.prototype.getBindingLanguage=function(e){return this.bindingLanguage||(this.bindingLanguage=e)},e.prototype.patchInParent=function(e){var t=this.parent;this.parent=e||null,this.hasParent=null!==this.parent,null===e.parent&&(e.parent=t,e.hasParent=null!==t)},e.prototype.relativeToView=function(e){return(0,i.relativeToFile)(e,this.viewUrl)},e.prototype.registerElement=function(e,t){v(this.elements,e,t,"an Element")},e.prototype.getElement=function(e){return this.elements[e]||(this.hasParent?this.parent.getElement(e):null)},e.prototype.mapAttribute=function(e){return this.attributeMap[e]||(this.hasParent?this.parent.mapAttribute(e):null)},e.prototype.registerAttribute=function(e,t,n){this.attributeMap[e]=n,v(this.attributes,e,t,"an Attribute")},e.prototype.getAttribute=function(e){return this.attributes[e]||(this.hasParent?this.parent.getAttribute(e):null)},e.prototype.registerValueConverter=function(e,t){v(this.valueConverters,e,t,"a ValueConverter")},e.prototype.getValueConverter=function(e){return this.valueConverters[e]||(this.hasParent?this.parent.getValueConverter(e):null)},e.prototype.registerBindingBehavior=function(e,t){v(this.bindingBehaviors,e,t,"a BindingBehavior")},e.prototype.getBindingBehavior=function(e){return this.bindingBehaviors[e]||(this.hasParent?this.parent.getBindingBehavior(e):null)},e.prototype.registerValue=function(e,t){v(this.values,e,t,"a value")},e.prototype.getValue=function(e){return this.values[e]||(this.hasParent?this.parent.getValue(e):null)},e}(),lt=e.View=function(){function e(e,t,n,r,i,o,s){this.container=e,this.viewFactory=t,this.resources=t.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=r,this.bindings=i,this.children=o,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null;for(var a in s){this.hasSlots=!0;break}}return e.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},e.prototype.created=function(){var e=void 0,t=void 0,n=this.controllers;for(e=0,t=n.length;e<t;++e)n[e].created(this)},e.prototype.bind=function(e,t,n){var r=void 0,i=void 0,o=void 0,s=void 0,u=void 0;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e,this.overrideContext=t||(0,a.createOverrideContext)(e),this.resources._invokeHook("beforeBind",this),i=this.bindings,s=0,u=i.length;s<u;++s)i[s].bind(this);for(null!==this.viewModelScope&&(e.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),r=this.controllers,s=0,u=r.length;s<u;++s)r[s].bind(this);for(o=this.children,s=0,u=o.length;s<u;++s)o[s].bind(e,t,!0);this.hasSlots&&ut.distributeView(this.contentView,this.slots)}},e.prototype.addBinding=function(e){this.bindings.push(e),this.isBound&&e.bind(this)},e.prototype.unbind=function(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),t=this.bindings,r=0,i=t.length;r<i;++r)t[r].unbind();for(e=this.controllers,r=0,i=e.length;r<i;++r)e[r].unbind();for(n=this.children,r=0,i=n.length;r<i;++r)n[r].unbind();this.bindingContext=null,this.overrideContext=null}},e.prototype.insertNodesBefore=function(e){e.parentNode.insertBefore(this.fragment,e)},e.prototype.appendNodesTo=function(e){e.appendChild(this.fragment)},e.prototype.removeNodes=function(){for(var e=this.fragment,t=this.firstChild,n=this.lastChild,r=void 0;t&&(r=t.nextSibling,e.appendChild(t),t!==n);)t=r},e.prototype.attached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),e=this.controllers,n=0,r=e.length;n<r;++n)e[n].attached();for(t=this.children,n=0,r=t.length;n<r;++n)t[n].attached()}},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),e=this.controllers,n=0,r=e.length;n<r;++n)e[n].detached();for(t=this.children,n=0,r=t.length;n<r;++n)t[n].detached()}},e}(),dt=e.ViewSlot=function(){function e(e,t){var n=arguments.length<=2||void 0===arguments[2]?qe.instance:arguments[2];this.anchor=e,this.anchorIsContainer=t,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,e.viewSlot=this,e.isContentProjectionSource=!1}return e.prototype.animateView=function(e){var t=arguments.length<=1||void 0===arguments[1]?"enter":arguments[1],n=g(e);if(null!==n)switch(t){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+t)}},e.prototype.transformChildNodesIntoView=function(){var e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache:function(){},removeNodes:function(){for(var t=void 0;t=e.lastChild;)e.removeChild(t)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},e.prototype.bind=function(e,t){var n=void 0,r=void 0,i=void 0;if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e=e||this.bindingContext,this.overrideContext=t=t||this.overrideContext,i=this.children,n=0,r=i.length;n<r;++n)i[n].bind(e,t,!0)},e.prototype.unbind=function(){if(this.isBound){var e=void 0,t=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=n.length;e<t;++e)n[e].unbind()}},e.prototype.add=function(e){if(this.anchorIsContainer?e.appendNodesTo(this.anchor):e.insertNodesBefore(this.anchor),this.children.push(e),this.isAttached)return e.attached(),this.animateView(e,"enter")},e.prototype.insert=function(e,t){var n=this.children,r=n.length;return 0===e&&0===r||e>=r?this.add(t):(t.insertNodesBefore(n[e].firstChild),n.splice(e,0,t),this.isAttached?(t.attached(),this.animateView(t,"enter")):void 0)},e.prototype.move=function(e,t){if(e!==t){var n=this.children,r=n[e];r.removeNodes(),r.insertNodesBefore(n[t].firstChild),n.splice(e,1),n.splice(t,0,r)}},e.prototype.remove=function(e,t,n){return this.removeAt(this.children.indexOf(e),t,n)},e.prototype.removeMany=function(e,t,n){var r=this,i=this.children,o=e.length,s=void 0,a=[];e.forEach(function(e){if(n)return void e.removeNodes();var t=r.animateView(e,"leave");t?a.push(t.then(function(){return e.removeNodes()})):e.removeNodes()});var u=function(){if(r.isAttached)for(s=0;s<o;++s)e[s].detached();if(t)for(s=0;s<o;++s)e[s].returnToCache();for(s=0;s<o;++s){var n=i.indexOf(e[s]);n>=0&&i.splice(n,1)}};return a.length>0?Promise.all(a).then(function(){return u()}):u()},e.prototype.removeAt=function(e,t,n){var r=this,i=this.children[e],o=function(){return e=r.children.indexOf(i),i.removeNodes(),r.children.splice(e,1),r.isAttached&&i.detached(),t&&i.returnToCache(),i};if(!n){var s=this.animateView(i,"leave");if(s)return s.then(function(){return o()})}return o()},e.prototype.removeAll=function(e,t){var n=this,r=this.children,i=r.length,o=void 0,s=[];r.forEach(function(e){if(t)return void e.removeNodes();var r=n.animateView(e,"leave");r?s.push(r.then(function(){return e.removeNodes()})):e.removeNodes()});var a=function(){if(n.isAttached)for(o=0;o<i;++o)r[o].detached();if(e)for(o=0;o<i;++o)r[o].returnToCache();n.children=[]};return s.length>0?Promise.all(s).then(function(){return a()}):a()},e.prototype.attached=function(){var e=void 0,t=void 0,n=void 0,r=void 0;if(!this.isAttached)for(this.isAttached=!0,n=this.children,e=0,t=n.length;e<t;++e)r=n[e],r.attached(),this.animateView(r,"enter")},e.prototype.detached=function(){var e=void 0,t=void 0,n=void 0;if(this.isAttached)for(this.isAttached=!1,n=this.children,e=0,t=n.length;e<t;++e)n[e].detached()},e.prototype.projectTo=function(e){var t=this;this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(n){return ut.distributeView(n,e,t)})},e.prototype._projectionAdd=function(e){ut.distributeView(e,this.projectToSlots,this),this.children.push(e),this.isAttached&&e.attached()},e.prototype._projectionInsert=function(e,t){0===e&&!this.children.length||e>=this.children.length?this.add(t):(ut.distributeView(t,this.projectToSlots,this,e),this.children.splice(e,0,t),this.isAttached&&t.attached())},e.prototype._projectionMove=function(e,t){if(e!==t){var n=this.children,r=n[e];ut.undistributeView(r,this.projectToSlots,this),ut.distributeView(r,this.projectToSlots,this,t),n.splice(e,1),n.splice(t,0,r)}},e.prototype._projectionRemove=function(e,t){ut.undistributeView(e,this.projectToSlots,this),this.children.splice(this.children.indexOf(e),1),this.isAttached&&e.detached()},e.prototype._projectionRemoveAt=function(e,t){var n=this.children[e];ut.undistributeView(n,this.projectToSlots,this),this.children.splice(e,1),this.isAttached&&n.detached()},e.prototype._projectionRemoveMany=function(e,t){var n=this;e.forEach(function(e){return n.remove(e,t)})},e.prototype._projectionRemoveAll=function(e){ut.undistributeAll(this.projectToSlots,this);var t=this.children;if(this.isAttached)for(var n=0,r=t.length;n<r;++n)t[n].detached();this.children=[]},e}(),ft=(0,s.resolver)(Se=function(){function e(){}return e.prototype.get=function(e,t){var n=t.__providerId__;return n in e?e[n]:e[n]=e.invoke(t)},e}())||Se,ht=new ft,pt=e.BoundViewFactory=function(){function e(e,t,n){this.parentContainer=e,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:n}}return e.prototype.create=function(){var e=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return e._isUserControlled=!0,e},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},Fe(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),vt=e.ViewFactory=function(){function e(e,t,n){this.isCaching=!1,this.template=e,this.instructions=t,this.resources=n,this.cacheSize=-1,this.cache=null}return e.prototype.setCacheSize=function(e,t){e&&("*"===e?e=Number.MAX_VALUE:"string"==typeof e&&(e=parseInt(e,10))),this.cacheSize!==-1&&t||(this.cacheSize=e),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},e.prototype.getCachedView=function(){return null!==this.cache?this.cache.pop()||null:null},e.prototype.returnViewToCache=function(e){e.isAttached&&e.detached(),e.isBound&&e.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(e.fromCache=!0,this.cache.push(e))},e.prototype.create=function(e,t,n){t=t||Ge.normal;var r=this.getCachedView();if(null!==r)return r;var i=t.enhance?this.template:this.template.cloneNode(!0),o=i.querySelectorAll(".au-target"),s=this.instructions,a=this.resources,u=[],c=[],l=[],d=Object.create(null),f={root:e},h=t.partReplacements,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0;for(this.resources._invokeHook("beforeCreate",this,e,i,t),n&&null!==this.surrogateInstruction&&S(e,n,this.surrogateInstruction,u,c,l),t.enhance&&i.hasAttribute("au-target-id")&&(m=i,y=s[m.getAttribute("au-target-id")],w(f,m,y,u,c,l,d,h,a)),p=0,v=o.length;p<v;++p)m=o[p],y=s[m.getAttribute("au-target-id")],w(f,m,y,u,c,l,d,h,a);return g=new lt(e,this,i,u,c,l,d),t.initiatedByBehavior||g.created(),this.resources._invokeHook("afterCreate",g),g},e}(),gt=0,mt=0,yt=e.ViewCompiler=(ke=(0,s.inject)(rt,ct),ke(Ce=function(){function e(e,t){this.bindingLanguage=e,this.resources=t}return e.prototype.compile=function(e,t,n){t=t||this.resources,n=n||$e.normal,e="string"==typeof e?r.DOM.createTemplateFromMarkup(e):e;var i=void 0,o=void 0,s=void 0;e.content?(o=e.getAttribute("part"),s=e.getAttribute("view-cache"),i=r.DOM.adoptNode(e.content)):i=e,n.targetShadowDOM=n.targetShadowDOM&&r.FEATURE.shadowDOM,t._invokeHook("beforeCompile",i,t,n);var a={};this._compileNode(i,t,a,e,"root",!n.targetShadowDOM);var u=i.firstChild;if(u&&1===u.nodeType){var c=u.getAttribute("au-target-id");if(c){var l=a[c];(l.shadowSlot||l.lifting)&&i.insertBefore(r.DOM.createComment("view"),u)}}var d=new vt(i,a,t);return d.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(e,t):null,d.part=o,s&&d.setCacheSize(s),t._invokeHook("afterCompile",d),d},e.prototype._compileNode=function(e,t,n,i,o,s){switch(e.nodeType){case 1:return this._compileElement(e,t,n,i,o,s);case 3:var a=t.getBindingLanguage(this.bindingLanguage).inspectTextContent(t,e.wholeText);if(a){var u=r.DOM.createElement("au-marker"),c=T(u);for((e.parentNode||i).insertBefore(u,e),e.textContent=" ",n[c]=Ke.contentExpression(a);e.nextSibling&&3===e.nextSibling.nodeType;)(e.parentNode||i).removeChild(e.nextSibling)}else for(;e.nextSibling&&3===e.nextSibling.nodeType;)e=e.nextSibling;return e.nextSibling;case 11:for(var l=e.firstChild;l;)l=this._compileNode(l,t,n,e,o,s)}return e.nextSibling},e.prototype._compileSurrogate=function(e,t){var n=e.tagName.toLowerCase(),r=e.attributes,i=t.getBindingLanguage(this.bindingLanguage),o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=void 0,d=void 0,f=void 0,h=void 0,p=void 0,v=[],g=void 0,m=[],y={},b=!1,w=[];for(u=0,c=r.length;u<c;++u)if(l=r[u],d=l.name,f=l.value,h=i.inspectAttribute(t,n,d,f),p=t.getAttribute(h.attrName),p&&(o=t.mapAttribute(h.attrName),o&&(s=p.attributes[o],s&&(h.defaultBindingMode=s.defaultBindingMode,h.command||h.expression||(h.command=s.hasOptions?"options":null)))),a=i.createAttributeInstruction(t,e,h,void 0,p))if(a.alteredAttr&&(p=t.getAttribute(a.attrName)),a.discrete)v.push(a);else if(p){if(a.type=p,C(a,t),p.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(a)}else v.push(a.attributes[a.attrName]);else if(p){if(a=Ge.attribute(d,p),a.attributes[t.mapAttribute(d)]=f,p.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(a)}else"id"!==d&&"part"!==d&&"replace-part"!==d&&(b=!0,y[d]=f);if(v.length||m.length||b){for(u=0,c=m.length;u<c;++u)a=m[u],a.type.compile(this,t,e,a),w.push(a.type.target);for(u=0,c=v.length;u<c;++u)g=v[u],void 0!==g.attrToRemove&&e.removeAttribute(g.attrToRemove);return Ke.surrogate(w,m,v,y)}return null},e.prototype._compileElement=function(e,t,n,r,i,o){var s=e.tagName.toLowerCase(),a=e.attributes,u=[],c=void 0,l=[],d=[],f=t.getBindingLanguage(this.bindingLanguage),h=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,w=void 0,_=void 0,x=void 0,S=void 0,E=void 0,A=void 0,D=void 0,R=void 0,j=void 0;if("slot"===s)return o&&(e=O(this,t,e,n,i)),e.nextSibling;for("template"===s?(p=this.compile(e,t),p.part=e.getAttribute("part")):(v=t.getElement(e.getAttribute("as-element")||s),v&&(g=Ge.element(e,v),v.processAttributes(this,t,e,a,g),l.push(g))),y=0,b=a.length;y<b;++y)if(w=a[y],_=w.name,x=w.value,E=f.inspectAttribute(t,s,_,x),o&&"slot"===E.attrName&&(E.attrName=_="au-slot"),v=t.getAttribute(E.attrName),m=null,v?(D=t.mapAttribute(E.attrName),D&&(A=v.attributes[D],A&&(E.defaultBindingMode=A.defaultBindingMode,E.command||E.expression||(E.command=A.hasOptions?"options":null)))):g&&(m=g.type.attributes[E.attrName],m&&(E.defaultBindingMode=m.defaultBindingMode)),S=m?f.createAttributeInstruction(t,e,E,g):f.createAttributeInstruction(t,e,E,void 0,v))if(S.alteredAttr&&(v=t.getAttribute(S.attrName)),S.discrete)u.push(S);else if(v){if(S.type=v,C(S,t),v.liftsContent){S.originalAttrName=_,h=S;break}l.push(S)}else m?g.attributes[E.attrName].targetProperty=m.name:u.push(S.attributes[S.attrName]);else if(v){if(S=Ge.attribute(_,v),S.attributes[t.mapAttribute(_)]=x,v.liftsContent){S.originalAttrName=_,h=S;break}l.push(S)}else m&&(g.attributes[_]=x);if(h)h.viewFactory=p,e=h.type.compile(this,t,e,h,r),R=T(e),n[R]=Ke.lifting(i,h);else{if(u.length||l.length){for(j=!!l.length&&k(),y=0,b=l.length;y<b;++y)S=l[y],S.type.compile(this,t,e,S,r),d.push(S.type.target);for(y=0,b=u.length;y<b;++y)c=u[y],void 0!==c.attrToRemove&&e.removeAttribute(c.attrToRemove);R=T(e),n[R]=Ke.normal(j,i,d,l,u,g)}if(g&&g.skipContentProcessing)return e.nextSibling;for(var M=e.firstChild;M;)M=this._compileNode(M,t,n,e,j||i,o)}return e.nextSibling},e}())||Ce),bt=e.ResourceModule=function(){function e(e){this.id=e,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return e.prototype.initialize=function(e){var t=this.mainResource,n=this.resources,r=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==t&&(t.metadata.viewStrategy=r,t.initialize(e));for(var i=0,o=n.length;i<o;++i)t=n[i],t.metadata.viewStrategy=r,t.initialize(e)}},e.prototype.register=function(e,t){var n=this.mainResource,r=this.resources;void 0!==n&&(n.register(e,t),t=null);for(var i=0,o=r.length;i<o;++i)r[i].register(e,t),t=null},e.prototype.load=function(e,t){if(null!==this.onLoaded)return this.loadContext===t?Promise.resolve():this.onLoaded;var n=this.mainResource,r=this.resources,i=void 0;if(void 0!==n){i=new Array(r.length+1),i[0]=n.load(e,t);for(var o=0,s=r.length;o<s;++o)i[o+1]=r[o].load(e,t)}else{i=new Array(r.length);for(var a=0,u=r.length;a<u;++a)i[a]=r[a].load(e,t)}return this.loadContext=t,this.onLoaded=Promise.all(i),this.onLoaded},e}(),wt=e.ResourceDescription=function(){function e(e,t,r){r||(r=n.metadata.get(n.metadata.resource,t),r||(r=new At,r.elementName=d(e),n.metadata.define(n.metadata.resource,r,t))),r instanceof At?void 0===r.elementName?r.elementName=d(e):void 0===r.attributeName?r.attributeName=d(e):null===r.attributeName&&null===r.elementName&&At.convention(e,r):r.name||(r.name=d(e)),this.metadata=r,this.value=t}return e.prototype.initialize=function(e){this.metadata.initialize(e,this.value)},e.prototype.register=function(e,t){this.metadata.register(e,t)},e.prototype.load=function(e,t){return this.metadata.load(e,this.value,t)},e}(),_t=e.ModuleAnalyzer=function(){function e(){this.cache=Object.create(null)}return e.prototype.getAnalysis=function(e){return this.cache[e]},e.prototype.analyze=function(e,t,r){var i=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=[],p=void 0,v=void 0,g=void 0;if(g=this.cache[e])return g;g=new bt(e),this.cache[e]=g,"function"==typeof t&&(t={default:t}),r&&(i=new wt(r,t[r]));for(l in t)f=t[l],l!==r&&"function"==typeof f&&(c=n.metadata.get(n.metadata.resource,f),c?(null===c.attributeName&&null===c.elementName&&At.convention(l,c),null===c.attributeName&&null===c.elementName&&(c.elementName=d(l)),!i&&c instanceof At&&null!==c.elementName?i=new wt(l,f,c):h.push(new wt(l,f,c))):Qe.decorates(f)?v=f:f instanceof o.TemplateRegistryEntry?v=new et(e,f):(p=At.convention(l))?(null===p.elementName||i?h.push(new wt(l,f,p)):i=new wt(l,f,p),n.metadata.define(n.metadata.resource,p,f)):(p=a.ValueConverterResource.convention(l)||a.BindingBehaviorResource.convention(l)||Ue.convention(l))?(h.push(new wt(l,f,p)),n.metadata.define(n.metadata.resource,p,f)):s||(s=f,u=l));return!i&&s&&(i=new wt(u,s)),g.moduleInstance=t,g.mainResource=i,g.resources=h,g.viewStrategy=v,g},e}(),xt=Le.getLogger("templating"),St=function(){function e(e){var t=this;e.then(function(e){return t.viewFactory=e})}return e.prototype.create=function(e,t,n,r){return this.viewFactory.create(e,t,n,r)},e.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},e.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},e.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},Fe(e,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),e}(),kt=e.ViewEngine=(Ee=(0,s.inject)(o.Loader,s.Container,yt,_t,ct),Ee((Ae=Oe=function(){function e(e,t,n,r,i){this.loader=e,this.container=t,this.viewCompiler=n,this.moduleAnalyzer=r,this.appResources=i,this._pluginMap={};var o=new At;o.attributeName="au-slot",o.initialize(t,ot),o.register(i)}return e.prototype.addResourcePlugin=function(e,t){var n=e.replace(".","")+"-resource-plugin";this._pluginMap[e]=n,this.loader.addPlugin(n,t)},e.prototype.loadViewFactory=function(e,t,n,r){var i=this;return n=n||new Ye,A(this.loader,e).then(function(o){return o.onReady?n.hasDependency(e)?null===o.template?o.onReady:Promise.resolve(new St(o.onReady)):(n.addDependency(e),o.onReady):(n.addDependency(e),o.onReady=i.loadTemplateResources(o,t,n,r).then(function(e){if(o.resources=e,null===o.template)return o.factory=null;var n=i.viewCompiler.compile(o.template,e,t);return o.factory=n}),o.onReady)})},e.prototype.loadTemplateResources=function(t,r,o,s){var a=new ct(this.appResources,t.address),u=t.dependencies,c=void 0,l=void 0;if(r=r||$e.normal,0===u.length&&!r.associatedModuleId)return Promise.resolve(a);if(c=u.map(function(e){return e.src}),l=u.map(function(e){return e.name}),xt.debug("importing resources for "+t.address,c),s){var d=n.metadata.get(e.viewModelRequireMetadataKey,s);if(d){for(var f=c.length,h=0,p=d.length;h<p;++h){var v=d[h],g="function"==typeof v?n.Origin.get(v).moduleId:(0,i.relativeToFile)(v.src||v,t.address);c.indexOf(g)===-1&&(c.push(g),l.push(v.as))}xt.debug("importing ViewModel resources for "+r.associatedModuleId,c.slice(f))}}return this.importViewResources(c,l,a,r,o)},e.prototype.importViewModelResource=function(e,t){var r=this;return this.loader.loadModule(e).then(function(i){var o=n.Origin.get(i).moduleId,s=r.moduleAnalyzer.analyze(o,i,t);if(!s.mainResource)throw new Error('No view model found in module "'+e+'".');return s.initialize(r.container),s.mainResource})},e.prototype.importViewResources=function(e,t,r,i,o){var s=this;return o=o||new Ye,i=i||$e.normal,e=e.map(function(e){return s._applyLoaderPlugin(e)}),this.loader.loadAllModules(e).then(function(e){var a=void 0,u=void 0,c=void 0,l=void 0,d=void 0,f=void 0,h=s.container,p=s.moduleAnalyzer,v=new Array(e.length);for(a=0,u=e.length;a<u;++a)d=e[a],l=n.Origin.get(d).moduleId,c=p.analyze(l,d),c.initialize(h),c.register(r,t[a]),v[a]=c;for(i.associatedModuleId&&(f=p.getAnalysis(i.associatedModuleId),f&&f.register(r)),a=0,u=v.length;a<u;++a)v[a]=v[a].load(h,o);return Promise.all(v).then(function(){return r})})},e.prototype._applyLoaderPlugin=function(e){var t=e.lastIndexOf(".");if(t!==-1){var n=e.substring(t),r=this._pluginMap[n];return void 0===r?e:this.loader.applyPluginToUrl(e,r)}return e},e}(),Oe.viewModelRequireMetadataKey="aurelia:view-model-require",Te=Ae))||Te),Ct=e.Controller=function(){function e(e,t,n,r){this.behavior=e,this.instruction=t,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=r,this.elementEvents=r.elementEvents||null;var i=e.observerLocator.getOrCreateObserversLookup(n),o=e.handlesBind,s=t.attributes,a=this.boundProperties=[],u=e.properties,c=void 0,l=void 0;for(e._ensurePropertiesDefined(n,i),c=0,l=u.length;c<l;++c)u[c]._initialize(n,i,s,o,a)}return e.prototype.created=function(e){this.behavior.handlesCreated&&this.viewModel.created(e,this.view)},e.prototype.automate=function(e,t){this.view.bindingContext=this.viewModel,this.view.overrideContext=e||(0,a.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(t||null,this.view),this.bind(this.view)},e.prototype.bind=function(e){var t=this.behavior.handlesBind,n=this.boundProperties,r=void 0,i=void 0,o=void 0,s=void 0,u=void 0;if(this.isBound){if(this.scope===e)return;this.unbind()}for(this.isBound=!0,this.scope=e,r=0,i=n.length;r<i;++r)o=n[r],s=o.observer,u=s.selfSubscriber,s.publishing=!1,t&&(s.selfSubscriber=null),o.binding.bind(e),s.call(),s.publishing=!0,s.selfSubscriber=u;var c=void 0;null!==this.view?(t&&(this.view.viewModelScope=e),this.viewModel===e.overrideContext.bindingContext?c=e.overrideContext:this.instruction.inheritBindingContext?c=(0,a.createOverrideContext)(this.viewModel,e.overrideContext):(c=(0,a.createOverrideContext)(this.viewModel),c.__parentOverrideContext=e.overrideContext),this.view.bind(this.viewModel,c)):t&&(c=e.overrideContext,void 0!==e.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(c=Object.assign({},e.overrideContext),c.parentOverrideContext=e.overrideContext.__parentOverrideContext),this.viewModel.bind(e.bindingContext,c))},e.prototype.unbind=function(){if(this.isBound){var e=this.boundProperties,t=void 0,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),t=0,n=e.length;t<n;++t)e[t].binding.unbind()}},e.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},e.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},e}(),Et=e.BehaviorPropertyObserver=(De=(0,a.subscriberCollection)(),De(Re=function(){function e(e,t,n,r,i){this.taskQueue=e,this.obj=t,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=r,this.currentValue=this.oldValue=i}return e.prototype.getValue=function(){return this.currentValue},e.prototype.setValue=function(e){var t=this.currentValue;t!==e&&(this.oldValue=t,this.currentValue=e,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},e.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.notqueued=!0,t!==e&&(this.selfSubscriber&&this.selfSubscriber(t,e),this.callSubscribers(t,e),this.oldValue=t)},e.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},e.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},e}())||Re),Tt=e.BindableProperty=function(){function e(e){"string"==typeof e?this.name=e:Object.assign(this,e),this.attribute=this.attribute||d(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=a.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return e.prototype.registerWith=function(e,t,n){if(t.properties.push(this),t.attributes[this.attribute]=this,this.owner=t,n)return this.descriptor=n,this._configureDescriptor(t,n)},e.prototype._configureDescriptor=function(e,t){var n=this.name;return t.configurable=!0,t.enumerable=!0,"initializer"in t&&(this.defaultValue=t.initializer,delete t.initializer,delete t.writable),"value"in t&&(this.defaultValue=t.value,delete t.value,delete t.writable),t.get=function(){return D(e,this,n).getValue()},t.set=function(t){D(e,this,n).setValue(t)},t.get.getObserver=function(t){return D(e,t,n)},t},e.prototype.defineOn=function(e,t){var n=this.name,r=void 0;null===this.changeHandler&&(r=n+"Changed",r in e.prototype&&(this.changeHandler=r)),null===this.descriptor&&Object.defineProperty(e.prototype,n,this._configureDescriptor(t,{}))},e.prototype.createObserver=function(e){var t=null,n=this.defaultValue,r=this.changeHandler,i=this.name,o=void 0;if(!this.hasOptions){if(r in e)t="propertyChanged"in e?function(t,n){e[r](t,n),e.propertyChanged(i,t,n)}:function(t,n){return e[r](t,n)};else if("propertyChanged"in e)t=function(t,n){return e.propertyChanged(i,t,n)};else if(null!==r)throw new Error("Change handler "+r+" was specified but not declared on the class.");return void 0!==n&&(o="function"==typeof n?n.call(e):n),new Et(this.owner.taskQueue,e,this.name,t,o)}},e.prototype._initialize=function(e,t,n,r,i){var o=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var c in n)this._createDynamicProperty(e,t,r,c,n[c],i);else this.hasOptions||(s=t[this.name],null!==n&&(o=s.selfSubscriber,a=n[this.attribute],r&&(s.selfSubscriber=null),"string"==typeof a?(e[this.name]=a,s.call()):a?i.push({observer:s,binding:a.createBinding(e)}):void 0!==u&&s.call(),s.selfSubscriber=o),s.publishing=!0)},e.prototype._createDynamicProperty=function(e,t,n,r,i,o){var s=r+"Changed",a=null,u=void 0,c=void 0;s in e?a="propertyChanged"in e?function(t,n){e[s](t,n),e.propertyChanged(r,t,n)}:function(t,n){return e[s](t,n)}:"propertyChanged"in e&&(a=function(t,n){return e.propertyChanged(r,t,n)}),u=t[r]=new Et(this.owner.taskQueue,e,r,a),Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),n&&(u.selfSubscriber=null),"string"==typeof i?(e[r]=i,u.call()):i&&(c={observer:u,binding:i.createBinding(e)},o.push(c)),u.publishing=!0,u.selfSubscriber=a},e}(),Ot=0,At=e.HtmlBehaviorResource=function(){function e(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,
this.processAttributes=M,this.processContent=j,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1}return e.convention=function(t,n){var r=void 0;return t.endsWith("CustomAttribute")&&(r=n||new e,r.attributeName=d(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&(r=n||new e,r.elementName=d(t.substring(0,t.length-13))),r},e.prototype.addChildBinding=function(e){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(e)},e.prototype.initialize=function(e,t){var n=t.prototype,i=this.properties,o=this.attributeName,s=this.attributeDefaultBindingMode,c=void 0,l=void 0,d=void 0;if(!this.isInitialized)if(this.isInitialized=!0,t.__providerId__=R(),this.observerLocator=e.get(a.ObserverLocator),this.taskQueue=e.get(u.TaskQueue),this.target=t,this.usesShadowDOM=this.targetShadowDOM&&r.FEATURE.shadowDOM,this.handlesCreated="created"in n,this.handlesBind="bind"in n,this.handlesUnbind="unbind"in n,this.handlesAttached="attached"in n,this.handlesDetached="detached"in n,this.htmlName=this.elementName||this.attributeName,null!==o)if(0===i.length&&new Tt({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:s}).registerWith(t,this),d=i[0],1===i.length&&"value"===d.name)d.isDynamic=d.hasOptions=this.hasDynamicOptions,d.defineOn(t,this);else{for(c=0,l=i.length;c<l;++c)i[c].defineOn(t,this);d=new Tt({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:s}),d.hasOptions=!0,d.registerWith(t,this)}else for(c=0,l=i.length;c<l;++c)i[c].defineOn(t,this)},e.prototype.register=function(e,t){null!==this.attributeName&&e.registerAttribute(t||this.attributeName,this,this.attributeName),null!==this.elementName&&e.registerElement(t||this.elementName,this)},e.prototype.load=function(e,t,r,i,o){var s=this,a=void 0;return null!==this.elementName?(i=e.get(nt).getViewStrategy(i||this.viewStrategy||t),a=new $e(this.targetShadowDOM,!0),i.moduleId||(i.moduleId=n.Origin.get(t).moduleId),i.loadViewFactory(e.get(kt),a,r,t).then(function(e){return o&&s.viewFactory||(s.viewFactory=e),e})):Promise.resolve(this)},e.prototype.compile=function(e,t,n,i,o){if(this.liftsContent){if(!i.viewFactory){var s=r.DOM.createElement("template"),a=r.DOM.createDocumentFragment(),u=n.getAttribute("view-cache"),c=n.getAttribute("part");n.removeAttribute(i.originalAttrName),r.DOM.replaceNode(s,n,o),a.appendChild(n),i.viewFactory=e.compile(a,t),c&&(i.viewFactory.part=c,n.removeAttribute("part")),u&&(i.viewFactory.setCacheSize(u),n.removeAttribute("view-cache")),n=s}}else if(null!==this.elementName){var l={};if(this.processContent(e,t,n,i)&&n.hasChildNodes()){for(var d=n.firstChild,h=this.usesShadowDOM?null:r.DOM.createElement("au-content"),p=void 0,v=void 0;d;)p=d.nextSibling,"TEMPLATE"===d.tagName&&(v=d.getAttribute("replace-part"))?(l[v]=e.compile(d,t),r.DOM.removeNode(d,o),i.partReplacements=l):null!==h&&(3===d.nodeType&&f(d)?r.DOM.removeNode(d,o):h.appendChild(d)),d=p;null!==h&&h.hasChildNodes()&&n.appendChild(h),i.skipContentProcessing=!1}else i.skipContentProcessing=!0}return n},e.prototype.create=function(e,t,n,i){var o=void 0,s=null;t=t||Ge.normal,n=n||null,i=i||null,null!==this.elementName&&n&&(this.usesShadowDOM?(o=n.attachShadow(this.shadowDOMOptions),e.registerInstance(r.DOM.boundary,o)):(o=n,this.targetShadowDOM&&e.registerInstance(r.DOM.boundary,o))),null!==n&&(n.au=s=n.au||{});var a=t.viewModel||e.get(this.target),u=new Ct(this,t,a,e),c=this.childBindings,l=void 0;if(this.liftsContent)s.controller=u;else if(null!==this.elementName){if(l=t.viewFactory||this.viewFactory,e.viewModel=a,l&&(u.view=l.create(e,t,n)),null!==n){if(s.controller=u,u.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var d=n.childNodes[0]||n.contentElement;u.view.contentView={fragment:d},d.parentNode&&r.DOM.removeNode(d)}if(t.anchorIsContainer){if(null!==c)for(var f=0,h=c.length;f<h;++f)u.view.addBinding(c[f].create(n,a,u));u.view.appendNodesTo(o)}else u.view.insertNodesBefore(o)}else if(null!==c)for(var p=0,v=c.length;p<v;++p)i.push(c[p].create(n,a,u))}else if(u.view){if(u.view.controller=u,null!==c)for(var g=0,m=c.length;g<m;++g)u.view.addBinding(c[g].create(t.host,a,u))}else if(null!==c)for(var y=0,b=c.length;y<b;++y)i.push(c[y].create(t.host,a,u))}else if(null!==c)for(var w=0,_=c.length;w<_;++w)i.push(c[w].create(n,a,u));return null!==s&&(s[this.htmlName]=u),t.initiatedByBehavior&&l&&u.view.created(),u},e.prototype._ensurePropertiesDefined=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(!("__propertiesDefined__"in t))for(t.__propertiesDefined__=!0,n=this.properties,r=0,i=n.length;r<i;++r)o=n[r].createObserver(e),void 0!==o&&(t[o.propertyName]=o)},e}(),Dt=function(){function e(e){this.name=e.name,this.changeHandler=e.changeHandler||this.name+"Changed",this.selector=e.selector,this.all=e.all}return e.prototype.create=function(e,t,n){return new jt(this.selector,e,this.name,t,n,this.changeHandler,this.all)},e}(),Rt=[],jt=function(){function e(e,t,n,r,i,o,s){this.selector=e,this.viewHost=t,this.property=n,this.viewModel=r,this.controller=i,this.changeHandler=o in r?o:null,this.usesShadowDOM=i.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&i.view&&i.view.contentView?this.contentView=i.view.contentView:this.contentView=null}return e.prototype.matches=function(e){if(e.matches(this.selector)){if(null===this.contentView)return!0;var t=this.contentView,n=e.auAssignedSlot;if(n&&n.projectFromAnchors){for(var r=n.projectFromAnchors,i=0,o=r.length;i<o;++i)if(r[i].auOwnerView===t)return!0;return!1}return e.auOwnerView===t}return!1},e.prototype.bind=function(e){var t=this.viewHost,n=this.viewModel,i=t.__childObserver__;if(!i){i=t.__childObserver__=r.DOM.createMutationObserver(N);var o={childList:!0,subtree:!this.usesShadowDOM};i.observe(t,o),i.binders=[]}if(i.binders.push(this),this.usesShadowDOM){var s=t.firstElementChild;if(this.all){var a=n[this.property];for(a?a.length=0:a=n[this.property]=[];s;)this.matches(s)&&a.push(s.au&&s.au.controller?s.au.controller.viewModel:s),s=s.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](Rt)}else for(;s;){if(this.matches(s)){var u=s.au&&s.au.controller?s.au.controller.viewModel:s;this.viewModel[this.property]=u,null!==this.changeHandler&&this.viewModel[this.changeHandler](u);break}s=s.nextElementSibling}}},e.prototype.onRemove=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=n.indexOf(t);return r!==-1&&n.splice(r,1),!0}return!1}return!1},e.prototype.onAdd=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){for(var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=0,i=e.previousElementSibling;i;)this.matches(i)&&r++,i=i.previousElementSibling;return n.splice(r,0,t),!0}this.viewModel[this.property]=t,null!==this.changeHandler&&this.viewModel[this.changeHandler](t)}return!1},e.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},e}(),Mt=e.CompositionEngine=(je=(0,s.inject)(kt,nt),je(Me=function(){function e(e,t){this.viewEngine=e,this.viewLocator=t}return e.prototype._createControllerAndSwap=function(e){function t(t){return Promise.resolve(e.viewSlot.removeAll(!0)).then(function(){return e.currentController&&e.currentController.unbind(),e.viewSlot.add(t.view),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),t})}return this.createController(e).then(function(n){return n.automate(e.overrideContext,e.owningView),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return t(n)}):t(n)})},e.prototype.createController=function(e){var t=this,n=void 0,r=void 0,i=void 0,o=void 0;return this.ensureViewModel(e).then(q).then(function(){n=e.childContainer,r=e.viewModel,i=e.viewModelResource,o=i.metadata;var s=t.viewLocator.getViewStrategy(e.view||r);return e.viewResources&&s.makeRelativeTo(e.viewResources.viewUrl),o.load(n,i.value,null,s,!0)}).then(function(t){return o.create(n,Ge.dynamic(e.host,r,t))})},e.prototype.ensureViewModel=function(e){var t=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then(function(n){return t.autoRegister(n.value),e.host&&t.registerInstance(r.DOM.Element,e.host),e.viewModel=t.viewModel=t.get(n.value),e.viewModelResource=n,e});var i=n.metadata.getOrCreateOwn(n.metadata.resource,At,e.viewModel.constructor);return i.elementName=i.elementName||"dynamic-element",i.initialize(e.container||t,e.viewModel.constructor),e.viewModelResource={metadata:i,value:e.viewModel.constructor},t.viewModel=e.viewModel,Promise.resolve(e)},e.prototype.compose=function(e){e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);var t=e.childContainer.get(Ve),n=t.tryCapture();return n?e.compositionTransactionOwnershipToken=n:e.compositionTransactionNotifier=t.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new $e).then(function(t){var n=t.create(e.childContainer);n.bind(e.bindingContext,e.overrideContext);var r=function(){return Promise.resolve(e.viewSlot.removeAll(!0)).then(function(){return e.viewSlot.add(n),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),n})};return e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(r):r()})):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},e}())||Me),Pt=e.ElementConfigResource=function(){function e(){}return e.prototype.initialize=function(e,t){},e.prototype.register=function(e,t){},e.prototype.load=function(e,t){var n=new t,r=e.get(a.EventManager);r.registerElementConfig(n)},e}(),It={mode:"open"};e.TemplatingEngine=(Pe=(0,s.inject)(s.Container,_t,yt,Mt),Pe(Ie=function(){function e(e,t,n,r){this._container=e,this._moduleAnalyzer=t,this._viewCompiler=n,this._compositionEngine=r,e.registerInstance(qe,qe.instance=new qe)}return e.prototype.configureAnimator=function(e){this._container.unregister(qe),this._container.registerInstance(qe,qe.instance=e)},e.prototype.compose=function(e){return this._compositionEngine.compose(e)},e.prototype.enhance=function(e){e instanceof r.DOM.Element&&(e={element:e});var t={},n=e.resources||this._container.get(ct);this._viewCompiler._compileNode(e.element,n,t,e.element.parentNode,"root",!0);var i=new vt(e.element,t,n),o=e.container||this._container.createChild(),s=i.create(o,Ge.enhance());return s.bind(e.bindingContext||{},e.overrideContext),s},e}())||Ie)}),define("aurelia-templating-binding",["exports","aurelia-logging","aurelia-binding","aurelia-templating"],function(e,t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if("style"===t)m.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(e.parentElement&&"TEXTAREA"===e.parentElement.nodeName&&"textContent"===t)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}function u(e){e.container.registerSingleton(r.BindingLanguage,k),e.container.registerAlias(r.BindingLanguage,k)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingBindingLanguage=e.SyntaxInterpreter=e.ChildInterpolationBinding=e.InterpolationBinding=e.InterpolationBindingExpression=e.AttributeMap=void 0,e.configure=u;var c,l,d,f,h,p,v,g,m=i(t),y=e.AttributeMap=(l=c=function(){function e(e){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=e,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return e.prototype.register=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase();var r=this.elements[e]=this.elements[e]||Object.create(null);r[t]=n},e.prototype.registerUniversal=function(e,t){e=e.toLowerCase(),this.allElements[e]=t},e.prototype.map=function(e,t){if(this.svg.isStandardSvgAttribute(e,t))return t;e=e.toLowerCase(),t=t.toLowerCase();var r=this.elements[e];return void 0!==r&&t in r?r[t]:t in this.allElements?this.allElements[t]:/(^data-)|(^aria-)|:/.test(t)?t:(0,n.camelCase)(t)},e}(),c.inject=[n.SVGAnalyzer],l),b=e.InterpolationBindingExpression=function(){function e(e,t,n,r,i,o){this.observerLocator=e,this.targetProperty=t,this.parts=n,this.mode=r,this.lookupFunctions=i,this.attribute=this.attrToRemove=o,this.discrete=!1}return e.prototype.createBinding=function(e){return 3===this.parts.length?new _(e,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new w(this.observerLocator,this.parts,e,this.targetProperty,this.mode,this.lookupFunctions)},e}(),w=e.InterpolationBinding=function(){function e(e,t,n,r,i,o){a(n,r),this.observerLocator=e,this.parts=t,this.target=n,this.targetProperty=r,this.targetAccessor=e.getAccessor(n,r),this.mode=i,this.lookupFunctions=o}return e.prototype.interpolate=function(){if(this.isBound){for(var e="",t=this.parts,n=0,r=t.length;n<r;n++)e+=n%2===0?t[n]:this["childBinding"+n].value;this.targetAccessor.setValue(e,this.target,this.targetProperty)}},e.prototype.updateOneTimeBindings=function(){for(var e=1,t=this.parts.length;e<t;e+=2){var r=this["childBinding"+e];r.mode===n.bindingMode.oneTime&&r.call()}},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.source=e;for(var t=this.parts,n=1,r=t.length;n<r;n+=2){var i=new _(this,this.observerLocator,t[n],this.mode,this.lookupFunctions);i.bind(e),this["childBinding"+n]=i}this.isBound=!0,this.interpolate()},e.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var e=this.parts,t=1,n=e.length;t<n;t+=2){var r="childBinding"+t;this[r].unbind()}}},e}(),_=e.ChildInterpolationBinding=(d=(0,n.connectable)(),d(f=function(){function e(e,t,n,r,i,o,s,u){e instanceof w?this.parent=e:(a(e,o),this.target=e,this.targetProperty=o,this.targetAccessor=t.getAccessor(e,o)),this.observerLocator=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.left=s,this.right=u}return e.prototype.updateTarget=function(e){e=null===e||void 0===e?"":e.toString(),e!==this.value&&(this.value=e,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+e+this.right,this.target,this.targetProperty))},e.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==n.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},e.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e;var t=this.sourceExpression;t.bind&&t.bind(this,e,this.lookupFunctions),this.rawValue=t.evaluate(e,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===n.bindingMode.oneWay&&(0,n.enqueueBindingConnect)(this)},e.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var e=this.sourceExpression;e.unbind&&e.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},e.prototype.connect=function(e){this.isBound&&(e&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},e}())||f),x=e.SyntaxInterpreter=(p=h=function(){function e(e,t,n,r){this.parser=e,this.observerLocator=t,this.eventManager=n,this.attributeMap=r}return e.prototype.interpret=function(e,t,n,r,i){return n.command in this?this[n.command](e,t,n,r,i):this.handleUnknownCommand(e,t,n,r,i)},e.prototype.handleUnknownCommand=function(e,t,n,r,i){return m.getLogger("templating-binding").warn("Unknown binding command.",n),r},e.prototype.determineDefaultBindingMode=function(e,t,r){var i=e.tagName.toLowerCase();return"input"===i&&("value"===t||"files"===t)&&"checkbox"!==e.type&&"radio"!==e.type||"input"===i&&"checked"===t&&("checkbox"===e.type||"radio"===e.type)||("textarea"===i||"select"===i)&&"value"===t||("textcontent"===t||"innerhtml"===t)&&"true"===e.contentEditable||"scrolltop"===t||"scrollleft"===t?n.bindingMode.twoWay:r&&t in r.attributes&&r.attributes[t]&&r.attributes[t].defaultBindingMode>=n.bindingMode.oneTime?r.attributes[t].defaultBindingMode:n.bindingMode.oneWay},e.prototype.bind=function(e,t,i,o,s){var a=o||r.BehaviorInstruction.attribute(i.attrName);return a.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),i.defaultBindingMode||this.determineDefaultBindingMode(t,i.attrName,s),e.lookupFunctions),a},e.prototype.trigger=function(e,t,r){return new n.ListenerExpression(this.eventManager,r.attrName,this.parser.parse(r.attrValue),!1,!0,e.lookupFunctions)},e.prototype.delegate=function(e,t,r){return new n.ListenerExpression(this.eventManager,r.attrName,this.parser.parse(r.attrValue),!0,!0,e.lookupFunctions)},e.prototype.call=function(e,t,i,o){var s=o||r.BehaviorInstruction.attribute(i.attrName);return s.attributes[i.attrName]=new n.CallExpression(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),e.lookupFunctions),s},e.prototype.options=function(e,t,n,i,o){var s=i||r.BehaviorInstruction.attribute(n.attrName),a=n.attrValue,u=this.language,c=null,l="",d=void 0,f=void 0,h=void 0,p=!1,v=!1;for(f=0,h=a.length;f<h;++f){if(d=a[f],";"!==d||p)if(":"===d&&null===c)c=l.trim(),l="";else{if("\\"===d){l+=d,v=!0;continue}l+=d,null!==c&&v===!1&&"'"===d&&(p=!p)}else n=u.inspectAttribute(e,"?",c,l.trim()),u.createAttributeInstruction(e,t,n,s,o),s.attributes[n.attrName]||(s.attributes[n.attrName]=n.attrValue),l="",c=null;v=!1}return null!==c&&(n=u.inspectAttribute(e,"?",c,l.trim()),u.createAttributeInstruction(e,t,n,s,o),s.attributes[n.attrName]||(s.attributes[n.attrName]=n.attrValue)),s},e.prototype.for=function(e,t,i,o){var s=void 0,a=void 0,u=void 0,c=void 0,l=void 0;if(c=i.attrValue,l=c.match(/^ *[[].+[\]]/),s=l?c.split("of "):c.split(" of "),2!==s.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return u=o||r.BehaviorInstruction.attribute(i.attrName),l?(a=s[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),u.attributes.key=a[0],u.attributes.value=a[1]):u.attributes.local=s[0],u.attributes.items=new n.BindingExpression(this.observerLocator,"items",this.parser.parse(s[1]),n.bindingMode.oneWay,e.lookupFunctions),u},e.prototype["two-way"]=function(e,t,i,o){var s=o||r.BehaviorInstruction.attribute(i.attrName);return s.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.twoWay,e.lookupFunctions),s},e.prototype["one-way"]=function(e,t,i,o){var s=o||r.BehaviorInstruction.attribute(i.attrName);return s.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.oneWay,e.lookupFunctions),s},e.prototype["one-time"]=function(e,t,i,o){var s=o||r.BehaviorInstruction.attribute(i.attrName);return s.attributes[i.attrName]=new n.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,i.attrName),this.parser.parse(i.attrValue),n.bindingMode.oneTime,e.lookupFunctions),s},e}(),h.inject=[n.Parser,n.ObserverLocator,n.EventManager,y],p),S={},k=e.TemplatingBindingLanguage=(g=v=function(e){function t(t,n,r,i){var s=o(this,e.call(this));return s.parser=t,s.observerLocator=n,s.syntaxInterpreter=r,s.emptyStringExpression=s.parser.parse("''"),r.language=s,s.attributeMap=i,s}return s(t,e),t.prototype.inspectAttribute=function(e,t,r,i){var o=r.split(".");if(S.defaultBindingMode=null,2===o.length)S.attrName=o[0].trim(),S.attrValue=i,S.command=o[1].trim(),"ref"===S.command?(S.expression=new n.NameExpression(this.parser.parse(i),S.attrName,e.lookupFunctions),S.command=null,S.attrName="ref"):S.expression=null;else if("ref"===r)S.attrName=r,S.attrValue=i,S.command=null,S.expression=new n.NameExpression(this.parser.parse(i),"element",e.lookupFunctions);else{S.attrName=r,S.attrValue=i,S.command=null;var s=this.parseInterpolation(e,i);null===s?S.expression=null:S.expression=new b(this.observerLocator,this.attributeMap.map(t,r),s,n.bindingMode.oneWay,e.lookupFunctions,r)}return S},t.prototype.createAttributeInstruction=function(e,t,n,i,o){var s=void 0;if(n.expression){if("ref"===n.attrName)return n.expression;s=i||r.BehaviorInstruction.attribute(n.attrName),s.attributes[n.attrName]=n.expression}else n.command&&(s=this.syntaxInterpreter.interpret(e,t,n,i,o));return s},t.prototype.inspectTextContent=function(e,t){var r=this.parseInterpolation(e,t);return null===r?null:new b(this.observerLocator,"textContent",r,n.bindingMode.oneWay,e.lookupFunctions,"textContent")},t.prototype.parseInterpolation=function(e,t){for(var n=t.indexOf("${",0),r=t.length,i=void 0,o=0,s=0,a=null,u=void 0,c=void 0,l=0;n>=0&&n<r-2;){s=1,u=n,n+=2;do i=t[n],n++,"'"!==i&&'"'!==i?"\\"!==i?null===a&&("{"===i?s++:"}"===i&&s--):n++:null===a?a=i:a===i&&(a=null);while(s>0&&n<r);if(0!==s)break;c=c||[],"\\"===t[u-1]&&"\\"!==t[u-2]?(c[l]=t.substring(o,u-1)+t.substring(u,n),l++,c[l]=this.emptyStringExpression,l++):(c[l]=t.substring(o,u),l++,c[l]=this.parser.parse(t.substring(u+2,n-1)),l++),o=n,n=t.indexOf("${",n)}return 0===l?null:(c[l]=t.substr(o),c)},t}(r.BindingLanguage),v.inject=[n.Parser,n.ObserverLocator,x,y],g)}),define("text",["module"],function(e){"use strict";var t,n,r,i,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,f=c&&(location.port||void 0),h={},p=e.config&&e.config()||{};return t={version:"2.0.9",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(e){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,o=e.indexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return o!==-1&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1,e.length)):t=e,r=n||t,o=r.indexOf("!"),o!==-1&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var o,s,a,u=t.xdRegExp.exec(e);return!u||(o=u[2],s=u[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==n||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==i))},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,p.isBuild&&(h[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText)return void r();p.isBuild=i.isBuild;var o=t.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=n.toUrl(s),u=p.useXhr||t.useXhr;!c||u(a,l,d,f)?t.get(a,function(n){t.finishLoad(e,o.strip,n,r)},function(e){r.error&&r.error(e)}):n([s],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,r)})},write:function(e,n,r,i){if(h.hasOwnProperty(n)){var o=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,n,r,i,o){var s=t.parseName(n),a=s.ext?"."+s.ext:"",u=s.moduleName+a,c=r.toUrl(s.moduleName+a)+".js";t.load(u,r,function(n){var r=function(e){return i(c,e)};r.asModule=function(e,t){return i.asModule(e,c,t)},t.write(e,u,r,o)},o)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),t(i)}catch(e){r(e)}}):"xhr"===p.env||!p.env&&t.createXhr()?t.get=function(e,n,r,i){var o,s=t.createXhr();if(s.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);p.onXhr&&p.onXhr(s,e),s.onreadystatechange=function(t){var i,o;4===s.readyState&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),p.onXhrComplete&&p.onXhrComplete(s,e))},s.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,r,i="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),u="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);u=String(n.toString())}finally{a.close()}t(u)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,i=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,s,a,u={};o&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(a,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),u),s.close(),n.close(),t(u.value)}catch(e){throw new Error((a&&a.path||"")+": "+e)}}),t}),define("aurelia-templating-resources/aurelia-templating-resources",["exports","./compose","./if","./with","./repeat","./show","./hide","./sanitize-html","./replaceable","./focus","aurelia-templating","./css-resource","./html-sanitizer","./attr-binding-behavior","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./binding-signaler","./update-trigger-binding-behavior","./abstract-repeater","./repeat-strategy-locator","./html-resource-plugin","./null-repeat-strategy","./array-repeat-strategy","./map-repeat-strategy","./set-repeat-strategy","./number-repeat-strategy","./repeat-utilities","./analyze-view-factory","./aurelia-hide-style"],function(e,t,n,r,i,o,s,a,u,c,l,d,f,h,p,v,g,m,y,b,w,_,x,S,k,C,E,T,O,A,D){"use strict";function R(e){(0,D.injectAureliaHideStyleAtHead)(),e.globalResources("./compose","./if","./with","./repeat","./show","./hide","./replaceable","./sanitize-html","./focus","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./update-trigger-binding-behavior","./attr-binding-behavior"),(0,x.configure)(e);var t=e.container.get(l.ViewEngine);t.addResourcePlugin(".css",{fetch:function(e){var t;return t={},t[e]=(0,d._createCSSResource)(e),t}})}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=e.unwrapExpression=e.updateOneTimeBinding=e.isOneTime=e.getItemsSourceExpression=e.updateOverrideContext=e.createFullOverrideContext=e.NumberRepeatStrategy=e.SetRepeatStrategy=e.MapRepeatStrategy=e.ArrayRepeatStrategy=e.NullRepeatStrategy=e.RepeatStrategyLocator=e.AbstractRepeater=e.UpdateTriggerBindingBehavior=e.BindingSignaler=e.SignalBindingBehavior=e.DebounceBindingBehavior=e.ThrottleBindingBehavior=e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=e.AttrBindingBehavior=e.configure=e.Focus=e.Replaceable=e.SanitizeHTMLValueConverter=e.HTMLSanitizer=e.Hide=e.Show=e.Repeat=e.With=e.If=e.Compose=void 0,e.Compose=t.Compose,e.If=n.If,e.With=r.With,e.Repeat=i.Repeat,e.Show=o.Show,e.Hide=s.Hide,e.HTMLSanitizer=f.HTMLSanitizer,e.SanitizeHTMLValueConverter=a.SanitizeHTMLValueConverter,e.Replaceable=u.Replaceable,e.Focus=c.Focus,e.configure=R,e.AttrBindingBehavior=h.AttrBindingBehavior,e.OneTimeBindingBehavior=p.OneTimeBindingBehavior,e.OneWayBindingBehavior=p.OneWayBindingBehavior,e.TwoWayBindingBehavior=p.TwoWayBindingBehavior,e.ThrottleBindingBehavior=v.ThrottleBindingBehavior,e.DebounceBindingBehavior=g.DebounceBindingBehavior,e.SignalBindingBehavior=m.SignalBindingBehavior,e.BindingSignaler=y.BindingSignaler,e.UpdateTriggerBindingBehavior=b.UpdateTriggerBindingBehavior,e.AbstractRepeater=w.AbstractRepeater,e.RepeatStrategyLocator=_.RepeatStrategyLocator,e.NullRepeatStrategy=S.NullRepeatStrategy,e.ArrayRepeatStrategy=k.ArrayRepeatStrategy,e.MapRepeatStrategy=C.MapRepeatStrategy,e.SetRepeatStrategy=E.SetRepeatStrategy,e.NumberRepeatStrategy=T.NumberRepeatStrategy,e.createFullOverrideContext=O.createFullOverrideContext,e.updateOverrideContext=O.updateOverrideContext,e.getItemsSourceExpression=O.getItemsSourceExpression,e.isOneTime=O.isOneTime,e.updateOneTimeBinding=O.updateOneTimeBinding,e.unwrapExpression=O.unwrapExpression,e.viewsRequireLifecycle=A.viewsRequireLifecycle}),define("aurelia-templating-resources",["aurelia-templating-resources/aurelia-templating-resources"],function(e){return e}),define("aurelia-templating-resources/compose",["exports","aurelia-dependency-injection","aurelia-task-queue","aurelia-templating","aurelia-pal"],function(e,t,n,r,i){"use strict";function o(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),
o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function a(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element})}function u(e,t){e.currentInstruction=null,e.compositionEngine.compose(t).then(function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null})}Object.defineProperty(e,"__esModule",{value:!0}),e.Compose=void 0;var c,l,d,f,h,p,v;e.Compose=(c=(0,r.customElement)("compose"),l=(0,t.inject)(i.DOM.Element,t.Container,r.CompositionEngine,r.ViewSlot,r.ViewResources,n.TaskQueue),c(d=(0,r.noView)(d=l((f=function(){function e(e,t,n,r,i,s){o(this,"model",h,this),o(this,"view",p,this),o(this,"viewModel",v,this),this.element=e,this.container=t,this.compositionEngine=n,this.viewSlot=r,this.viewResources=i,this.taskQueue=s,this.currentController=null,this.currentViewModel=null}return e.prototype.created=function(e){this.owningView=e},e.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t,u(this,a(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},e.prototype.unbind=function(e,t){this.bindingContext=null,this.overrideContext=null;var n=!0,r=!0;this.viewSlot.removeAll(n,r)},e.prototype.modelChanged=function(e,t){var n=this;return this.currentInstruction?void(this.currentInstruction.model=e):void this.taskQueue.queueMicroTask(function(){if(n.currentInstruction)return void(n.currentInstruction.model=e);var t=n.currentViewModel;t&&"function"==typeof t.activate&&t.activate(e)})},e.prototype.viewChanged=function(e,t){var n=this,r=a(this,{view:e,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=r):(this.currentInstruction=r,void this.taskQueue.queueMicroTask(function(){return u(n,n.currentInstruction)}))},e.prototype.viewModelChanged=function(e,t){var n=this,r=a(this,{viewModel:e,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=r):(this.currentInstruction=r,void this.taskQueue.queueMicroTask(function(){return u(n,n.currentInstruction)}))},e}(),h=s(f.prototype,"model",[r.bindable],{enumerable:!0,initializer:null}),p=s(f.prototype,"view",[r.bindable],{enumerable:!0,initializer:null}),v=s(f.prototype,"viewModel",[r.bindable],{enumerable:!0,initializer:null}),d=f))||d)||d)||d)}),define("aurelia-templating-resources/if",["exports","aurelia-templating","aurelia-dependency-injection"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.If=void 0;var r,i,o;e.If=(r=(0,t.customAttribute)("if"),i=(0,n.inject)(t.BoundViewFactory,t.ViewSlot),r(o=(0,t.templateController)(o=i(o=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return e.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t,this.valueChanged(this.value)},e.prototype.valueChanged=function(e){var t=this;if(this.__queuedChanges)return void this.__queuedChanges.push(e);var n=this._runValueChanged(e);n instanceof Promise&&!function(){var e=t.__queuedChanges=[],r=function n(){if(!e.length)return void(t.__queuedChanges=void 0);var r=t._runValueChanged(e.shift())||Promise.resolve();r.then(n)};n.then(r)}()},e.prototype._runValueChanged=function(e){var t=this;if(!e){var n=void 0;return null!==this.view&&this.showing&&(n=this.viewSlot.remove(this.view),n instanceof Promise?n.then(function(){return t.view.unbind()}):this.view.unbind()),this.showing=!1,n}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)},e.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},e}())||o)||o)||o)}),define("aurelia-templating-resources/with",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-binding"],function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.With=void 0;var i,o,s;e.With=(i=(0,n.customAttribute)("with"),o=(0,t.inject)(n.BoundViewFactory,n.ViewSlot),i(s=(0,n.templateController)(s=o(s=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return e.prototype.bind=function(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)},e.prototype.valueChanged=function(e){var t=(0,r.createOverrideContext)(e,this.parentOverrideContext);this.view?this.view.bind(e,t):(this.view=this.viewFactory.create(),this.view.bind(e,t),this.viewSlot.add(this.view))},e.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},e}())||s)||s)||s)}),define("aurelia-templating-resources/repeat",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-templating","./repeat-strategy-locator","./repeat-utilities","./analyze-view-factory","./abstract-repeater"],function(e,t,n,r,i,o,s,a){"use strict";function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Repeat=void 0;var f,h,p,v,g,m,y,b;e.Repeat=(f=(0,r.customAttribute)("repeat"),h=(0,t.inject)(r.BoundViewFactory,r.TargetInstruction,r.ViewSlot,r.ViewResources,n.ObserverLocator,i.RepeatStrategyLocator),f(p=(0,r.templateController)(p=h((v=function(e){function t(t,n,r,i,a,l){var d=c(this,e.call(this,{local:"item",viewsRequireLifecycle:(0,s.viewsRequireLifecycle)(t)}));return u(d,"items",g,d),u(d,"local",m,d),u(d,"key",y,d),u(d,"value",b,d),d.viewFactory=t,d.instruction=n,d.viewSlot=r,d.lookupFunctions=i.lookupFunctions,d.observerLocator=a,d.key="key",d.value="value",d.strategyLocator=l,d.ignoreMutation=!1,d.sourceExpression=(0,o.getItemsSourceExpression)(d.instruction,"repeat.for"),d.isOneTime=(0,o.isOneTime)(d.sourceExpression),d.viewsRequireLifecycle=(0,s.viewsRequireLifecycle)(t),d}return l(t,e),t.prototype.call=function(e,t){this[e](this.items,t)},t.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},t.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},t.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},t.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,e)}},t.prototype._getInnerCollection=function(){var e=(0,o.unwrapExpression)(this.sourceExpression);return e?e.evaluate(this.scope,null):null},t.prototype.handleCollectionMutated=function(e,t){this.collectionObserver&&this.strategy.instanceMutated(this,e,t)},t.prototype.handleInnerCollectionMutated=function(e,t){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var r=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return n.ignoreMutation=!1}),r===this.items?this.itemsChanged():this.items=r}},t.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},t.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},t.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var e=this.viewFactory.viewFactory.instructions,t=Object.keys(e),n=0;n<t.length;n++){var r=e[t[n]].expressions;if(r)for(var i=0;n<r.length;n++)if("matcher"===r[i].targetProperty){var o=r[i];return r.splice(i,1),o}}},t.prototype.viewCount=function(){return this.viewSlot.children.length},t.prototype.views=function(){return this.viewSlot.children},t.prototype.view=function(e){return this.viewSlot.children[e]},t.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},t.prototype.addView=function(e,t){var n=this.viewFactory.create();n.bind(e,t),this.viewSlot.add(n)},t.prototype.insertView=function(e,t,n){var r=this.viewFactory.create();r.bind(t,n),this.viewSlot.insert(e,r)},t.prototype.moveView=function(e,t){this.viewSlot.move(e,t)},t.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},t.prototype.removeViews=function(e,t,n){return this.viewSlot.removeMany(e,t,n)},t.prototype.removeView=function(e,t,n){return this.viewSlot.removeAt(e,t,n)},t.prototype.updateBindings=function(e){for(var t=e.bindings.length;t--;)(0,o.updateOneTimeBinding)(e.bindings[t]);for(t=e.controllers.length;t--;)for(var n=e.controllers[t].boundProperties.length;n--;){var r=e.controllers[t].boundProperties[n].binding;(0,o.updateOneTimeBinding)(r)}},t}(a.AbstractRepeater),g=d(v.prototype,"items",[r.bindable],{enumerable:!0,initializer:null}),m=d(v.prototype,"local",[r.bindable],{enumerable:!0,initializer:null}),y=d(v.prototype,"key",[r.bindable],{enumerable:!0,initializer:null}),b=d(v.prototype,"value",[r.bindable],{enumerable:!0,initializer:null}),p=v))||p)||p)||p)}),define("aurelia-templating-resources/repeat-strategy-locator",["exports","./null-repeat-strategy","./array-repeat-strategy","./map-repeat-strategy","./set-repeat-strategy","./number-repeat-strategy"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepeatStrategyLocator=void 0;e.RepeatStrategyLocator=function(){function e(){this.matchers=[],this.strategies=[],this.addStrategy(function(e){return null===e||void 0===e},new t.NullRepeatStrategy),this.addStrategy(function(e){return e instanceof Array},new n.ArrayRepeatStrategy),this.addStrategy(function(e){return e instanceof Map},new r.MapRepeatStrategy),this.addStrategy(function(e){return e instanceof Set},new i.SetRepeatStrategy),this.addStrategy(function(e){return"number"==typeof e},new o.NumberRepeatStrategy)}return e.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},e.prototype.getStrategy=function(e){for(var t=this.matchers,n=0,r=t.length;n<r;++n)if(t[n](e))return this.strategies[n];return null},e}()}),define("aurelia-templating-resources/null-repeat-strategy",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.NullRepeatStrategy=function(){function e(){}return e.prototype.instanceChanged=function(e,t){e.removeAllViews(!0)},e.prototype.getCollectionObserver=function(e,t){},e}()}),define("aurelia-templating-resources/array-repeat-strategy",["exports","./repeat-utilities","aurelia-binding"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayRepeatStrategy=void 0;e.ArrayRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)},e.prototype.instanceChanged=function(e,n){var r=this,i=n.length;if(!n||0===i)return void e.removeAllViews(!0,!e.viewsRequireLifecycle);var o=e.views(),s=o.length;return 0===s?void this._standardProcessInstanceChanged(e,n):void(e.viewsRequireLifecycle?!function(){for(var a=o.slice(0),u=e.local,c=e.matcher(),l=[],d=[],f=0;f<s;f++){var h=a[f],p=h.bindingContext[u];(0,t.indexOf)(n,p,c)===-1?d.push(h):l.push(p)}var v=void 0,g=void 0;l.length>0?(g=e.removeViews(d,!0,!e.viewsRequireLifecycle),v=function(){for(var s=0;s<i;s++){var a=n[s],u=(0,t.indexOf)(l,a,c,s),d=void 0;if(u===-1){var f=(0,t.createFullOverrideContext)(e,n[s],s,i);e.insertView(s,f.bindingContext,f),l.splice(s,0,void 0)}else u===s?(d=o[u],l[u]=void 0):(d=o[u],e.moveView(u,s),l.splice(u,1),l.splice(s,0,void 0));d&&(0,t.updateOverrideContext)(d.overrideContext,s,i)}r._inPlaceProcessItems(e,n)}):(g=e.removeAllViews(!0,!e.viewsRequireLifecycle),v=function(){return r._standardProcessInstanceChanged(e,n)}),g instanceof Promise?g.then(v):v()}():this._inPlaceProcessItems(e,n))},e.prototype._standardProcessInstanceChanged=function(e,n){for(var r=0,i=n.length;r<i;r++){var o=(0,t.createFullOverrideContext)(e,n[r],r,i);e.addView(o.bindingContext,o)}},e.prototype._inPlaceProcessItems=function(e,n){for(var r=n.length,i=e.viewCount();i>r;)i--,e.removeView(i,!0,!e.viewsRequireLifecycle);for(var o=e.local,s=0;s<i;s++){var a=e.view(s),u=s===r-1,c=0!==s&&!u;a.bindingContext[o]===n[s]&&a.overrideContext.$middle===c&&a.overrideContext.$last===u||(a.bindingContext[o]=n[s],a.overrideContext.$middle=c,a.overrideContext.$last=u,e.updateBindings(a))}for(var l=i;l<r;l++){var d=(0,t.createFullOverrideContext)(e,n[l],l,r);e.addView(d.bindingContext,d)}},e.prototype.instanceMutated=function(e,t,r){var i=this;if(e.__queuedSplices){for(var o=0,s=r.length;o<s;++o){var a=r[o],u=a.index,c=a.removed,l=a.addedCount;(0,n.mergeSplice)(e.__queuedSplices,u,c,l)}return void(e.__array=t.slice(0))}var d=this._runSplices(e,t.slice(0),r);d instanceof Promise&&!function(){var t=e.__queuedSplices=[],n=function n(){if(!t.length)return e.__queuedSplices=void 0,void(e.__array=void 0);var r=i._runSplices(e,e.__array,t)||Promise.resolve();t=e.__queuedSplices=[],r.then(n)};d.then(n)}()},e.prototype._runSplices=function(e,n,r){for(var i=this,o=0,s=[],a=0,u=r.length;a<u;++a){for(var c=r[a],l=c.removed,d=0,f=l.length;d<f;++d){var h=e.removeView(c.index+o+s.length,!0);h instanceof Promise&&s.push(h)}o-=c.addedCount}if(s.length>0)return Promise.all(s).then(function(){var o=i._handleAddedSplices(e,n,r);(0,t.updateOverrideContexts)(e.views(),o)});var p=this._handleAddedSplices(e,n,r);(0,t.updateOverrideContexts)(e.views(),p)},e.prototype._handleAddedSplices=function(e,n,r){for(var i=void 0,o=void 0,s=n.length,a=0,u=r.length;a<u;++a){var c=r[a],l=i=c.index,d=c.index+c.addedCount;for(("undefined"==typeof o||null===o||o>c.index)&&(o=i);l<d;++l){var f=(0,t.createFullOverrideContext)(e,n[l],l,s);e.insertView(l,f.bindingContext,f)}}return o},e}()}),define("aurelia-templating-resources/repeat-utilities",["exports","aurelia-binding"],function(e,t){"use strict";function n(e,t){var n=e.length;for(t>0&&(t-=1);t<n;++t)i(e[t].overrideContext,t,n)}function r(e,n,r,o,s){var a={},u=(0,t.createOverrideContext)(a,e.scope.overrideContext);return"undefined"!=typeof s?(a[e.key]=s,a[e.value]=n):a[e.local]=n,i(u,r,o),u}function i(e,t,n){var r=0===t,i=t===n-1,o=t%2===0;e.$index=t,e.$first=r,e.$last=i,e.$middle=!(r||i),e.$odd=!o,e.$even=o}function o(e,t){return e.behaviorInstructions.filter(function(e){return e.originalAttrName===t})[0].attributes.items.sourceExpression}function s(e){for(var n=!1;e instanceof t.BindingBehavior;)e=e.expression;for(;e instanceof t.ValueConverter;)e=e.expression,n=!0;return n?e:null}function a(e){for(;e instanceof t.BindingBehavior;){if("oneTime"===e.name)return!0;e=e.expression}return!1}function u(e){e.call&&e.mode===l?e.call(t.sourceContext):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function c(e,t,n,r){if(!n)return e.indexOf(t);for(var i=e.length,o=r||0;o<i;o++)if(n(e[o],t))return o;return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.updateOverrideContexts=n,e.createFullOverrideContext=r,e.updateOverrideContext=i,e.getItemsSourceExpression=o,e.unwrapExpression=s,e.isOneTime=a,e.updateOneTimeBinding=u,e.indexOf=c;var l=t.bindingMode.oneTime}),define("aurelia-templating-resources/map-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapRepeatStrategy=void 0;e.MapRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(e,t)}):void this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=0,i=void 0;n.forEach(function(o,s){i=(0,t.createFullOverrideContext)(e,o,r,n.size,s),e.addView(i.bindingContext,i),++r})},e.prototype.instanceMutated=function(e,n,r){var i=void 0,o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=[],d=void 0;for(o=0,s=r.length;o<s;++o)switch(c=r[o],i=c.key,c.type){case"update":u=this._getViewIndexByKey(e,i),d=e.removeView(u,!0,!e.viewsRequireLifecycle),d instanceof Promise&&l.push(d),a=(0,t.createFullOverrideContext)(e,n.get(i),u,n.size,i),e.insertView(u,a.bindingContext,a);break;case"add":a=(0,t.createFullOverrideContext)(e,n.get(i),n.size-1,n.size,i),e.insertView(n.size-1,a.bindingContext,a);break;case"delete":if(void 0===c.oldValue)return;u=this._getViewIndexByKey(e,i),d=e.removeView(u,!0,!e.viewsRequireLifecycle),d instanceof Promise&&l.push(d);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}l.length>0?Promise.all(l).then(function(){(0,t.updateOverrideContexts)(e.views(),0)}):(0,t.updateOverrideContexts)(e.views(),0)},e.prototype._getViewIndexByKey=function(e,t){var n=void 0,r=void 0,i=void 0;for(n=0,r=e.viewCount();n<r;++n)if(i=e.view(n),i.bindingContext[e.key]===t)return n},e}()}),define("aurelia-templating-resources/set-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetRepeatStrategy=void 0;e.SetRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(e,t)}):void this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=0,i=void 0;n.forEach(function(o){i=(0,t.createFullOverrideContext)(e,o,r,n.size),e.addView(i.bindingContext,i),++r})},e.prototype.instanceMutated=function(e,n,r){var i=void 0,o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=[],d=void 0;for(o=0,s=r.length;o<s;++o)switch(c=r[o],i=c.value,c.type){case"add":a=(0,t.createFullOverrideContext)(e,i,n.size-1,n.size),e.insertView(n.size-1,a.bindingContext,a);break;case"delete":u=this._getViewIndexByValue(e,i),d=e.removeView(u,!0,!e.viewsRequireLifecycle),d instanceof Promise&&l.push(d);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}l.length>0?Promise.all(l).then(function(){(0,t.updateOverrideContexts)(e.views(),0)}):(0,t.updateOverrideContexts)(e.views(),0)},e.prototype._getViewIndexByValue=function(e,t){var n=void 0,r=void 0,i=void 0;for(n=0,r=e.viewCount();n<r;++n)if(i=e.view(n),i.bindingContext[e.local]===t)return n},e}()}),define("aurelia-templating-resources/number-repeat-strategy",["exports","./repeat-utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberRepeatStrategy=void 0;e.NumberRepeatStrategy=function(){function e(){}return e.prototype.getCollectionObserver=function(){return null},e.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(e,t)}):void this._standardProcessItems(e,t)},e.prototype._standardProcessItems=function(e,n){var r=e.viewCount(),i=void 0,o=void 0,s=void 0,a=void 0;if(n=Math.floor(n),a=r-n,a>0)for(a>r&&(a=r),i=0,o=a;i<o;++i)e.removeView(r-(i+1),!0,!e.viewsRequireLifecycle);else{for(i=r,o=n;i<o;++i)s=(0,t.createFullOverrideContext)(e,i,i,o),e.addView(s.bindingContext,s);(0,t.updateOverrideContexts)(e.views(),0)}},e}()}),define("aurelia-templating-resources/analyze-view-factory",["exports"],function(e){"use strict";function t(e){var t=e.type,n=null!==t.elementName?t.elementName:t.attributeName;return i.indexOf(n)===-1&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&r(t.viewFactory)||e.viewFactory&&r(e.viewFactory)}function n(e){var n=e.behaviorInstructions;if(n)for(var i=n.length;i--;)if(t(n[i]))return!0;return e.viewFactory&&r(e.viewFactory)}function r(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=r(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(var t in e.instructions)if(n(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=r;var i=e.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]}),define("aurelia-templating-resources/abstract-repeater",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AbstractRepeater=function(){function e(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}return e.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},e.prototype.views=function(){throw new Error("subclass must implement `views`")},e.prototype.view=function(e){throw new Error("subclass must implement `view`")},e.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},e.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")},e.prototype.insertView=function(e,t,n){throw new Error("subclass must implement `insertView`")},e.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")},e.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")},e.prototype.removeViews=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.removeView=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")},e}()}),define("aurelia-templating-resources/show",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal","./aurelia-hide-style"],function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Show=void 0;var o,s,a;e.Show=(o=(0,n.customAttribute)("show"),s=(0,t.inject)(r.DOM.Element,n.Animator,t.Optional.of(r.DOM.boundary,!0)),o(a=s(a=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.prototype.created=function(){(0,i.injectAureliaHideStyleAtBoundary)(this.domBoundary)},e.prototype.valueChanged=function(e){e?this.animator.removeClass(this.element,i.aureliaHideClassName):this.animator.addClass(this.element,i.aureliaHideClassName)},e.prototype.bind=function(e){this.valueChanged(this.value)},e}())||a)||a)}),define("aurelia-templating-resources/aurelia-hide-style",["exports","aurelia-pal"],function(e,t){"use strict";function n(){t.DOM.injectStyles(o)}function r(e){t.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,t.DOM.injectStyles(o,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.aureliaHideClassName=void 0,e.injectAureliaHideStyleAtHead=n,e.injectAureliaHideStyleAtBoundary=r;var i=e.aureliaHideClassName="aurelia-hide",o="."+i+" { display:none !important; }"}),define("aurelia-templating-resources/hide",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal","./aurelia-hide-style"],function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hide=void 0;var o,s,a;e.Hide=(o=(0,n.customAttribute)("hide"),s=(0,t.inject)(r.DOM.Element,n.Animator,t.Optional.of(r.DOM.boundary,!0)),o(a=s(a=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.prototype.created=function(){(0,i.injectAureliaHideStyleAtBoundary)(this.domBoundary)},e.prototype.valueChanged=function(e){e?this.animator.addClass(this.element,i.aureliaHideClassName):this.animator.removeClass(this.element,i.aureliaHideClassName)},e.prototype.bind=function(e){this.valueChanged(this.value)},e}())||a)||a)}),define("aurelia-templating-resources/sanitize-html",["exports","aurelia-binding","aurelia-dependency-injection","./html-sanitizer"],function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SanitizeHTMLValueConverter=void 0;var i,o,s;e.SanitizeHTMLValueConverter=(i=(0,t.valueConverter)("sanitizeHTML"),o=(0,n.inject)(r.HTMLSanitizer),i(s=o(s=function(){function e(e){this.sanitizer=e}return e.prototype.toView=function(e){return null===e||void 0===e?null:this.sanitizer.sanitize(e)},e}())||s)||s)}),define("aurelia-templating-resources/html-sanitizer",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;e.HTMLSanitizer=function(){function e(){}return e.prototype.sanitize=function(e){return e.replace(t,"")},e}()}),define("aurelia-templating-resources/replaceable",["exports","aurelia-dependency-injection","aurelia-templating"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Replaceable=void 0;var r,i,o;e.Replaceable=(r=(0,n.customAttribute)("replaceable"),i=(0,t.inject)(n.BoundViewFactory,n.ViewSlot),r(o=(0,n.templateController)(o=i(o=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}return e.prototype.bind=function(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)},e.prototype.unbind=function(){this.view.unbind()},e}())||o)||o)||o)}),define("aurelia-templating-resources/focus",["exports","aurelia-templating","aurelia-binding","aurelia-dependency-injection","aurelia-task-queue","aurelia-pal"],function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Focus=void 0;var s,a,u;e.Focus=(s=(0,t.customAttribute)("focus",n.bindingMode.twoWay),a=(0,r.inject)(o.DOM.Element,i.TaskQueue),s(u=a(u=function(){function e(e,t){var n=this;this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1,this.focusListener=function(e){n.value=!0},this.blurListener=function(e){o.DOM.activeElement!==n.element&&(n.value=!1)}}return e.prototype.valueChanged=function(e){this.isAttached?this._apply():this.needsApply=!0},e.prototype._apply=function(){var e=this;this.value?this.taskQueue.queueMicroTask(function(){e.value&&e.element.focus()}):this.element.blur()},e.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},e.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},e}())||u)||u)}),define("aurelia-templating-resources/css-resource",["exports","aurelia-templating","aurelia-loader","aurelia-dependency-injection","aurelia-path","aurelia-pal"],function(e,t,n,r,i,o){"use strict";function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+e);return t.replace(l,function(t,n){var r=n.charAt(0);return"'"!==r&&'"'!==r||(n=n.substr(1,n.length-2)),"url('"+(0,i.relativeToFile)(n,e)+"')"})}function c(e){var n,r,i=(n=(0,t.resource)(new d(e)),n(r=function(e){function t(){return s(this,e.apply(this,arguments))}return a(t,e),t}(f))||r);return i}Object.defineProperty(e,"__esModule",{value:!0}),e._createCSSResource=c;var l=/url\((?!['"]data)([^)]+)\)/gi,d=function(){function e(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return e.prototype.initialize=function(e,t){this._scoped=new t(this)},e.prototype.register=function(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0},e.prototype.load=function(e){var t=this;return e.get(n.Loader).loadText(this.address).catch(function(e){return null}).then(function(e){e=u(t.address,e),t._scoped.css=e,t._global&&(t._alreadyGloballyInjected=!0,o.DOM.injectStyles(e))})},e}(),f=function(){function e(e){this.owner=e,this.css=null}return e.prototype.beforeCompile=function(e,t,n){if(n.targetShadowDOM)o.DOM.injectStyles(this.css,e,!0);else if(o.FEATURE.scopedCSS){var r=o.DOM.injectStyles(this.css,e,!0);r.setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(o.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},e}()}),define("aurelia-templating-resources/attr-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttrBindingBehavior=void 0;e.AttrBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,n){e.targetObserver=new t.DataAttributeObserver(e.target,e.targetProperty)},e.prototype.unbind=function(e,t){},e}()}),define("aurelia-templating-resources/binding-mode-behaviors",["exports","aurelia-binding","aurelia-metadata"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=void 0;var r,i,o,s,a,u,c={bind:function(e,t,n){e.originalMode=e.mode,e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode,e.originalMode=null}};e.OneTimeBindingBehavior=(r=(0,n.mixin)(c),r(i=function(){this.mode=t.bindingMode.oneTime})||i),e.OneWayBindingBehavior=(o=(0,n.mixin)(c),o(s=function(){this.mode=t.bindingMode.oneWay})||s),e.TwoWayBindingBehavior=(a=(0,n.mixin)(c),a(u=function(){this.mode=t.bindingMode.twoWay})||u)}),define("aurelia-templating-resources/throttle-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";function n(e){var t=this,n=this.throttleState,r=+new Date-n.last;return r>=n.delay?(clearTimeout(n.timeoutId),n.timeoutId=null,
n.last=+new Date,void this.throttledMethod(e)):(n.newValue=e,void(null===n.timeoutId&&(n.timeoutId=setTimeout(function(){n.timeoutId=null,n.last=+new Date,t.throttledMethod(n.newValue)},n.delay-r))))}Object.defineProperty(e,"__esModule",{value:!0}),e.ThrottleBindingBehavior=void 0;e.ThrottleBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,r){var i=arguments.length<=2||void 0===arguments[2]?200:arguments[2],o="updateTarget";e.callSource?o="callSource":e.updateSource&&e.mode===t.bindingMode.twoWay&&(o="updateSource"),e.throttledMethod=e[o],e.throttledMethod.originalName=o,e[o]=n,e.throttleState={delay:i,last:0,timeoutId:null}},e.prototype.unbind=function(e,t){var n=e.throttledMethod.originalName;e[n]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null},e}()}),define("aurelia-templating-resources/debounce-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";function n(e){var t=this,n=this.debounceState;return n.immediate?(n.immediate=!1,void this.debouncedMethod(e)):(clearTimeout(n.timeoutId),void(n.timeoutId=setTimeout(function(){return t.debouncedMethod(e)},n.delay)))}Object.defineProperty(e,"__esModule",{value:!0}),e.DebounceBindingBehavior=void 0;e.DebounceBindingBehavior=function(){function e(){}return e.prototype.bind=function(e,r){var i=arguments.length<=2||void 0===arguments[2]?200:arguments[2],o="updateTarget";e.callSource?o="callSource":e.updateSource&&e.mode===t.bindingMode.twoWay&&(o="updateSource"),e.debouncedMethod=e[o],e.debouncedMethod.originalName=o,e[o]=n,e.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===o}},e.prototype.unbind=function(e,t){var n=e.debouncedMethod.originalName;e[n]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null},e}()}),define("aurelia-templating-resources/signal-binding-behavior",["exports","./binding-signaler"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalBindingBehavior=void 0;e.SignalBindingBehavior=function(){function e(e){this.signals=e.signals}return e.inject=function(){return[t.BindingSignaler]},e.prototype.bind=function(e,t){if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var n=arguments[2],r=this.signals[n]||(this.signals[n]=[]);r.push(e),e.signalName=n}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var i=Array.prototype.slice.call(arguments,2),o=i.length;o--;){var s=i[o],a=this.signals[s]||(this.signals[s]=[]);a.push(e)}e.signalName=i}},e.prototype.unbind=function(e,t){var n=e.signalName;if(e.signalName=null,Array.isArray(n))for(var r=n,i=r.length;i--;){var o=r[i],s=this.signals[o];s.splice(s.indexOf(e),1)}else{var a=this.signals[n];a.splice(a.indexOf(e),1)}},e}()}),define("aurelia-templating-resources/binding-signaler",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingSignaler=void 0;e.BindingSignaler=function(){function e(){this.signals={}}return e.prototype.signal=function(e){var n=this.signals[e];if(n)for(var r=n.length;r--;)n[r].call(t.sourceContext)},e}()}),define("aurelia-templating-resources/update-trigger-binding-behavior",["exports","aurelia-binding"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateTriggerBindingBehavior=void 0;var n,r,i="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">",o="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";e.UpdateTriggerBindingBehavior=(r=n=function(){function e(e){this.eventManager=e}return e.prototype.bind=function(e,n){for(var r=arguments.length,s=Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];if(0===s.length)throw new Error(i);if(e.mode!==t.bindingMode.twoWay)throw new Error(o);var u=e.observerLocator.getObserver(e.target,e.targetProperty);if(!u.handler)throw new Error(o);e.targetObserver=u,u.originalHandler=e.targetObserver.handler;var c=this.eventManager.createElementHandler(s);u.handler=c},e.prototype.unbind=function(e,t){e.targetObserver.handler=e.targetObserver.originalHandler,e.targetObserver.originalHandler=null},e}(),n.inject=[t.EventManager],r)}),define("aurelia-templating-resources/html-resource-plugin",["exports","aurelia-templating","./dynamic-element"],function(e,t,n){"use strict";function r(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}function i(e){var i=e.container.get(t.ViewEngine),o=e.aurelia.loader;i.addResourcePlugin(".html",{fetch:function(e){return o.loadTemplate(e).then(function(t){var i,o=t.template.getAttribute("bindable"),s=r(e);return o?(o=o.split(",").map(function(e){return e.trim()}),t.template.removeAttribute("bindable")):o=[],i={},i[s]=(0,n._createDynamicElement)(s,e,o),i})}})}Object.defineProperty(e,"__esModule",{value:!0}),e.getElementName=r,e.configure=i}),define("aurelia-templating-resources/dynamic-element",["exports","aurelia-templating"],function(e,t){"use strict";function n(e,n,r){for(var i,o,s,a=(i=(0,t.customElement)(e),o=(0,t.useView)(n),i(s=o(s=function(){function e(){}return e.prototype.bind=function(e){this.$parent=e},e}())||s)||s),u=0,c=r.length;u<c;++u)(0,t.bindable)(r[u])(a);return a}Object.defineProperty(e,"__esModule",{value:!0}),e._createDynamicElement=n}),define("aurelia-templating-router/aurelia-templating-router",["exports","aurelia-router","./route-loader","./router-view","./route-href"],function(e,t,n,r,i){"use strict";function o(e){e.singleton(t.RouteLoader,n.TemplatingRouteLoader).singleton(t.Router,t.AppRouter).globalResources("./router-view","./route-href"),e.container.registerAlias(t.Router,t.AppRouter)}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=e.RouteHref=e.RouterView=e.TemplatingRouteLoader=void 0,e.TemplatingRouteLoader=n.TemplatingRouteLoader,e.RouterView=r.RouterView,e.RouteHref=i.RouteHref,e.configure=o}),define("aurelia-templating-router",["aurelia-templating-router/aurelia-templating-router"],function(e){return e}),define("aurelia-templating-router/route-loader",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-router","aurelia-path","aurelia-metadata"],function(e,t,n,r,i,o){"use strict";function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingRouteLoader=void 0;var u,c;e.TemplatingRouteLoader=(u=(0,t.inject)(n.CompositionEngine),u(c=function(e){function t(t){var n=s(this,e.call(this));return n.compositionEngine=t,n}return a(t,e),t.prototype.loadRoute=function(e,t){var n=e.container.createChild(),s={viewModel:(0,i.relativeToFile)(t.moduleId,o.Origin.get(e.container.viewModel.constructor).moduleId),childContainer:n,view:t.view||t.viewStrategy,router:e};return n.getChildRouter=function(){var t=void 0;return n.registerHandler(r.Router,function(r){return t||(t=e.createChild(n))}),n.get(r.Router)},this.compositionEngine.ensureViewModel(s)},t}(r.RouteLoader))||c)}),define("aurelia-templating-router/router-view",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-router","aurelia-metadata","aurelia-pal"],function(e,t,n,r,i,o){"use strict";function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.RouterView=void 0;var u,c,l,d,f,h,p,v,g=function(){function e(){}return e.prototype.before=function(e,t,n){var r=Promise.resolve(n());return void 0!==t?r.then(function(){return e.remove(t,!0)}):r},e.prototype.with=function(e,t,n){var r=Promise.resolve(n());return void 0!==t?Promise.all([e.remove(t,!0),r]):r},e.prototype.after=function(e,t,n){return Promise.resolve(e.removeAll(!0)).then(n)},e}(),m=new g;e.RouterView=(u=(0,n.customElement)("router-view"),c=(0,t.inject)(o.DOM.Element,t.Container,n.ViewSlot,r.Router,n.ViewLocator,n.CompositionTransaction,n.CompositionEngine),u(l=(0,n.noView)(l=c((d=function(){function e(e,t,n,r,i,o,a){s(this,"swapOrder",f,this),s(this,"layoutView",h,this),s(this,"layoutViewModel",p,this),s(this,"layoutModel",v,this),this.element=e,this.container=t,this.viewSlot=n,this.router=r,this.viewLocator=i,this.compositionTransaction=o,this.compositionEngine=a,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in o||(o.initialComposition=!0,this.compositionTransactionNotifier=o.enlist())}return e.prototype.created=function(e){this.owningView=e},e.prototype.bind=function(e,t){this.container.viewModel=e,this.overrideContext=t},e.prototype.process=function(e,t){var r=this,o=e.component,s=o.childContainer,a=o.viewModel,u=o.viewModelResource,c=u.metadata,l=o.router.currentInstruction.config,d=l.viewPorts?l.viewPorts[e.name]:{},f={viewModel:d.layoutViewModel||l.layoutViewModel||this.layoutViewModel,view:d.layoutView||l.layoutView||this.layoutView,model:d.layoutModel||l.layoutModel||this.layoutModel,router:e.component.router,childContainer:s,viewSlot:this.viewSlot},h=this.viewLocator.getViewStrategy(o.view||a);return h&&o.view&&h.makeRelativeTo(i.Origin.get(o.router.container.viewModel.constructor).moduleId),c.load(s,u.value,null,h,!0).then(function(i){r.compositionTransactionNotifier||(r.compositionTransactionOwnershipToken=r.compositionTransaction.tryCapture()),(f.viewModel||f.view)&&(e.layoutInstruction=f),e.controller=c.create(s,n.BehaviorInstruction.dynamic(r.element,a,i)),t||r.swap(e)})},e.prototype.swap=function(e){var t=this,r=function(){var r=t.view,i=void 0,o=t.viewSlot,s=e.layoutInstruction;(i=t.swapOrder in m?m[t.swapOrder]:m.after)(o,r,function(){var r=void 0;return s?(s.viewModel||(s.viewModel={}),r=t.compositionEngine.createController(s).then(function(t){return n.ShadowDOM.distributeView(e.controller.view,t.slots||t.view.slots),t.view||t})):r=Promise.resolve(e.controller.view),r.then(function(e){return t.view=e,o.add(e)}).then(function(){t._notify()})})};return e.controller.automate(this.overrideContext,this.owningView),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return t.compositionTransactionOwnershipToken=null,r()}):r()},e.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},e}(),f=a(d.prototype,"swapOrder",[n.bindable],{enumerable:!0,initializer:null}),h=a(d.prototype,"layoutView",[n.bindable],{enumerable:!0,initializer:null}),p=a(d.prototype,"layoutViewModel",[n.bindable],{enumerable:!0,initializer:null}),v=a(d.prototype,"layoutModel",[n.bindable],{enumerable:!0,initializer:null}),l=d))||l)||l)||l)}),define("aurelia-templating-router/route-href",["exports","aurelia-templating","aurelia-dependency-injection","aurelia-router","aurelia-pal","aurelia-logging"],function(e,t,n,r,i,o){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.RouteHref=void 0;var a,u,c,l,d,f,h=s(o),p=h.getLogger("route-href");e.RouteHref=(a=(0,t.customAttribute)("route-href"),u=(0,t.bindable)({name:"route",changeHandler:"processChange"}),c=(0,t.bindable)({name:"params",changeHandler:"processChange"}),l=(0,t.bindable)({name:"attribute",defaultValue:"href"}),d=(0,n.inject)(r.Router,i.DOM.Element),a(f=u(f=c(f=l(f=d(f=function(){function e(e,t){this.router=e,this.element=t}return e.prototype.bind=function(){this.isActive=!0,this.processChange()},e.prototype.unbind=function(){this.isActive=!1},e.prototype.attributeChanged=function(e,t){t&&this.element.removeAttribute(t),this.processChange()},e.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then(function(){if(!e.isActive)return null;var t=e.router.generate(e.route,e.params);return e.element.setAttribute(e.attribute,t),null}).catch(function(e){p.error(e)})},e}())||f)||f)||f)||f)||f)}),function(e){"use strict";function t(t,n){if(n=n||{},n.worker&&k.WORKERS_SUPPORTED){var r=l();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=m(n.step),n.chunk=m(n.chunk),n.complete=m(n.complete),n.error=m(n.error),delete n.worker,void r.postMessage({input:t,config:n,workerId:r.id})}var a=null;return"string"==typeof t?a=n.download?new i(n):new s(n):(e.File&&t instanceof File||t instanceof Object)&&(a=new o(n)),a.stream(t)}function n(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&k.BAD_DELIMITERS.indexOf(t.delimiter)==-1&&(u=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(a=t.quotes),"string"==typeof t.newline&&(c=t.newline))}function r(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function i(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=e instanceof Array&&e.length>0,i=!(t[0]instanceof Array);if(r){for(var s=0;s<e.length;s++)s>0&&(n+=u),n+=o(e[s],s);t.length>0&&(n+=c)}for(var a=0;a<t.length;a++){for(var l=r?e.length:t[a].length,d=0;d<l;d++){d>0&&(n+=u);var f=r&&i?e[d]:d;n+=o(t[a][f],d)}a<t.length-1&&(n+=c)}return n}function o(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var n="boolean"==typeof a&&a||a instanceof Array&&a[t]||s(e,k.BAD_DELIMITERS)||e.indexOf(u)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return n?'"'+e+'"':e}function s(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var a=!1,u=",",c="\r\n";if(n(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return i(null,e);if("object"==typeof e[0])return i(r(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:r(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),i(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(t){function n(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new a(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},n.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=i.meta.cursor;this._finished||(this._partialLine=r.substring(o-this._baseIndex),this._baseIndex=o),i&&i.data&&(this._rowCount+=i.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)e.postMessage({results:i,workerId:k.WORKER_ID,finished:s});else if(m(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),!s||!m(this._config.complete)||i&&i.meta.aborted||this._config.complete(this._completeResults),s||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){m(this._config.error)?this._config.error(t):w&&this._config.error&&e.postMessage({workerId:k.WORKER_ID,error:t,finished:!1})}}function i(e){function t(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=k.RemoteChunkSize),r.call(this,e);var n;b?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,b||(n.onload=g(this._chunkLoaded,this),n.onerror=g(this._chunkError,this)),n.open("GET",this._input,!b),this._config.chunkSize){var e=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+e),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}b&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(n),this.parseChunk(n.responseText)}},this._chunkError=function(e){var t=n.statusText||e;this._sendError(t)}}function o(e){e=e||{},e.chunkSize||(e.chunkSize=k.LocalChunkSize),r.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?(t=new FileReader,t.onload=g(this._chunkLoaded,this),t.onerror=g(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function s(e){e=e||{},r.call(this,e);var t,n;this.stream=function(e){return t=e,n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function a(e){function t(){if(_&&f&&(c("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+k.DefaultDelimiter+"'"),f=!1),e.skipEmptyLines)for(var t=0;t<_.data.length;t++)1==_.data[t].length&&""==_.data[t][0]&&_.data.splice(t--,1);return n()&&r(),i()}function n(){return e.header&&0==w.length}function r(){if(_){for(var e=0;n()&&e<_.data.length;e++)for(var t=0;t<_.data[e].length;t++)w.push(_.data[e][t]);_.data.splice(0,1)}}function i(){if(!_||!e.header&&!e.dynamicTyping)return _;for(var t=0;t<_.data.length;t++){for(var n={},r=0;r<_.data[t].length;r++){if(e.dynamicTyping){var i=_.data[t][r];"true"==i||"TRUE"==i?_.data[t][r]=!0:"false"==i||"FALSE"==i?_.data[t][r]=!1:_.data[t][r]=a(i)}e.header&&(r>=w.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(_.data[t][r])):n[w[r]]=_.data[t][r])}e.header&&(_.data[t]=n,r>w.length?c("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+r,t):r<w.length&&c("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+r,t))}return e.header&&_.meta&&(_.meta.fields=w),_}function o(t){for(var n,r,i,o=[",","\t","|",";",k.RECORD_SEP,k.UNIT_SEP],s=0;s<o.length;s++){var a=o[s],c=0,l=0;i=void 0;for(var d=new u({delimiter:a,preview:10}).parse(t),f=0;f<d.data.length;f++){var h=d.data[f].length;l+=h,"undefined"!=typeof i?h>1&&(c+=Math.abs(h-i),i=h):i=h}d.data.length>0&&(l/=d.data.length),("undefined"==typeof r||c<r)&&l>1.99&&(r=c,n=a)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function s(e){e=e.substr(0,1048576);var t=e.split("\r");if(1==t.length)return"\n";for(var n=0,r=0;r<t.length;r++)"\n"==t[r][0]&&n++;return n>=t.length/2?"\r\n":"\r"}function a(e){var t=h.test(e);return t?parseFloat(e):e}function c(e,t,n,r){_.errors.push({type:e,code:t,message:n,row:r})}var l,d,f,h=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,g=0,y=!1,b=!1,w=[],_={data:[],errors:[],meta:{}};if(m(e.step)){var x=e.step;e.step=function(r){if(_=r,n())t();else{if(t(),0==_.data.length)return;g+=r.data.length,e.preview&&g>e.preview?d.abort():x(_,p)}}}this.parse=function(n,r,i){if(e.newline||(e.newline=s(n)),f=!1,!e.delimiter){var a=o(n);a.successful?e.delimiter=a.bestDelimiter:(f=!0,e.delimiter=k.DefaultDelimiter),_.meta.delimiter=e.delimiter}var c=v(e);return e.preview&&e.header&&c.preview++,l=n,d=new u(c),_=d.parse(l,r,i),t(),y?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,d.abort(),l=l.substr(d.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(l)},this.aborted=function(){return b},this.abort=function(){b=!0,d.abort(),_.meta.aborted=!0,m(e.complete)&&e.complete(_),l=""}}function u(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode;if(("string"!=typeof t||k.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||k.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var a=0,u=!1;this.parse=function(e,c,l){function d(e){_.push(e),k=a}function f(t){return l?p():("undefined"==typeof t&&(t=e.substr(a)),S.push(t),a=g,d(S),w&&v(),p())}function h(t){a=t,d(S),S=[],O=e.indexOf(n,a)}function p(e){return{data:_,errors:x,meta:{delimiter:t,linebreak:n,aborted:u,truncated:!!e,cursor:k+(c||0)}}}function v(){i(p()),_=[],x=[]}if("string"!=typeof e)throw"Input must be a string";var g=e.length,m=t.length,y=n.length,b=r.length,w="function"==typeof i;a=0;var _=[],x=[],S=[],k=0;if(!e)return p();if(s||s!==!1&&e.indexOf('"')===-1){for(var C=e.split(n),E=0;E<C.length;E++){var S=C[E];if(a+=S.length,E!==C.length-1)a+=n.length;else if(l)return p();if(!r||S.substr(0,b)!=r){if(w){if(_=[],d(S.split(t)),v(),u)return p()}else d(S.split(t));if(o&&E>=o)return _=_.slice(0,o),p(!0)}}return p()}for(var T=e.indexOf(t,a),O=e.indexOf(n,a);;)if('"'!=e[a])if(r&&0===S.length&&e.substr(a,b)===r){if(O==-1)return p();a=O+y,O=e.indexOf(n,a),T=e.indexOf(t,a)}else if(T!==-1&&(T<O||O===-1))S.push(e.substring(a,T)),a=T+m,T=e.indexOf(t,a);else{if(O===-1)break;if(S.push(e.substring(a,O)),h(O+y),w&&(v(),u))return p();if(o&&_.length>=o)return p(!0)}else{var A=a;for(a++;;){var A=e.indexOf('"',A+1);if(A===-1)return l||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:a}),f();if(A===g-1){var D=e.substring(a,A).replace(/""/g,'"');return f(D)}if('"'!=e[A+1]){if(e[A+1]==t){S.push(e.substring(a,A).replace(/""/g,'"')),a=A+1+m,T=e.indexOf(t,a),O=e.indexOf(n,a);break}if(e.substr(A+1,y)===n){if(S.push(e.substring(a,A).replace(/""/g,'"')),h(A+1+y),T=e.indexOf(t,a),w&&(v(),u))return p();if(o&&_.length>=o)return p(!0);break}}else A++}}return f()},this.abort=function(){u=!0},this.getCharIndex=function(){return a}}function c(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function l(){if(!k.WORKERS_SUPPORTED)return!1;if(!_&&null===k.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=k.SCRIPT_PATH||y;t+=(t.indexOf("?")!==-1?"&":"?")+"papaworker";var n=new e.Worker(t);return n.onmessage=d,n.id=S++,x[n.id]=n,n}function d(e){var t=e.data,n=x[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i=function(){r=!0,f(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:h,resume:h};if(m(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:[t.results.data[s]],errors:t.results.errors,meta:t.results.meta},o),!r);s++);delete t.results}else m(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&f(t.workerId,t.results)}function f(e,t){var n=x[e];m(n.userComplete)&&n.userComplete(t),n.terminate(),delete x[e]}function h(){throw"Not implemented."}function p(t){var n=t.data;if("undefined"==typeof k.WORKER_ID&&n&&(k.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:k.WORKER_ID,results:k.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=k.parse(n.input,n.config);r&&e.postMessage({workerId:k.WORKER_ID,results:r,finished:!0})}}function v(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=v(e[n]);return t}function g(e,t){return function(){e.apply(t,arguments)}}function m(e){return"function"==typeof e}var y,b=!e.document&&!!e.postMessage,w=b&&/(\?|&)papaworker(=|&|$)/.test(e.location.search),_=!1,x={},S=0,k={};if(k.parse=t,k.unparse=n,k.RECORD_SEP=String.fromCharCode(30),k.UNIT_SEP=String.fromCharCode(31),k.BYTE_ORDER_MARK="\ufeff",k.BAD_DELIMITERS=["\r","\n",'"',k.BYTE_ORDER_MARK],k.WORKERS_SUPPORTED=!b&&!!e.Worker,k.SCRIPT_PATH=null,k.LocalChunkSize=10485760,k.RemoteChunkSize=5242880,k.DefaultDelimiter=",",k.Parser=u,k.ParserHandle=a,k.NetworkStreamer=i,k.FileStreamer=o,k.StringStreamer=s,"undefined"!=typeof module&&module.exports?module.exports=k:m(e.define)&&e.define.amd?define("papaparse",[],function(){return k}):e.Papa=k,e.jQuery){var C=e.jQuery;C.fn.parse=function(t){function n(){if(0==s.length)return void(m(t.complete)&&t.complete());var e=s[0];if(m(t.before)){var n=t.before(e.file,e.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",e.file,e.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(e.instanceConfig=C.extend(e.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=e.instanceConfig.complete;e.instanceConfig.complete=function(t){m(o)&&o(t,e.file,e.inputElem),i()},k.parse(e.file,e.instanceConfig)}function r(e,n,r,i){m(t.error)&&t.error({name:e},n,r,i)}function i(){s.splice(0,1),n()}var o=t.config||{},s=[];return this.each(function(t){var n="INPUT"==C(this).prop("tagName").toUpperCase()&&"file"==C(this).attr("type").toLowerCase()&&e.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)s.push({file:this.files[r],inputElem:this,instanceConfig:C.extend({},o)})}),n(),this}}w?e.onmessage=p:k.WORKERS_SUPPORTED&&(y=c(),document.body?document.addEventListener("DOMContentLoaded",function(){_=!0},!0):_=!0),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,s.prototype=Object.create(s.prototype),s.prototype.constructor=s}("undefined"!=typeof window?window:this);