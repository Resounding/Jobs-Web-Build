{"version":3,"sources":["environment.ts","resources/services/config.ts","resources/services/log.ts","resources/services/auth.ts","main.ts","resources/index.ts","resources/models/billing-type.ts","resources/models/customer.ts","resources/models/foreman.ts","resources/models/job-status.ts","resources/models/job-type.ts","resources/models/job.ts","resources/models/work-type.ts","resources/services/data/db.ts","resources/services/data/job-service.ts","resources/services/csv-export.ts","resources/services/notifications.ts","resources/services/utils.ts","resources/views/app.ts","resources/views/login.ts","resources/services/data/activities-service.ts","resources/services/data/customer-service.ts","resources/views/controls/integer-value-converter.ts","resources/views/controls/nav-bar.ts","resources/views/controls/prompt.ts","resources/views/customers/edit.ts","resources/views/customers/list.ts","resources/views/jobs/close-job.ts","resources/views/jobs/detail.ts","resources/views/jobs/list-item.ts","resources/views/jobs/list.ts","resources/views/jobs/new.ts","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/ai-dialog.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/ai-dialog-header.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-controller.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/lifecycle.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-result.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/ai-dialog-body.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/ai-dialog-footer.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/attach-focus.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-configuration.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/renderer.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-renderer.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-options.js","D:/Projects/LangendoenMechanical/Jobs-Web/node_modules/aurelia-dialog/dist/amd/dialog-service.js","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/app.html","customer-list.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/login.html","edit-customer-dialog.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/controls/nav-bar.html","job-detail.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/controls/prompt.html","job-list.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/customers/edit.html","login.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/customers/list.html","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/jobs/close-job.html","styles.less","../../node_modules/toastr/toastr.less","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/jobs/detail.html","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/jobs/list-item.html","D:/Projects/LangendoenMechanical/Jobs-Web/src/resources/views/jobs/list.html"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;ACAA,cAAe,IAAG;ACAlB,EDCE,gBAAA;AEDF,IAAI;ACAJ,EDCE,gBAAA;AEDF,wBAA0C;ACA1C,EDCE,GAAG,KAAM,OAAO,OAAM;AEDxB,EFEE,CEFC,EFEE,KAAM,OAAO,aAAY,SAAS;AGFvC,EHGE,AEFA,GFEG,KAAM,QAAQ,CEFjB,MFEwB,IAAG,MAAM;IAC/B,IIJU,QJIV;AKJJ,AHIA,AEFA,wBFE2C;AIJ3C,EJKE,AEFA,GFEG,SEFH,CFEa;EEDb,EFEE,IKLU,GLKH,gBEFT,EFEE;AONJ,QFEc;ACoCd,AEtCA,ANME,WAAE;AONJ,EHuCC,AJhCG,iBIgCH,QJhCG;EACA,gBAAA;AIkCJ;AJxCA,EImBC,SJVC,IAAG,MAAM,MIUV,EJVmB;EIWnB,AJVG,gBAAA,KIUH;;AAoBD,AJxCA,WASE,GIkCD,CJlCI,MAAM,QAAS,GAGhB,GAAE;AI4BN,EJ3BM,SAAS,EAAT,CI+BL;EACC,cAAA;;AALF,cAQE,EAAC;EACA,cAAA;EACA,qBAAA;;AAIH;EACC,kBAAA;EACA,aAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;EACA,oCAAA;EACA,4BAAA;EAlDA,YAAA;EACA,+DAAA;EACA,yBAAA;;AAmDA,mBAAC;AACD,mBAAC;EACA,cAAA;EACA,qBAAA;EACA,eAAA;EAzDD,YAAA;EACA,+DAAA;EACA,yBAAA;;;;;AA+DD,MAAM;EACL,UAAA;EACA,eAAA;EACA,uBAAA;EACA,SAAA;EACA,wBAAA;;AAKD;EACC,MAAA;EACA,QAAA;EACA,WAAA;;AAGD;EACC,SAAA;EACA,QAAA;EACA,WAAA;;AAGD;EACC,MAAA;EACA,QAAA;EACA,WAAA;;AAGD;EACC,SAAA;EACA,QAAA;EACA,WAAA;;AAGD;EACC,SAAA;EACA,UAAA;;AAGD;EACC,SAAA;EACA,WAAA;;AAGD;EACC,WAAA;EACA,YAAA;;AAGD;EACC,YAAA;EACA,UAAA;;AAGD;EACC,eAAA;EACA,eAAA;EAEA,oBAAA;;;AAJD,gBAKC;EACC,2BAAA;EACA,8BAAA;EACA,sBAAA;;AARF,gBAWC;EACC,kBAAA;EAEA,oBAAA;EACA,gBAAA;EACA,eAAA;EACA,4BAAA;EACA,YAAA;EAtJD,mCAAA;EACA,sCAAA;EACA,8BAAA;EAsJC,gCAAA;EACA,4BAAA;EAnJD,iCAAA;EACA,oCAAA;EACA,4BAAA;EAmJC,cAAA;EA9ID,YAAA;EACA,+DAAA;EACA,yBAAA;;AAqHD,gBA2BC;EAzJA,iCAAA;EACA,oCAAA;EACA,4BAAA;EAKA,UAAA;EACA,gEAAA;EACA,0BAAA;EAmJC,eAAA;;AA9BF,gBAiCC;EACC,sBAAsB,yuBAAtB;;AAlCF,gBAqCC;EACC,sBAAsB,ixBAAtB;;AAtCF,gBAyCC;EACC,sBAAsB,qeAAtB;;AA1CF,gBA6CC;EACC,sBAAsB,ysBAAtB;;AAID,gBAAC,iBAAkB;AACnB,gBAAC,oBAAqB;EACrB,YAAA;EACA,iBAAA;EACA,kBAAA;;AAGD,gBAAC,qBAAsB;AACvB,gBAAC,wBAAyB;EACzB,UAAA;EACA,iBAAA;EACA,kBAAA;;AAIF;EACC,yBAAA;;AAGD;EACC,yBAAA;;AAGD;EACC,yBAAA;;AAGD;EACC,yBAAA;;AAGD;EACC,yBAAA;;AAGD;EACC,kBAAA;EACA,OAAA;EACA,SAAA;EACA,WAAA;EACA,yBAAA;EAjNA,YAAA;EACA,+DAAA;EACA,yBAAA;;;AAqND,gBAAkC;EACjC,gBAEC;IACC,yBAAA;IACA,WAAA;;EAGD,gBAAE;IACD,aAAA;IACA,WAAA;;;AAKH,gBAAkC,uBAAuB;EACxD,gBACC;IACC,yBAAA;IACA,WAAA;;EAGD,gBAAE;IACD,aAAA;IACA,WAAA;;;AAKH,gBAAkC,uBAAuB;EACxD,gBACC;IACC,4BAAA;IACA,WAAA;;;ADnQH,GAAG,UAAU,SAAS,KAAM,MAAK;EAC/B,eAAA;;AAGF,GAAG,MAAM,KAAK,WAAW;EACvB,QAAA;;AAGF,GAAG,MAAM,SAAS;EAChB,aAAA;;AAGF,wBAA0C;EAExC,UAAW,MAAK;IACd,sBAAA;;EAGF;IACE,WAAA;;EAEA,SAAE,MAAK;IACL,WAAA;;EADF,SAAE,MAAK,KAGL,IAAG;IACD,gBAAA;;EAMN,KAAM,MAAK,UAAW;IACpB,aAAA;;EAGF,GAAG,MAAO;IACR,WAAA;;EAGF;IACE,wBAAA;;;AAIJ,wBAA0C;EACxC;IACE,wBAAA","file":"app-bundle.js","sourcesContent":["export default {\n  debug: true,\n  testing: true\n};\n","export class Configuration {\n    constructor() {\n        this.remote_database_name = Configuration.isDebug() ? `${this.remote_server}/langendoen-test` : `${this.remote_server}/langendoen`;\n    }\n\n    app_database_name:string = 'LangendoenJobs';\n    app_root:string = 'resources/views/app';\n    login_root:string = 'resources/views/login';\n    remote_server:string = 'https://resounding.cloudant.com';\n    remote_database_name:string;\n\n    static isDebug():boolean {\n        return window.location.hostname === 'localhost';\n    }\n}\n","import {LogManager} from 'aurelia-framework';\r\n\r\nexport const log = LogManager.getLogger('jobsweb');","import {Aurelia, autoinject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {Router, NavigationInstruction, Redirect, Next} from 'aurelia-router';\nimport {HttpClient} from 'aurelia-fetch-client';\nimport {Configuration} from './config';\nimport {log} from './log';\n\nconst storage_key:string = 'auth_token';\nlet database = null;\nlet user_info: UserInfo = null;\n\ninterface UserInfo {\n    name: string;\n    password: string;\n    roles: string[];\n    basicAuth: string;\n}\n\n@autoinject()\nexport class Authentication {\n    constructor(private app: Aurelia, private config: Configuration, private router:Router, private httpClient:HttpClient, private events:EventAggregator) {\n        database = new PouchDB(this.config.remote_database_name, { skip_setup: true });\n        user_info = JSON.parse(localStorage[storage_key] || null);\n    }\n\n    login(user:string, password:string):Promise<UserInfo> {\n        return new Promise((resolve, reject) => {\n            const url = `${this.config.remote_server}/_session`,\n                body = `name=${encodeURI(user)}&password=${encodeURI(password)}`,\n                authHeader = `Basic ${window.btoa(user + password)}`;\n            this.httpClient.fetch(\n                url, {\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded', Authorization: authHeader },\n                    method: 'post',\n                    body: body\n                    }\n                )\n                .then(result => {\n                    if(result.ok) {\n                        log.debug('Login succeeded');\n                        result.json().then(info => {\n                            user_info = {\n                                name: info.name,\n                                password: password,\n                                roles: info.roles,\n                                basicAuth: authHeader\n                            };\n\n                            localStorage[storage_key] = JSON.stringify(user_info);\n                            this.app.setRoot(this.config.app_root);\n                            this.events.publish(Authentication.AuthenticatedEvent);\n                            return resolve(user_info);\n                        })\n                    } else {\n                        log.debug('Login failed')\n                        result.json().then(error => {\n                            reject(new Error(`Login failed: ${error.reason}`));\n                        });\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n\n    logout():Promise {\n        user_info = null;\n        localStorage[storage_key] = null;\n        this.app.setRoot(this.config.login_root);\n        this.router.navigateToRoute('login');\n        return Promise.resolve();\n    }\n\n    isAuthenticated() {\n        return user_info !== null;\n    }\n\n    isInRole(role:string) {\n        return this.isAuthenticated() && user_info.roles.indexOf(role) !== -1;\n    }\n\n    userInfo():UserInfo {\n        return user_info;\n    }\n\n    static AuthenticatedEvent:string = 'authenticated';\n\n    static isLoggedIn() {\n      return user_info !== null;\n    }\n}\n\nexport class AuthorizeStep {\n  run(navigationInstruction:NavigationInstruction, next: Next) {\n    if(navigationInstruction.getAllInstructions().some(i => i.config.auth )) {\n      var loggedIn = Authentication.isLoggedIn();\n      if(!loggedIn) {\n        return next.cancel(new Redirect('login'));\n      }\n    }\n\n    return next();\n  }\n}\n\nexport class Roles {\n    static Foreman:string = 'foreman';\n    static Administrator:string = 'administrator';\n    static Owner:string = 'owner';\n    static OfficeAdmin:string = 'office_admin';\n}\n","import {Aurelia} from 'aurelia-framework'\nimport {Authentication} from './resources/services/auth';\nimport {Configuration} from './resources/services/config';\n\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-dialog', config => {\n      config.useDefaults();\n      config.settings.lock = true;\n    });\n\n  if (Configuration.isDebug()) {\n    aurelia.use.developmentLogging();\n  }\n\n  return aurelia.start().then(() => {\n      const auth = aurelia.container.get(Authentication),\n          config = aurelia.container.get(Configuration),\n          root = auth.isAuthenticated() ? config.app_root : config.login_root;\n      return aurelia.setRoot(root)\n  });\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n","export class BillingType {\r\n    id: string;\r\n    name: string;\r\n\r\n    static TIME_AND_MATERIALS:string = 't+m';\r\n    static FIXED_CONTRACT:string = 'time';\r\n\r\n    static OPTIONS:BillingType[] = [\r\n        { id: BillingType.TIME_AND_MATERIALS, name: 'Time and Materials' },\r\n        { id: BillingType.FIXED_CONTRACT, name: 'Fixed/Contract' }\r\n    ];\r\n}","export interface Customer {\n    _id:string;\n    _rev:string;\n    type: string;\n    name:string;\n    address?:string;\n    city?:string;\n    province?:string;\n    postal_code?:string;\n    contact?:string;\n    phone?:string;\n}\n\nexport class CustomerDocument implements Customer {\n    _id: string;\n    _rev: string;\n    type: string;\n    name: string;\n    address?:string;\n    city?:string;\n    province?:string;\n    postal_code?:string;\n    contact?:string;\n    phone?:string;\n\n    constructor(props?:Object) {\n        if(props) {\n            _.extend(this, props);\n        }\n    }\n\n    toJSON():Customer {\n        return {\n            _id: this._id,\n            _rev: this._rev,\n            type: CustomerDocument.DOCUMENT_TYPE,\n            name: this.name,\n            address: this.address,\n            city: this.city,\n            province: this.province,\n            postal_code: this.postal_code,\n            contact: this.contact,\n            phone: this.phone\n        };\n    }\n\n    static createId(name:string):string {\n        return `${CustomerDocument.DOCUMENT_TYPE}:${name.toLowerCase().replace(' ', '-')}`;\n    }\n\n    static DOCUMENT_TYPE:string = 'customer';\n}\n","export class Foreman {\r\n\r\n    static OPTIONS:string[] = [\r\n        'Barry',\r\n        'Dan',\r\n        'Kurt'\r\n    ];\r\n}","export class JobStatus {\r\n    id: string;\r\n    name: string;\r\n    cssClass: string;\r\n    \r\n    static PENDING:string = 'pending';\r\n    static IN_PROGRESS:string = 'inprogress';\r\n    static COMPLETE:string = 'complete';\r\n    static CLOSED:string = 'closed';\r\n    \r\n    static OPTIONS:JobStatus[] = [\r\n        { id: JobStatus.PENDING, name: 'Pending', cssClass: 'hourglass start inverted blue' },\r\n        { id: JobStatus.IN_PROGRESS, name: 'In Progress', cssClass: 'hourglass half inverted green'},\r\n        { id: JobStatus.COMPLETE, name: 'Complete', cssClass: 'hourglass end' },\r\n        { id: JobStatus.CLOSED, name: 'Closed', cssClass: ''}\r\n    ]\r\n}","export class JobType {\r\n\r\n    id:string;\r\n    name:string;\r\n\r\n    static PROJECT:string = 'project';\r\n    static SERVICE_CALL:string = 'service';\r\n\r\n    static OPTIONS:JobType[] = [\r\n        { id: JobType.PROJECT, name: 'Project' },\r\n        { id: JobType.SERVICE_CALL, name: 'Service Call'}\r\n    ];\r\n}","import {JobStatus} from './job-status'\nimport {JobType} from  './job-type'\nimport {Customer, CustomerDocument} from './customer';\n\nexport interface Job {\n  _id: string;\n  job_type: string;\n  number: string;\n  name: string;\n  customer: Customer;\n  status: string;\n  description: string;\n  billing_type: string;\n  work_type: string;\n  isMultiDay: boolean;\n  days: number;\n  startDate: Date;\n  endDate: Date;\n  foreman: string;\n  notes: string;\n  manHours: number;\n  deleted: boolean;\n  type: string;\n  _rev: string;\n}\n\nexport class JobDocument implements Job {\n  _id: string = null;\n  job_type: string = JobType.SERVICE_CALL;\n  number: string = null;\n  name: string = '';\n  customer: CustomerDocument = null;\n  status: string = JobStatus.PENDING;\n  description: string = '';\n  billing_type: string;\n  work_type: string;\n  days: number = 1;\n  startDate: Date = null;\n  endDate: Date = null;\n  foreman: string;\n  notes: string = '';\n  manHours: number;\n  deleted: boolean = false;\n  // couch props\n  type: string;\n  _rev: string;\n\n  get isMultiDay():boolean {\n    if(!_.isDate(this.startDate) || !_.isDate(this.endDate)) return false;\n\n    return !moment(this.startDate).isSame(this.endDate, 'day');\n  }\n\n  constructor(props?: Object) {\n    if (props) {\n      _.extend(this, props);\n    }\n  }\n\n  toJSON(): Job {\n    return {\n      _id: this._id,\n      job_type: this.job_type,\n      number: this.number,\n      name: this.name,\n      customer: this.customer,\n      status: this.status,\n      description: this.description,\n      billing_type: this.billing_type,\n      work_type: this.work_type,\n      isMultiDay: this.isMultiDay,\n      days: this.days,\n      startDate: this.startDate,\n      endDate: this.endDate,\n      foreman: this.foreman,\n      notes: this.notes,\n      manHours: this.manHours,\n      deleted: this.deleted,\n      type: JobDocument.DOCUMENT_TYPE,\n      _rev: this._rev\n    };\n  }\n\n  static DOCUMENT_TYPE: string = 'job';\n}\n","export class WorkType {\n    id: string;\n    name: string;\n\n    static MATERIALS_AND_INSTALL:string = 'm+i';\n    static INSTALL_ONLY:string = 'install';\n    static MATERIALS_ONLY:string = 'materials';\n\n    static OPTIONS:WorkType[] = [\n        { id: WorkType.MATERIALS_AND_INSTALL, name: 'Materials + Install' },\n        { id: WorkType.INSTALL_ONLY, name: 'Install Only' },\n        { id: WorkType.MATERIALS_ONLY, name: 'Materials Only' }\n    ]\n}\n","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {autoinject} from 'aurelia-framework';\nimport {Job, JobDocument} from '../../models/job';\nimport {Configuration} from '../config';\nimport {log} from '../log';\nimport {Authentication} from '../auth';\n\nlet localDB: PouchDB = null;\nlet remoteDB: PouchDB = null;\n\n@autoinject()\nexport class Database {\n  constructor(private auth: Authentication, private config: Configuration, private events: EventAggregator) {\n    this.init();\n    this.events.subscribe(Authentication.AuthenticatedEvent, this.init.bind(this));\n  }\n\n  init(localOps?:PouchOptions) {\n    if (localDB === null) {\n      if(localOps) {\n        localDB = new PouchDB(this.config.app_database_name, localOps);\n      } else {\n        localDB = new PouchDB(this.config.app_database_name);\n      }\n      localDB.getIndexes()\n        .then(indexes => {\n          const names = _.pluck(indexes.indexes, 'name');\n          if(names.indexOf('by_type_name') === -1) {\n            localDB.createIndex({\n              name: 'by_type_name',\n              index: {\n                fields: ['type', 'name'],\n                sort: ['name']\n              }\n            }).then(result => {\n              log.debug(result);\n            }).catch(error => {\n              log.error(error);\n            });\n          }\n\n          if(names.indexOf('by_type_deleted') === -1) {\n            localDB.createIndex({\n              name: 'by_type_deleted',\n              index: {\n                fields: ['type', 'deleted']\n              }\n            }).then(result => {\n              log.debug(result);\n            }).catch(error => {\n              log.error(error);\n            });\n          }\n        });\n    }\n\n    if (this.auth.isAuthenticated()) {\n      const userInfo = this.auth.userInfo(),\n        headers = {Authorization: userInfo.basicAuth}\n      remoteDB = new PouchDB(this.config.remote_database_name, {\n        skip_setup: true,\n        auth: {username: userInfo.name, password: userInfo.password}\n      });\n      const sync = localDB.sync(remoteDB, {live: true})\n        .on('complete', () => {\n          log.debug('Sync complete');\n        })\n        .on('error', err => {\n          log.error('Sync error');\n          log.error(err);\n          const values = _.values(err);\n          // this happens on Samsung TV\n          if(values.indexOf('web_sql_went_bad') !== -1) {\n            try {\n              sync.cancel();\n            } catch(e) { }\n\n            localDB = null;\n            const options:PouchOptions = { adapter: 'localstorage' };\n            this.init(options);\n          }\n        })\n        .on('change', change => {\n          log.info('Sync change');\n          log.debug(change);\n          if(change.direction === 'pull') {\n            if(_.isArray(change.change.docs)){\n              change.change.docs.forEach(doc => {\n                if(doc.type === JobDocument.DOCUMENT_TYPE) {\n                  const job = new JobDocument(doc);\n                  this.events.publish(Database.SyncChangeEvent, job);\n                }\n              })\n            }\n          }\n\n        }).on('paused', info => {\n        log.info('Sync pause');\n        log.debug(info);\n      }).on('active', info => {\n        log.info('Sync active');\n        log.debug(info);\n      });\n    }\n  }\n\n  destroy(): Promise<any> {\n    return localDB.destroy()\n      .then(this.init.bind(this));\n  }\n\n  nextJobNumber(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      localDB.find<Job>({\n        selector: {type: JobDocument.DOCUMENT_TYPE},\n        fields: ['number']\n      })\n        .then(rows => {\n          log.debug(rows);\n          const nextNumber: number = rows.docs.reduce((memo, job) => {\n              var number = parseInt(job.number);\n              if (!isNaN(number) && number > memo) memo = number;\n              return memo;\n            }, 0) + 1;\n\n          //http://stackoverflow.com/a/10073761\n          const formattedNumber: string = nextNumber < 99999 ? `0000${nextNumber}`.slice(-5) : nextNumber.toString();\n          resolve(formattedNumber);\n        })\n        .catch(reject);\n    });\n  }\n\n  get db() {\n    return localDB;\n  }\n\n  static SyncChangeEvent:string = 'SyncChangeEvent';\n}\n","import {autoinject} from 'aurelia-framework';\nimport {log} from '../log';\nimport {Database} from './db';\nimport {Authentication, Roles} from '../auth';\nimport {Job, JobDocument} from \"../../models/job\";\n\n@autoinject()\nexport class JobService {\n  db: PouchDB;\n\n  constructor(private auth: Authentication, private database: Database) {\n    this.db = database.db;\n  }\n\n  getAll(): Promise<Job[]> {\n    //db().allDocs({ include_docs: true}).then(r => console.log(r));\n    return new Promise((resolve, reject) => {\n      this.db.find<JobDocument>({selector: {type: JobDocument.DOCUMENT_TYPE, deleted: { '$ne': true }}})\n        .then(items => {\n          const jobs = items.docs.map(item => {\n            var job = new JobDocument(item);\n            if (_.isString(item.startDate)) {\n              job.startDate = moment(item.startDate).toDate();\n            }\n            if(_.isString(item.endDate)){\n              job.endDate = moment(item.endDate).toDate();\n            }\n\n            return job;\n          });\n\n          resolve(jobs);\n        })\n        .catch(reject);\n    });\n\n  }\n\n  getOne(id: string): Promise<JobDocument> {\n    return new Promise((resolve, reject) => {\n      this.db.get(id)\n        .then(doc => {\n          log.info(doc);\n          var job = new JobDocument(doc);\n          if (_.isString(doc.startDate)) {\n            job.startDate = moment(doc.startDate).toDate();\n          }\n          if (_.isString(doc.endDate)) {\n            job.endDate = moment(doc.endDate).toDate();\n          }\n          resolve(job);\n        })\n        .catch(reject);\n    });\n  }\n\n  save(job: Job): Promise<PouchUpdateResponse> {\n    return new Promise((resolve, reject) => {\n      if (!job._id) {\n        this.database.nextJobNumber()\n          .then(number => {\n            job._id = `job:${number}`;\n            job.number = number;\n\n            if (this.auth.isInRole(Roles.Foreman)) {\n              job.foreman = this.auth.userInfo().name;\n            }\n\n            return this.db.put(job)\n              .then(resolve)\n              .catch(reject);\n          });\n      } else {\n        return this.db.put(job)\n          .then(resolve)\n          .catch(reject);\n      }\n    });\n  }\n\n  delete(job: Job) {\n    job.deleted = true;\n    return this.db.put(job);\n  }\n\n  destroy(): Promise<any> {\n    return this.database.destroy();\n  }\n}\n","import {autoinject} from 'aurelia-framework';\nimport * as PapaParse from 'papaparse';\nimport {JobService} from \"./data/job-service\";\nimport {JobType} from \"../models/job-type\";\n\n@autoinject()\nexport class CsvExport {\n\n  constructor(private jobsService: JobService) {\n  }\n\n  export(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const json = {\n        fields: [\n          'Number', 'Name', 'Customer', 'Status', 'Foreman', 'Description', 'Notes', 'Start Date', 'End Date'\n        ],\n        data: []\n      };\n\n      this.jobsService\n        .getAll()\n        .then(jobs => {\n          json.data = jobs\n            .map(job => {\n              //http://stackoverflow.com/a/10073761\n              const formattedNumber: string = job.number < 99999 ? `0000${job.number}`.slice(-5) : job.number.toString(),\n                prefix = job.job_type === JobType.SERVICE_CALL ? 'S' : 'P',\n                startMoment = moment(job.startDate),\n                endMoment = moment(job.endDate),\n                start = job.startDate && startMoment.isValid() ? startMoment.format('YYYY-MM-DD') : '',\n                end = job.endDate && endMoment.isValid() ? endMoment.format('YYYY-MM-DD') : '';\n              return [\n                `${prefix}-${formattedNumber}`,\n                job.name,\n                job.customer.name,\n                job.status,\n                job.foreman,\n                job.description,\n                job.notes,\n                start,\n                end\n              ];\n            });\n\n          const csv = PapaParse.unparse(json);\n          resolve(csv);\n        })\n        .catch(reject);\n    });\n  }\n}\n","toastr.options.positionClass = \"toast-bottom-left\";\r\n\r\nexport class Notifications {\r\n    static success(message: string) {\r\n        toastr.success(message);\r\n    }\r\n\r\n    static error(err:Object) {\r\n        toastr.error(JSON.stringify(err));\r\n    }\r\n}","let device:boolean = undefined;\r\nexport function isDevice(): boolean {\r\n    if(typeof device === 'undefined') {\r\n        var el = $('<div class=\"hide-mobile\"></div>');\r\n        el.appendTo(document.documentElement);\r\n        device = !el.is(':visible');\r\n        el.remove();\r\n    }\r\n    \r\n    return device;\r\n}","import {Router, RouterConfiguration} from 'aurelia-router';\nimport {AuthorizeStep} from '../services/auth';\n\nexport class App {\n    router:Router;\n\n    configureRouter(config:RouterConfiguration, router:Router) {\n        config.addPipelineStep('authorize', AuthorizeStep);\n        config.title = 'Langendoen Mechanical Job Management Application';\n        config.map([\n            {route: ['', 'jobs'], name: 'jobs.list', moduleId: 'resources/views/jobs/list', title: 'Jobs List', nav: true, auth: true, settings: { icon: 'browser' }},\n            {route: 'jobs/new', name: 'jobs.new', moduleId: 'resources/views/jobs/detail', title: 'New Job', nav: true, auth: true, settings: { icon: 'plus' }},\n            {route: 'jobs/:id', name: 'jobs.edit', moduleId: 'resources/views/jobs/detail', title: 'Edit Job', auth: true},\n            {route: 'customers', name: 'customers.list', moduleId: 'resources/views/customers/list', title: 'Customer List', nav: true, auth: true, settings: { icon: 'building outline', hideMobile: true }}\n        ]);\n\n        this.router = router;\n    }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {Authentication} from '../services/auth';\n\n@autoinject()\nexport class Login {\n    username:string;\n    password:string;\n    errorMessage:string;\n\n    constructor(private auth:Authentication) { }\n\n    login() {\n        this.errorMessage = '';\n\n        if(!this.password) this.errorMessage = 'Please enter your password';\n        if(!this.username) this.errorMessage = 'Please enter your username';\n\n\n        if(!this.errorMessage) {\n            this.auth.login(this.username, this.password)\n                .catch(err => {\n                    this.errorMessage = err.message;\n                });\n        }\n    }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {Database} from './db';\n\n@autoinject()\nexport class ActivitiesService {\n    db: PouchDB;\n\n    constructor(database:Database){\n        this.db = database.db;\n    }\n\n    getAll():Promise<string[]> {\n        return new Promise((resolve, reject) => {\n            this.db.get('activities')\n                .then(result => {\n                    resolve(result.items);\n                })\n                .catch(err => {\n                    if(err.status === 404) {\n                        var activities = {\n                            _id: 'activities',\n                            items: []\n                        };\n                        this.db.put(activities)\n                            .then(() => resolve([]))\n                            .catch(reject);\n                    } else {\n                        reject(err);\n                    }\n                });\n        });\n    }\n\n    create(activity:string):Promise<any> {\n        return new Promise((resolve, reject) => {\n            this.db.get('activities')\n                .then(result => {\n                    result.items.push(activity);\n                    return this.db.put(result);\n                })\n                .catch(err => {\n                    if(err.status === 404) {\n                        var activities = {\n                            _id: 'activities',\n                            items: [activity]\n                        };\n                        return this.db.put(activities);\n                    } else {\n                        reject(err);\n                    }\n                });\n        })\n    }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {Database} from './db';\nimport {Customer, CustomerDocument} from \"../../models/customer\";\n\n@autoinject()\nexport class CustomerService {\n    db: PouchDB;\n\n    constructor(database:Database) {\n        this.db = database.db;\n    }\n\n    getAll():Promise<CustomerDocument[]> {\n        return new Promise((resolve, reject) => {\n            this.db.find({selector: {type: CustomerDocument.DOCUMENT_TYPE}, sort: ['type', 'name'] })\n                .then(items => {\n                    var customers = items.docs.map(item => {\n                        var customer = new CustomerDocument(item);\n                        return customer;\n                    });\n                    resolve(customers);\n                })\n                .catch(reject);\n        })\n    }\n\n    create(customer:Customer):Promise<CustomerDocument> {\n        if(!customer._id) {\n            customer._id = CustomerDocument.createId(customer.name);\n        }\n\n        return new Promise((resolve, reject) => {\n            return this.db.put(customer)\n                .then(result => {\n                    this.db.get(result.id)\n                      .then(custResult => {\n                        const saved = new CustomerDocument(custResult);\n                        resolve(saved);\n                      })\n                      .catch(reject);\n                })\n                .catch(reject);\n        });\n    }\n\n  save(customer:Customer): Promise<PouchUpdateResponse> {\n    return new Promise((resolve, reject) => {\n      if (!customer._id) {\n        return this.create(customer);\n      } else {\n        return this.db.put(customer)\n          .then(resolve)\n          .catch(reject);\n      }\n    });\n  }\n\n    delete(customer:Customer):Promise<Customer> {\n      return new Promise((resolve, reject) => {\n        this.db.remove(customer)\n          .then(resolve)\n          .catch(reject);\n      });\n    }\n}\n","export class IntegerValueConverter {\n  fromView(value: string): number {\n    let numeric: number = parseInt(value);\n\n    if (isNaN(numeric)) {\n      numeric = 0;\n    }\n\n    return numeric;\n  }\n\n  toView(value:number):string {\n    let text = '';\n\n    if(_.isNumber(value)) {\n      text = value.toString();\n    }\n\n    return text;\n  }\n}\n","import {autoinject, bindable} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Authentication} from '../../services/auth';\nimport {CsvExport} from \"../../services/csv-export\";\nimport {Database} from \"../../services/data/db\";\n\n@autoinject()\nexport class NavBar {\n\n  @bindable router: Router;\n  csv: string;\n  changes: PouchCancellable;\n\n  constructor(private element: Element, private auth: Authentication, database: Database, private csvExport: CsvExport) { }\n\n  attached() {\n    $('.dropdown', this.element).dropdown();\n  }\n\n  detached() {\n    $('.dropdown', this.element).dropdown('destroy');\n    this.changes.cancel();\n  }\n\n  downloadCsv() {\n    this.csvExport.export()\n      .then(result => {\n        const csv = encodeURIComponent(result),\n          href = `data:text/csv;charset=utf-8, ${csv}`,\n          link = document.createElement('a');\n\n        link.download = 'jobs.csv';\n        link.href = href;\n        link.click();\n      });\n  }\n\n  logout() {\n    this.auth.logout();\n  }\n\n  get userName() {\n    return (this.auth.userInfo() || {}).name;\n  }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {DialogController} from \"aurelia-dialog\";\n\n@autoinject()\nexport class Prompt {\n  message:string;\n\n  constructor(private controller:DialogController) { }\n\n  activate(message:string) {\n    this.message = message;\n  }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {DialogController} from \"aurelia-dialog\";\nimport {Customer} from \"../../models/customer\";\n\n@autoinject()\nexport class EditCustomer {\n  customer:Customer;\n  errors:boolean = false;\n\n  constructor(private controller:DialogController) { }\n\n  activate(customer:Customer) {\n    this.customer = _.clone(customer);\n  }\n\n  save() {\n    this.errors = false;\n    if(!this.customer.name) {\n      this.errors = true;\n    }\n\n    this.controller.ok(this.customer);\n  }\n}\n","import {autoinject} from 'aurelia-framework';\nimport {computedFrom} from 'aurelia-binding'\nimport {DialogResult, DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../controls/prompt';\nimport {EditCustomer} from './edit';\nimport {CustomerService} from \"../../services/data/customer-service\";\nimport {Customer} from \"../../models/customer\";\nimport {Notifications} from \"../../services/notifications\";\n\n@autoinject()\nexport class CustomerList {\n  search:string = '';\n  allCustomers:Customer[];\n\n  constructor(private customerService:CustomerService, private dialogService:DialogService) { }\n\n  refresh() {\n    this.customerService.getAll()\n      .then(result => {\n        this.allCustomers = result;\n      })\n      .catch(Notifications.error);\n  }\n\n  attached() {\n    this.refresh();\n  }\n\n  @computedFrom('search', 'allCustomers')\n  get customers() {\n    if(!this.search) return this.allCustomers;\n\n    return this.allCustomers.filter(c => {\n      return c.name.toLowerCase().indexOf(this.search.toLowerCase()) !== -1;\n    });\n  }\n\n  delete(customer:Customer) {\n    this.dialogService.open({ viewModel: Prompt, model: 'Are you sure you want to delete this Customer?' })\n      .then((result:DialogResult) => {\n        if(result.wasCancelled) return;\n\n        this.customerService.delete(customer)\n          .then(() => {\n            Notifications.success('Customer deleted successfully');\n            this.refresh();\n          })\n          .catch(Notifications.error);\n      });\n  }\n\n  edit(customer:Customer) {\n    this.dialogService.open({ viewModel: EditCustomer, model: customer })\n      .then((result:DialogResult) => {\n        if(result.wasCancelled) return;\n\n        this.customerService.save(result.output)\n          .then(() => {\n            Notifications.success('Customer saved successfully');\n            this.refresh();\n          })\n          .catch(Notifications.error);\n      });\n  }\n}\n","import {bindable} from 'aurelia-framework';\r\n\r\nexport class CloseJobArgs {\r\n    jobId:string;\r\n    manHours:string;\r\n\r\n    static ShowModalEvent:string = 'show-close-job';\r\n    static ModalApprovedEvent:string = 'close-job-approved';\r\n}\r\n\r\nexport class CloseJob {\r\n    @bindable args:CloseJobArgs;\r\n}","import {autoinject} from \"aurelia-framework\";\nimport {Router} from \"aurelia-router\";\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../controls/prompt';\nimport {JobService} from '../../services/data/job-service';\nimport {CustomerService} from '../../services/data/customer-service';\nimport {Notifications} from '../../services/notifications';\nimport {Job, JobDocument} from '../../models/job';\nimport {CustomerDocument} from '../../models/customer';\nimport {JobType} from '../../models/job-type';\nimport {JobStatus} from '../../models/job-status';\nimport {BillingType} from \"../../models/billing-type\";\nimport {WorkType} from \"../../models/work-type\";\nimport {RouteConfig} from \"aurelia-router\";\nimport {Authentication, Roles} from \"../../services/auth\";\nimport {DialogResult} from \"aurelia-dialog\";\n\n@autoinject()\nexport class EditJob {\n  job: JobDocument;\n  customers: CustomerDocument[];\n  customerServicePromise:Promise;\n  activities: string[];\n  jobTypes: JobType[] = JobType.OPTIONS;\n  jobStatuses: JobStatus[] = JobStatus.OPTIONS;\n  billingTypes: BillingType[] = BillingType.OPTIONS;\n  workTypes: WorkType[] = WorkType.OPTIONS;\n  isFollowup:boolean = false;\n  routeConfig: RouteConfig;\n  canEditManHours:boolean = false;\n\n  constructor(private element: Element, private router: Router, private jobService: JobService, private customerService: CustomerService, auth: Authentication, private dialogService:DialogService) {\n\n    this.canEditManHours = auth.isInRole(Roles.OfficeAdmin);\n\n    this.customerServicePromise = customerService.getAll()\n      .then(customers => this.customers = customers)\n      .catch(Notifications.error);\n  }\n\n  activate(params: any, routeConfig: RouteConfig) {\n    this.routeConfig = routeConfig;\n\n    this.customerServicePromise.then(() => {\n      const id = params.id;\n      if(_.isUndefined(id)) {\n        this.job = new JobDocument();\n        if (_.isString(params.type)) {\n          this.job.type = params.type;\n        }\n\n        if (params.from) {\n          this.jobService.getOne(params.from)\n            .then(prev => {\n              this.isFollowup = true;\n              this.job.customer = prev.customer;\n            });\n        }\n      } else {\n        this.jobService.getOne(id)\n          .then(job => {\n            this.job = job;\n\n            if (_.isDate(job.startDate)) {\n              $('.calendar.start', this.element).calendar('set date', job.startDate);\n            }\n\n            if(_.isDate(job.endDate)) {\n              $('.calendar.end', this.element).calendar('set date', job.endDate);\n            }\n\n            if(job.customer) {\n              $('.customer', this.element).dropdown('set selected', job.customer.name);\n              $('.customer', this.element).dropdown('set value', job.customer._id);\n            }\n\n            if(job.status) {\n              $('#status', this.element).dropdown('set selected', job.status);\n              $('#status', this.element).dropdown('set value', job.status);\n            }\n\n          })\n          .catch(err => {\n            Notifications.error(err);\n            this.router.navigateToRoute('jobs.list');\n          });\n      }\n    });\n  }\n\n  attached() {\n    $('.dropdown.customer', this.element).dropdown({\n      allowAdditions: true,\n      hideAdditions: false,\n      fullTextSearch: 'exact',\n      match: 'text',\n      onChange: (value: string): void => {\n        this.job.customer = _.find(this.customers, c => c._id === value);\n        if (!this.job.customer) {\n          this.job.customer = new CustomerDocument();\n          this.job.customer.name = value;\n        }\n      }\n    });\n    $('.dropdown.basic.button', this.element).dropdown();\n    $('#status', this.element).dropdown();\n    $('#billingType', this.element).dropdown();\n    $('#workType', this.element).dropdown();\n    $('.calendar.start', this.element).calendar({\n      type: 'date',\n      onChange: date => this.job.startDate = moment(date).toDate()\n    });\n    $('.calendar.end', this.element).calendar({\n      type: 'date',\n      onChange: date => this.job.endDate = moment(date).toDate()\n    });\n\n    const $buttonBar = $('.button-bar', this.element);\n    $buttonBar.visibility({\n      once: false,\n      onBottomPassed: () => {\n        $buttonBar.addClass('fixed top');\n      },\n      onBottomPassedReverse: function () {\n        $buttonBar.removeClass('fixed top');\n      }\n    });\n  }\n\n  detached() {\n    $('.dropdown.activity', this.element).dropdown('destroy');\n    $('#status', this.element).dropdown('destroy');\n    $('#billingType', this.element).dropdown('destroy');\n    $('#workType', this.element).dropdown('destroy');\n    $('.calendar.start', this.element).calendar('destroy');\n    $('.calendar.end', this.element).calendar('destroy');\n    $('.button-bar', this.element).visibility('destroy');\n    $('.dropdown.basic.button', this.element).dropdown('destroy');\n  }\n\n  get customer_id(): string {\n    return (this.job && this.job.customer) ? this.job.customer._id : null;\n  }\n\n  set customer_id(value:string) {\n    var customer = _.findWhere(this.customers, { _id: value });\n    if(customer) {\n      this.job.customer = customer;\n    }\n  }\n\n  onIsMultiDayChange() {\n    if (this.job.isMultiDay) {\n      $('#days', this.element).focus();\n    } else {\n      this.job.days = null;\n    }\n  }\n\n  onSaveClick() {\n    if (this.customer_id) {\n      this.saveJob();\n    } else {\n      this.saveCustomer(this.job.customer)\n        .then(customer => {\n          this.job.customer = customer;\n          this.saveJob();\n        })\n        .catch(Notifications.error);\n    }\n  }\n\n  onDeleteClick() {\n    this.dialogService.open({ viewModel: Prompt, model: 'Are you sure you want to delete this job?'})\n      .then((result:DialogResult) => {\n        if(result.wasCancelled) return;\n\n        this.jobService.delete(this.job.toJSON())\n          .then(() => {\n            Notifications.success('Job Deleted');\n            this.router.navigateToRoute('jobs.list');\n          })\n          .catch(Notifications.error);\n      });\n  }\n\n  saveJob(): Promise<Job> {\n    return this.jobService.save(this.job.toJSON())\n      .then(() => {\n        Notifications.success('Job Saved');\n        this.router.navigateToRoute('jobs.list');\n      })\n      .catch((err) => {\n        Notifications.error(err);\n      });\n  }\n\n  saveCustomer(customer: CustomerDocument): Promise<CustomerDocument> {\n    return this.customerService.create(customer.toJSON());\n  }\n}\n\n","import {autoinject, bindable} from 'aurelia-framework';\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\nimport {Job} from \"../../models/job\";\nimport {JobStatus} from \"../../models/job-status\";\nimport {JobType} from \"../../models/job-type\";\nimport {Foreman} from \"../../models/foreman\";\nimport {JobService} from \"../../services/data/job-service\";\nimport {Notifications} from \"../../services/notifications\";\nimport {Authentication, Roles} from '../../services/auth';\nimport {CloseJobArgs} from './close-job';\n\n@autoinject()\nexport class ListItem {\n  @bindable job: Job;\n  expanded: boolean = false;\n  foremen: string[] = Foreman.OPTIONS;\n  jobStatuses: JobStatus[] = JobStatus.OPTIONS;\n  jobManHoursSubscription: Subscription;\n\n  constructor(private element: Element, private jobService: JobService, private auth: Authentication, private events: EventAggregator) {\n    // only office admin can close jobs\n    if (!this.auth.isInRole(Roles.OfficeAdmin)) {\n      var close = _.findIndex(this.jobStatuses, (status) => status.id === JobStatus.CLOSED);\n      if (close !== -1) {\n        this.jobStatuses.splice(close, 1);\n      }\n    }\n  }\n\n  attached() {\n\n    this.jobManHoursSubscription = this.events.subscribe(CloseJobArgs.ModalApprovedEvent, this.onJobManHoursChanged.bind(this));\n\n    // if(isDevice()) {\n    // swipe to reveal delete?\n    // } else {\n\n    $('.dropdown.status', this.element).dropdown({\n      onChange: this.onStatusChanged.bind(this)\n    });\n    $('.dropdown.foreman', this.element).dropdown({\n      onChange: this.onForemanChanged.bind(this)\n    });\n    //}\n  }\n\n  detached() {\n    //if(isDevice()) {\n    // swipe to reveal delete?\n    //} else {\n    $('.dropdown.status', this.element).dropdown('destroy');\n    $('.dropdown.foreman', this.element).dropdown('destroy');\n    //}\n  }\n\n  toggleExpanded() {\n    this.expanded = !this.expanded;\n  }\n\n  get startDateDisplay(): string {\n\n    let display = 'Not Scheduled';\n\n    if (this.job.startDate) {\n      display = moment(this.job.startDate).format('ddd, MMM Do');\n    }\n\n    return display;\n  }\n\n  get endDateDisplay(): string {\n    let display = '';\n\n    if (this.job.endDate) {\n      display = moment(this.job.endDate).format('ddd, MMM Do');\n    }\n\n    return display;\n  }\n\n  get jobStatus(): JobStatus {\n    return _.find(this.jobStatuses, s => s.id == this.job.status);\n  }\n\n  get foremanDisplay(): string {\n    return this.job.foreman || 'Unassigned';\n  }\n\n  get isPending() {\n    return this.job.status === 'pending';\n  }\n\n  get isInProgress() {\n    return this.job.status === JobStatus.PENDING;\n  }\n\n  get isComplete() {\n    return this.job.status === JobStatus.COMPLETE;\n  }\n\n  get isClosed(): boolean {\n    return this.job.status === JobStatus.CLOSED;\n  }\n\n  get isProject() {\n    return this.job.job_type === JobType.PROJECT;\n  }\n\n  get isServiceCall() {\n    return this.job.job_type === JobType.SERVICE_CALL;\n  }\n\n  get jobNumberDisplay() {\n    const prefix = this.job.job_type === JobType.SERVICE_CALL ? 'S' : 'P';\n    return `${prefix}-${this.job.number}`;\n  }\n\n  onStatusChanged(value: string) {\n    this.job.status = value;\n\n    this.save('Status')\n      .then(() => {\n        if (value === JobStatus.CLOSED) {\n          this.events.publish(CloseJobArgs.ShowModalEvent, this.job._id);\n        }\n      });\n  }\n\n  onForemanChanged(value: string) {\n    this.job.foreman = value;\n    this.save('Foreman');\n  }\n\n  onJobManHoursChanged(args: CloseJobArgs) {\n    if (args.jobId === this.job._id) {\n      this.job.manHours = parseInt(args.manHours) || 0;\n      this.save('Status');\n    }\n  }\n\n  save(field: string): Promise<void> {\n    return this.jobService.save(this.job)\n      .then(response => {\n        this.job._rev = response.rev;\n        Notifications.success(`${field} updated`);\n      })\n      .catch(Notifications.error);\n  }\n}\n","import {autoinject} from 'aurelia-framework';\r\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\r\nimport {Authentication, Roles} from '../../services/auth';\r\nimport {log} from '../../services/log'\r\nimport {Database} from '../../services/data/db'\r\nimport {Job} from '../../models/job';\r\nimport {JobType} from '../../models/job-type';\r\nimport {JobStatus} from '../../models/job-status';\r\nimport {JobService} from '../../services/data/job-service';\r\nimport {CloseJobArgs} from './close-job';\r\n\r\n@autoinject()\r\nexport class JobList {\r\n  items: Job[];\r\n  filteredItems: Job[];\r\n  myJobs: boolean = false;\r\n  showOpen: boolean = true;\r\n  showClosed: boolean = false;\r\n  showCompleted: boolean = false;\r\n  reverseSort: boolean = false;\r\n  customerSort: boolean = false;\r\n  showProjects: boolean = true;\r\n  showServiceCalls: boolean = true;\r\n  filtersExpanded: boolean = false;\r\n  closeJobArgs: CloseJobArgs = new CloseJobArgs;\r\n  showModalSubscription: Subscription;\r\n  syncChangeSubscription: Subscription;\r\n\r\n  constructor(private element: Element, private auth: Authentication, private jobService: JobService, private events: EventAggregator) {\r\n    this.showCompleted = auth.isInRole(Roles.OfficeAdmin);\r\n    this.showClosed = auth.isInRole(Roles.OfficeAdmin);\r\n  }\r\n\r\n  attached() {\r\n    const that = this;\r\n    $('.modal.close-job', this.element).modal({\r\n      onApprove: () => {\r\n        this.events.publish(CloseJobArgs.ModalApprovedEvent, that.closeJobArgs);\r\n      }\r\n    });\r\n\r\n    $('.ui.toggle.checkbox', this.element)\r\n      .checkbox({\r\n        onChange: this.filter.bind(this)\r\n      });\r\n\r\n    this.showModalSubscription = this.events.subscribe(CloseJobArgs.ShowModalEvent, this.showCloseJobModal.bind(this));\r\n    this.syncChangeSubscription = this.events.subscribe(Database.SyncChangeEvent, this.refresh.bind(this));\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  detached() {\r\n    $('.modal.close-job', this.element).modal('destroy');\r\n\r\n    this.showModalSubscription.dispose();\r\n  }\r\n\r\n  refresh() {\r\n    this.jobService.getAll()\r\n      .then(items => {\r\n        this.items = items;\r\n        this.filter();\r\n      });\r\n  }\r\n\r\n  filter() {\r\n    const me = this.auth.userInfo().name;\r\n\r\n    const mine = i => !this.myJobs || i.foreman === me;\r\n    const open = i => this.showOpen && (i.status === JobStatus.PENDING || i.status === JobStatus.IN_PROGRESS);\r\n    const completed = i => this.showCompleted && (i.status == JobStatus.COMPLETE);\r\n    const closed = i => this.showClosed && (i.status === JobStatus.CLOSED);\r\n    const projects = i => this.showProjects && i.job_type == JobType.PROJECT;\r\n    const serviceCalls = i => this.showServiceCalls && i.job_type == JobType.SERVICE_CALL;\r\n\r\n    log.debug(`Only show my jobs: ${this.myJobs}`);\r\n    log.debug(`Show open jobs: ${this.showOpen}`);\r\n    log.debug(`Show completed jobs: ${this.showCompleted}`);\r\n    log.debug(`Show closed jobs: ${this.showClosed}`);\r\n    log.debug(`Show projects: ${this.showProjects}`);\r\n    log.debug(`Show service calls: ${this.showServiceCalls}`);\r\n\r\n    let items = _.filter(this.items, i => mine(i) && (open(i) || closed(i) || completed(i)) && (projects(i) || serviceCalls(i))),\r\n        sortedItems = _.sortBy(items, i => {\r\n          if(this.customerSort) {\r\n            return (i.customer.name || '').toString().toLowerCase() + i.number;\r\n          }\r\n\r\n          return parseInt(i.number);\r\n        });\r\n\r\n    if(this.reverseSort) {\r\n      sortedItems.reverse();\r\n    }\r\n\r\n    this.filteredItems = sortedItems;\r\n  }\r\n\r\n  toggleFiltersExpanded() {\r\n    this.filtersExpanded = !this.filtersExpanded;\r\n  }\r\n\r\n  showCloseJobModal(id: string) {\r\n    this.closeJobArgs.jobId = id;\r\n    this.closeJobArgs.manHours = null;\r\n    $('.modal.close-job').modal('show');\r\n  }\r\n\r\n  get isOwner(): boolean {\r\n    return this.auth.isInRole(Roles.Owner);\r\n  }\r\n}\r\n","import {autoinject} from \"aurelia-framework\";\r\nimport {Router} from \"aurelia-router\";\r\nimport {JobService} from '../../services/data/job-service';\r\nimport {CustomerService} from '../../services/data/customer-service';\r\nimport {ActivitiesService} from '../../services/data/activities-service';\r\nimport {Notifications} from '../../services/notifications';\r\nimport {Job, JobDocument} from '../../models/job';\r\nimport {CustomerDocument} from '../../models/customer';\r\nimport {JobType} from '../../models/job-type';\r\nimport {JobStatus} from '../../models/job-status';\r\nimport {BillingType} from \"../../models/billing-type\";\r\nimport {WorkType} from \"../../models/work-type\";\r\nimport {RouteConfig} from \"aurelia-router\";\r\n\r\n@autoinject()\r\nexport class NewJob {\r\n  job: JobDocument;\r\n  customers: CustomerDocument[];\r\n  jobTypes: JobType[] = JobType.OPTIONS;\r\n  jobStatuses: JobStatus[] = JobStatus.OPTIONS;\r\n  billingTypes: BillingType[] = BillingType.OPTIONS;\r\n  workTypes: WorkType[] = WorkType.OPTIONS;\r\n  isFollowup:boolean = false;\r\n\r\n  constructor(private element: Element, private router: Router, private jobService: JobService, private customerService: CustomerService) {\r\n    this.job = new JobDocument();\r\n    customerService.getAll()\r\n      .then(customers => this.customers = customers)\r\n      .catch(Notifications.error);\r\n  }\r\n\r\n  activate(params: any, routeConfig: RouteConfig) {\r\n    routeConfig.title = this.title;\r\n\r\n    if (_.isString(params.type)) {\r\n      this.job.type = params.type;\r\n    }\r\n\r\n    if (params.from) {\r\n      this.jobService.getOne(params.from)\r\n        .then(prev => {\r\n          this.isFollowup = true;\r\n          this.job.customer = prev.customer;\r\n        });\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    $('.dropdown.customer', this.element).dropdown({\r\n      allowAdditions: true,\r\n      hideAdditions: false,\r\n      fullTextSearch: true,\r\n      onChange: (value: string): void => {\r\n        this.job.customer = _.find(this.customers, c => c._id === value);\r\n        if (!this.job.customer) {\r\n          this.job.customer = new CustomerDocument();\r\n          this.job.customer.name = value;\r\n        }\r\n        console.log(this.job.customer);\r\n      }\r\n    });\r\n\r\n    $('#status', this.element).dropdown();\r\n    $('#billingType', this.element).dropdown();\r\n    $('#workType', this.element).dropdown();\r\n    $('.calendar.start', this.element).calendar({\r\n      type: 'date',\r\n      onChange: date => this.job.startDate = moment(date).toDate()\r\n    });\r\n\r\n    const $buttonBar = $('.button-bar', this.element);\r\n    $buttonBar.visibility({\r\n      once: false,\r\n      onBottomPassed: () => {\r\n        $buttonBar.addClass('fixed top');\r\n      },\r\n      onBottomPassedReverse: function () {\r\n        $buttonBar.removeClass('fixed top');\r\n      }\r\n    });\r\n  }\r\n\r\n  detached() {\r\n    $('.dropdown.customer', this.element).dropdown('destroy');\r\n    $('#status', this.element).dropdown('destroy');\r\n    $('#billingType', this.element).dropdown('destroy');\r\n    $('#workType', this.element).dropdown('destroy');\r\n    $('.calendar.start', this.element).calendar('destroy');\r\n    $('.button-bar', this.element).visibility('destroy');\r\n  }\r\n\r\n  get title() {\r\n    return 'New Job';\r\n  }\r\n\r\n  get customer_id(): string {\r\n    return this.job.customer ? this.job.customer._id : null;\r\n  }\r\n\r\n  onIsMultiDayChange() {\r\n    if (this.job.isMultiDay) {\r\n      $('#days', this.element).focus();\r\n    } else {\r\n      this.job.days = null;\r\n    }\r\n  }\r\n\r\n  onSaveClick() {\r\n    if (this.customer_id) {\r\n      this.saveJob()\r\n        .then(() => this.router.navigateToRoute('jobs.list'));\r\n    } else {\r\n      this.saveCustomer(this.job.customer)\r\n        .then(customer => {\r\n          this.job.customer = customer;\r\n          this.saveJob()\r\n            .then(() => this.router.navigateToRoute('jobs.list'));\r\n        })\r\n        .catch(Notifications.error);\r\n    }\r\n  }\r\n\r\n  saveJob(): Promise<Job> {\r\n    return this.jobService.save(this.job.toJSON())\r\n      .then(() => {\r\n        Notifications.success('Job Saved');\r\n      })\r\n      .catch((err) => {\r\n        Notifications.error(err);\r\n      });\r\n  }\r\n\r\n  saveCustomer(customer: CustomerDocument): Promise<CustomerDocument> {\r\n    return this.customerService.create(customer.toJSON());\r\n  }\r\n}\r\n\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"#customer-list .ui.header {\n  margin-bottom: 0;\n}\n",null,"form[name=edit-customer-dialog] {\n  min-width: 500px;\n}\n",null,"@media only screen and (max-width: 767px) {\n  .ui.form .field select.compact,\n  .ui.form .field > .selection.dropdown.compact,\n  .ui.form .fields .field .ui.input.compact {\n    width: 200px;\n  }\n}\n",null,".ui.cards {\n  padding-top: 10px;\n}\n\n@media only screen and (min-width: 1200px) {\n  .ui.container.main {\n    width: calc(~\"100% - \" 50px);\n  }\n}\n",null,"@import (css) '../../node_modules/semantic-ui-css/semantic.css';\n\n.login-form {\n  height: 100%;\n  background-color: #DADADA;\n\n  & > .column {\n    background-color: #ffffff;\n    max-width: 450px;\n  }\n\n  .ui.error.message ul {\n    list-style: none;\n\n    li:before {\n      content: \"\";\n    }\n  }\n}\n",null,null,"@import '../../node_modules/toastr/toastr';\n@import (css) '../../node_modules/semantic-ui-css/semantic.css';\n@import (css) '../../node_modules/semantic-ui/dist/components/calendar.css';\n\n.ui.secondary.pointing.menu .item.logo-item {\n  padding: 0 20px;\n}\n\n.ui.fixed.menu.button-bar.top {\n  top: 0px;\n}\n\n.ui.popup.calendar:focus {\n  outline: none;\n}\n\n@media only screen and (max-width: 767px) {\n  // on mobile, eliminate margin on main menu\n  #main-menu > .ui.container {\n    margin: 0px !important;\n  }\n\n  list-item {\n    width: 100%;\n\n    & > .ui.card {\n      width: 100%;\n\n      .ui.header {\n        margin-top: 10px;\n      }\n    }\n  }\n\n  // hide the Company Name on phones\n  .menu .item.logo-item span {\n    display: none;\n  }\n\n  .ui.cards > .card {\n    width: 100%;\n  }\n\n  .hide-mobile {\n    display: none !important;\n  }\n}\n\n@media only screen and (min-width: 768px) {\n  .hide-desktop {\n    display: none !important;\n  }\n}\n","// Mix-ins\n.borderRadius(@radius) {\n\t-moz-border-radius: @radius;\n\t-webkit-border-radius: @radius;\n\tborder-radius: @radius;\n}\n\n.boxShadow(@boxShadow) {\n\t-moz-box-shadow: @boxShadow;\n\t-webkit-box-shadow: @boxShadow;\n\tbox-shadow: @boxShadow;\n}\n\n.opacity(@opacity) {\n\t@opacityPercent: @opacity * 100;\n\topacity: @opacity;\n\t-ms-filter: ~\"progid:DXImageTransform.Microsoft.Alpha(Opacity=@{opacityPercent})\";\n\tfilter: ~\"alpha(opacity=@{opacityPercent})\";\n}\n\n.wordWrap(@wordWrap: break-word) {\n\t-ms-word-wrap: @wordWrap;\n\tword-wrap: @wordWrap;\n}\n\n// Variables\n@black: #000000;\n@grey: #999999;\n@light-grey: #CCCCCC;\n@white: #FFFFFF;\n@near-black: #030303;\n@green: #51A351;\n@red: #BD362F;\n@blue: #2F96B4;\n@orange: #F89406;\n@default-container-opacity: .8;\n\n// Styles\n.toast-title {\n\tfont-weight: bold;\n}\n\n.toast-message {\n\t.wordWrap();\n\n\ta,\n\tlabel {\n\t\tcolor: @white;\n\t}\n\n\t\ta:hover {\n\t\t\tcolor: @light-grey;\n\t\t\ttext-decoration: none;\n\t\t}\n}\n\n.toast-close-button {\n\tposition: relative;\n\tright: -0.3em;\n\ttop: -0.3em;\n\tfloat: right;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tcolor: @white;\n\t-webkit-text-shadow: 0 1px 0 rgba(255,255,255,1);\n\ttext-shadow: 0 1px 0 rgba(255,255,255,1);\n\t.opacity(0.8);\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: @black;\n\t\ttext-decoration: none;\n\t\tcursor: pointer;\n\t\t.opacity(0.4);\n\t}\n}\n\n/*Additional properties for button version\n iOS requires the button element instead of an anchor tag.\n If you want the anchor version, it requires `href=\"#\"`.*/\nbutton.toast-close-button {\n\tpadding: 0;\n\tcursor: pointer;\n\tbackground: transparent;\n\tborder: 0;\n\t-webkit-appearance: none;\n}\n\n//#endregion\n\n.toast-top-center {\n\ttop: 0;\n\tright: 0;\n\twidth: 100%;\n}\n\n.toast-bottom-center {\n\tbottom: 0;\n\tright: 0;\n\twidth: 100%;\n}\n\n.toast-top-full-width {\n\ttop: 0;\n\tright: 0;\n\twidth: 100%;\n}\n\n.toast-bottom-full-width {\n\tbottom: 0;\n\tright: 0;\n\twidth: 100%;\n}\n\n.toast-top-left {\n\ttop: 12px;\n\tleft: 12px;\n}\n\n.toast-top-right {\n\ttop: 12px;\n\tright: 12px;\n}\n\n.toast-bottom-right {\n\tright: 12px;\n\tbottom: 12px;\n}\n\n.toast-bottom-left {\n\tbottom: 12px;\n\tleft: 12px;\n}\n\n#toast-container {\n\tposition: fixed;\n\tz-index: 999999;\n\t// The container should not be clickable.\n\tpointer-events: none;\n\t* {\n\t\t-moz-box-sizing: border-box;\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t}\n\n\t> div {\n\t\tposition: relative;\n\t\t// The toast itself should be clickable.\n\t\tpointer-events: auto;\n\t\toverflow: hidden;\n\t\tmargin: 0 0 6px;\n\t\tpadding: 15px 15px 15px 50px;\n\t\twidth: 300px;\n\t\t.borderRadius(3px 3px 3px 3px);\n\t\tbackground-position: 15px center;\n\t\tbackground-repeat: no-repeat;\n\t\t.boxShadow(0 0 12px @grey);\n\t\tcolor: @white;\n\t\t.opacity(@default-container-opacity);\n\t}\n\n\t> :hover {\n\t\t.boxShadow(0 0 12px @black);\n\t\t.opacity(1);\n\t\tcursor: pointer;\n\t}\n\n\t> .toast-info {\n\t\tbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=\") !important;\n\t}\n\n\t> .toast-error {\n\t\tbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=\") !important;\n\t}\n\n\t> .toast-success {\n\t\tbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==\") !important;\n\t}\n\n\t> .toast-warning {\n\t\tbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=\") !important;\n\t}\n\n\t/*overrides*/\n\t&.toast-top-center > div,\n\t&.toast-bottom-center > div {\n\t\twidth: 300px;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t&.toast-top-full-width > div,\n\t&.toast-bottom-full-width > div {\n\t\twidth: 96%;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n}\n\n.toast {\n\tbackground-color: @near-black;\n}\n\n.toast-success {\n\tbackground-color: @green;\n}\n\n.toast-error {\n\tbackground-color: @red;\n}\n\n.toast-info {\n\tbackground-color: @blue;\n}\n\n.toast-warning {\n\tbackground-color: @orange;\n}\n\n.toast-progress {\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\theight: 4px;\n\tbackground-color: @black;\n\t.opacity(0.4);\n}\n\n/*Responsive Design*/\n\n@media all and (max-width: 240px) {\n\t#toast-container {\n\n\t\t> div {\n\t\t\tpadding: 8px 8px 8px 50px;\n\t\t\twidth: 11em;\n\t\t}\n\n\t\t& .toast-close-button {\n\t\t\tright: -0.2em;\n\t\t\ttop: -0.2em;\n\t\t}\n\t}\n}\n\n@media all and (min-width: 241px) and (max-width: 480px) {\n\t#toast-container {\n\t\t> div {\n\t\t\tpadding: 8px 8px 8px 50px;\n\t\t\twidth: 18em;\n\t\t}\n\n\t\t& .toast-close-button {\n\t\t\tright: -0.2em;\n\t\t\ttop: -0.2em;\n\t\t}\n\t}\n}\n\n@media all and (min-width: 481px) and (max-width: 768px) {\n\t#toast-container {\n\t\t> div {\n\t\t\tpadding: 15px 15px 15px 50px;\n\t\t\twidth: 25em;\n\t\t}\n\t}\n}\n",null,null,null],"sourceRoot":"..\\src"}